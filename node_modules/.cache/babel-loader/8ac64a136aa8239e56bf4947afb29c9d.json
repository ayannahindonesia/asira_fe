{"ast":null,"code":"import axios from 'axios';\nimport Cookie from 'universal-cookie';\nimport { serverUrl } from '../url';\nconst kukie = new Cookie();\nexport async function getPermintaanPinjamanFunction(param, next) {\n  return new Promise(async resolve => {\n    const config = {\n      headers: {\n        'Authorization': \"Bearer \" + kukie.get('tokenClient')\n      }\n    };\n    let filter = '';\n\n    for (const key in param) {\n      filter += \"&\".concat(key, \"=\").concat(param[key]);\n    }\n\n    axios.get(serverUrl + \"lender/loanrequest_list?orderby=id&sort=DESC\".concat(filter), config).then(res => {\n      param = res;\n\n      if (next) {\n        resolve(next(param));\n      }\n\n      resolve(param);\n    }).catch(err => {\n      const error = err.response && err.response.data && err.response.data.message && \"Error : \".concat(err.response.data.message.toString().toUpperCase());\n      param.error = error;\n      resolve(param);\n    });\n  });\n}\nexport async function getPermintaanPinjamanDetailFunction(param, next) {\n  return new Promise(async resolve => {\n    const config = {\n      headers: {\n        'Authorization': \"Bearer \" + kukie.get('tokenClient')\n      }\n    };\n    axios.get(serverUrl + \"lender/loanrequest_list/\".concat(param.id, \"/detail\"), config).then(res => {\n      param.dataLender = res.data;\n\n      if (next) {\n        resolve(next(param));\n      }\n\n      resolve(param);\n    }).catch(err => {\n      const error = err.response && err.response.data && err.response.data.message && \"Error : \".concat(err.response.data.message.toString().toUpperCase());\n      param.error = error;\n      resolve(param);\n    });\n  });\n}\nexport async function CSVDownloadFunction(param) {\n  return new Promise(async resolve => {\n    const config = {\n      headers: {\n        'Authorization': \"Bearer \" + kukie.get('tokenClient')\n      }\n    };\n    axios.get(serverUrl + \"lender/loanrequest_list/download?id=\".concat(param.id), config).then(res => {\n      resolve(res);\n    }).catch(err => {\n      const error = err.response && err.response.data && err.response.data.message && \"Error : \".concat(err.response.data.message.toString().toUpperCase());\n      param.error = error;\n      resolve(param);\n    });\n  });\n}","map":{"version":3,"sources":["C:\\Users\\pc\\Desktop\\asira_fe\\src\\components\\permintaanPinjaman\\saga.js"],"names":["axios","Cookie","serverUrl","kukie","getPermintaanPinjamanFunction","param","next","Promise","resolve","config","headers","get","filter","key","then","res","catch","err","error","response","data","message","toString","toUpperCase","getPermintaanPinjamanDetailFunction","id","dataLender","CSVDownloadFunction"],"mappings":"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","sourcesContent":["import axios from 'axios'\r\nimport Cookie from 'universal-cookie'\r\nimport {serverUrl} from '../url'\r\nconst kukie = new Cookie()\r\n\r\n\r\n\r\nexport async function getPermintaanPinjamanFunction (param , next){\r\n    return new Promise (async (resolve)=>{\r\n        const config = {\r\n            headers: {'Authorization': \"Bearer \" + kukie.get('tokenClient')}\r\n        };\r\n       \r\n        let filter =''\r\n\r\n        for (const key in param){\r\n            filter += `&${key}=${param[key]}`\r\n        }\r\n\r\n      axios.get(serverUrl+`lender/loanrequest_list?orderby=id&sort=DESC${filter}`,config)\r\n      .then((res)=>{\r\n          param = res\r\n        if(next){\r\n            resolve(next(param))\r\n        }\r\n            resolve(param)\r\n         \r\n      })\r\n      .catch((err)=>{\r\n        const error = err.response && err.response.data && err.response.data.message && `Error : ${err.response.data.message.toString().toUpperCase()}`\r\n        param.error = error;\r\n        resolve(param);\r\n        })\r\n    })\r\n}\r\n\r\nexport async function getPermintaanPinjamanDetailFunction (param ,next) {\r\n    return new Promise(async (resolve)=>{\r\n        const config = {\r\n            headers: {'Authorization': \"Bearer \" + kukie.get('tokenClient')}\r\n          };\r\n        axios.get(serverUrl+`lender/loanrequest_list/${param.id}/detail`,config)\r\n        .then((res)=>{\r\n            param.dataLender = res.data\r\n            if(next){\r\n                resolve(next(param))\r\n            }\r\n            resolve(param)\r\n        })\r\n        .catch((err)=>{\r\n            const error = err.response && err.response.data && err.response.data.message && `Error : ${err.response.data.message.toString().toUpperCase()}`\r\n            param.error = error;\r\n            resolve(param);\r\n        })\r\n    })\r\n    \r\n}\r\n\r\nexport async function CSVDownloadFunction (param){\r\n    return new Promise(async (resolve)=>{\r\n        const config = {\r\n        headers: {'Authorization': \"Bearer \" + kukie.get('tokenClient')}\r\n        };\r\n        axios.get(serverUrl+`lender/loanrequest_list/download?id=${param.id}`,config)\r\n        .then((res)=>{\r\n            resolve(res)\r\n        })\r\n        .catch((err)=>{\r\n        const error = err.response && err.response.data && err.response.data.message && `Error : ${err.response.data.message.toString().toUpperCase()}`\r\n        param.error = error;\r\n        resolve(param);\r\n        })\r\n    })\r\n}"]},"metadata":{},"sourceType":"module"}