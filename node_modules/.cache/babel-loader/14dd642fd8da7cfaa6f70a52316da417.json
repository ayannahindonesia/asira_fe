{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pc\\\\Desktop\\\\asira_fe\\\\src\\\\components\\\\pencairan\\\\pencairanList.js\";\nimport React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport Loader from 'react-loader-spinner';\nimport { Link } from 'react-router-dom'; // import SubTable from './../subComponent/SubTable'\n\nimport localeInfo from 'rc-pagination/lib/locale/id_ID';\nimport Pagination from 'rc-pagination';\nimport { getPermintaanPinjamanFunction } from '../permintaanPinjaman/saga';\nimport { handleFormatDate, checkPermission } from '../global/globalFunction';\nimport { getTokenClient } from '../index/token'; // const columnDataRole = [\n//     {\n//         id: 'id',\n//         numeric: 'true',\n//         disablePadding: false,\n//         label: 'Id Role Permission',\n//     },\n//     {\n//         id: 'name',\n//         numeric: 'false',\n//         disablePadding: true,\n//         label: 'Nama Role',\n//     },\n//     { id: 'status', numeric: 'false', disablePadding: true, label: 'Status' },\n//     {\n//         id: 'updated_time',\n//         numeric: 'false',\n//         disablePadding: false,\n//         label: 'Update Date',\n//         time: 'true',\n//     },\n// ]\n\nclass PencairanList extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this._isMounted = false;\n    this.state = {\n      loading: true,\n      listPencairan: [],\n      page: 1,\n      rowsPerPage: 10,\n      search: ''\n    };\n\n    this.refresh = async function () {\n      const param = {\n        disburse_status: 'confirmed',\n        status: 'approved'\n      };\n      param.search_all = this.state.search;\n      param.rows = this.state.rowsPerPage;\n      param.page = this.state.page;\n      const data = await getPermintaanPinjamanFunction(param);\n\n      if (data) {\n        if (!data.error) {\n          this.setState({\n            listPencairan: data.loanRequest.data,\n            totalData: data.loanRequest.total_data,\n            loading: false\n          });\n        } else {\n          this.setState({\n            errorMessage: data.error,\n            loading: false\n          });\n        }\n      }\n    };\n\n    this.renderJSX = () => {\n      if (this.state.loading) {\n        return React.createElement(\"tr\", {\n          key: \"loader\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          align: \"center\",\n          colSpan: 6,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90\n          },\n          __self: this\n        }, React.createElement(Loader, {\n          type: \"Circles\",\n          color: \"#00BFFF\",\n          height: \"40\",\n          width: \"40\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91\n          },\n          __self: this\n        })));\n      } else if (!this.state.listPencairan || this.state.listPencairan && this.state.listPencairan.length === 0) {\n        return React.createElement(\"tr\", {\n          key: \"noData\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 102\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          align: \"center\",\n          colSpan: 6,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103\n          },\n          __self: this\n        }, \" No Data \"));\n      } else {\n        var jsx = this.state.listPencairan && this.state.listPencairan.map((val, index) => {\n          return React.createElement(\"tr\", {\n            key: index,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 109\n            },\n            __self: this\n          }, React.createElement(\"td\", {\n            align: \"center\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 110\n            },\n            __self: this\n          }, this.state.page > 1 ? index + 1 + this.state.rowsPerPage * (this.state.page - 1) : index + 1), React.createElement(\"td\", {\n            align: \"center\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 111\n            },\n            __self: this\n          }, val.id), React.createElement(\"td\", {\n            align: \"center\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 112\n            },\n            __self: this\n          }, val.owner_name), React.createElement(\"td\", {\n            align: \"center\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 113\n            },\n            __self: this\n          }, handleFormatDate(val.disburse_date)), React.createElement(\"td\", {\n            align: \"center\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 114\n            },\n            __self: this\n          }, val.status && val.status.toString().toLowerCase() === 'approved' && val.disburse_status && val.disburse_status.toString().toLowerCase() === 'confirmed' ? 'Telah Dicairkan' : 'Telah Diterima'), React.createElement(\"td\", {\n            align: \"center\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 115\n            },\n            __self: this\n          }, checkPermission('lender_loan_request_detail') && React.createElement(Link, {\n            to: \"/pencairanDetail/\".concat(val.id),\n            className: \"mr-2\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 117\n            },\n            __self: this\n          }, React.createElement(\"i\", {\n            className: \"fas fa-eye\",\n            style: {\n              color: \"black\",\n              fontSize: \"18px\"\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 118\n            },\n            __self: this\n          }))));\n        });\n        return jsx;\n      }\n    };\n\n    this.onChangePage = (current, pageSize) => {\n      this.setState({\n        loading: true,\n        page: current\n      }, () => {\n        this.refresh();\n      });\n    };\n\n    this.changeSearch = e => {\n      this.setState({\n        loading: true,\n        page: 1,\n        search: e.target.value\n      }, () => {\n        this.refresh();\n      });\n    };\n  }\n\n  componentDidMount() {\n    this._isMounted = true;\n    this.refresh();\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n  render() {\n    if (getTokenClient()) {\n      return React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-7\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        className: \"mt-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, \"Pencairan - Loan Telah Dicairkan\")), React.createElement(\"div\", {\n        className: \"col-8\",\n        style: {\n          color: \"red\",\n          fontSize: \"15px\",\n          textAlign: 'left'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, this.state.errorMessage), React.createElement(\"div\", {\n        className: \"col-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"input-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        placeholder: \"Search\",\n        value: this.state.search,\n        onChange: this.changeSearch,\n        style: {\n          width: \"150px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"input-group-addon ml-2\",\n        style: {\n          border: \"1px solid grey\",\n          width: \"35px\",\n          height: \"35px\",\n          paddingTop: \"2px\",\n          borderRadius: \"4px\",\n          paddingLeft: \"2px\",\n          marginTop: \"6px\",\n          cursor: \"pointer\"\n        },\n        onClick: this.onBtnSearch,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fas fa-search\",\n        style: {\n          fontSize: \"28px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }))))), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }), React.createElement(\"table\", {\n        className: \"table table-hover\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        className: \"table-warning\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        className: \"text-center\",\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, \"#\"), React.createElement(\"th\", {\n        className: \"text-center\",\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }, \"ID Pinjaman\"), React.createElement(\"th\", {\n        className: \"text-center\",\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, \"Nama Nasabah\"), React.createElement(\"th\", {\n        className: \"text-center\",\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, \"Tanggal Pencairan\"), React.createElement(\"th\", {\n        className: \"text-center\",\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }, \"Status\"), React.createElement(\"th\", {\n        className: \"text-center\",\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      }, \"Action\"))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }, this.renderJSX())), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }), React.createElement(\"nav\", {\n        className: \"navbar\",\n        style: {\n          float: \"right\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }, React.createElement(Pagination, {\n        className: \"ant-pagination\",\n        showTotal: (total, range) => \"\".concat(range[0], \" - \").concat(range[1], \" of \").concat(total, \" items\"),\n        total: this.state.totalData,\n        pageSize: this.state.rowsPerPage,\n        onChange: this.onChangePage,\n        locale: localeInfo,\n        current: this.state.page,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      })));\n    }\n\n    if (!getTokenClient()) {\n      return React.createElement(Redirect, {\n        to: \"/login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220\n        },\n        __self: this\n      });\n    }\n  }\n\n}\n\nexport default PencairanList;","map":{"version":3,"sources":["C:\\Users\\pc\\Desktop\\asira_fe\\src\\components\\pencairan\\pencairanList.js"],"names":["React","Redirect","Loader","Link","localeInfo","Pagination","getPermintaanPinjamanFunction","handleFormatDate","checkPermission","getTokenClient","PencairanList","Component","_isMounted","state","loading","listPencairan","page","rowsPerPage","search","refresh","param","disburse_status","status","search_all","rows","data","error","setState","loanRequest","totalData","total_data","errorMessage","renderJSX","length","jsx","map","val","index","id","owner_name","disburse_date","toString","toLowerCase","color","fontSize","onChangePage","current","pageSize","changeSearch","e","target","value","componentDidMount","componentWillUnmount","render","textAlign","width","border","height","paddingTop","borderRadius","paddingLeft","marginTop","cursor","onBtnSearch","float","total","range"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { Redirect } from 'react-router-dom'\r\nimport Loader from 'react-loader-spinner'\r\nimport {Link} from 'react-router-dom'\r\n// import SubTable from './../subComponent/SubTable'\r\nimport localeInfo from 'rc-pagination/lib/locale/id_ID'\r\nimport Pagination from 'rc-pagination';\r\nimport { getPermintaanPinjamanFunction } from '../permintaanPinjaman/saga';\r\nimport { handleFormatDate, checkPermission } from '../global/globalFunction';\r\nimport { getTokenClient } from '../index/token';\r\n\r\n\r\n\r\n// const columnDataRole = [\r\n//     {\r\n//         id: 'id',\r\n//         numeric: 'true',\r\n//         disablePadding: false,\r\n//         label: 'Id Role Permission',\r\n//     },\r\n//     {\r\n//         id: 'name',\r\n//         numeric: 'false',\r\n//         disablePadding: true,\r\n//         label: 'Nama Role',\r\n//     },\r\n//     { id: 'status', numeric: 'false', disablePadding: true, label: 'Status' },\r\n//     {\r\n//         id: 'updated_time',\r\n//         numeric: 'false',\r\n//         disablePadding: false,\r\n//         label: 'Update Date',\r\n//         time: 'true',\r\n//     },\r\n// ]\r\n\r\nclass PencairanList extends React.Component{\r\n    _isMounted = false;\r\n\r\n    state = {\r\n        loading:true, \r\n        listPencairan: [],\r\n        page: 1,\r\n        rowsPerPage: 10,\r\n        search: '',\r\n    }\r\n\r\n    componentDidMount(){\r\n        this._isMounted = true;\r\n        this.refresh()\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this._isMounted = false;\r\n    }\r\n\r\n    refresh = async function(){\r\n        const param = {\r\n            disburse_status: 'confirmed',\r\n            status: 'approved',\r\n        };\r\n\r\n        param.search_all = this.state.search;\r\n        param.rows = this.state.rowsPerPage;\r\n        param.page = this.state.page;\r\n\r\n        const data = await getPermintaanPinjamanFunction(param);\r\n\r\n        if(data) {\r\n            if(!data.error) {\r\n                this.setState({\r\n                    listPencairan: data.loanRequest.data,\r\n                    totalData: data.loanRequest.total_data,\r\n                    loading: false,\r\n                })\r\n            } else {\r\n                this.setState({\r\n                    errorMessage: data.error,\r\n                    loading: false,\r\n                })\r\n            }      \r\n        }\r\n    }\r\n\r\n    renderJSX = () => {\r\n\r\n        if (this.state.loading){\r\n            return  (\r\n              <tr  key=\"loader\">\r\n                <td align=\"center\" colSpan={6}>\r\n                    <Loader \r\n                        type=\"Circles\"\r\n                        color=\"#00BFFF\"\r\n                        height=\"40\"\t\r\n                        width=\"40\"\r\n                    />   \r\n                </td>\r\n              </tr>\r\n            )\r\n        } else if(!this.state.listPencairan || (this.state.listPencairan && this.state.listPencairan.length === 0)) {\r\n            return (\r\n                <tr key='noData'>\r\n                    <td align=\"center\" colSpan={6}> No Data </td>\r\n                </tr>\r\n            )\r\n        } else {\r\n            var jsx = this.state.listPencairan && this.state.listPencairan.map((val,index)=>{\r\n                return(\r\n                    <tr key={index}>\r\n                        <td align=\"center\">{this.state.page >1 ? (index+1 + this.state.rowsPerPage*(this.state.page-1)) : index+1}</td>\r\n                        <td align=\"center\">{val.id}</td>\r\n                        <td align=\"center\">{val.owner_name}</td>\r\n                        <td align=\"center\">{handleFormatDate(val.disburse_date)}</td>\r\n                        <td align=\"center\">{val.status && val.status.toString().toLowerCase() === 'approved' && val.disburse_status && val.disburse_status.toString().toLowerCase() === 'confirmed' ? 'Telah Dicairkan' : 'Telah Diterima'}</td>\r\n                        <td align=\"center\">\r\n                            { checkPermission('lender_loan_request_detail') && \r\n                                <Link to={`/pencairanDetail/${val.id}`} className=\"mr-2\">\r\n                                    <i className=\"fas fa-eye\" style={{color:\"black\",fontSize:\"18px\"}}/>\r\n                                </Link>\r\n                            }\r\n                        </td>\r\n                    </tr>  \r\n                )\r\n                       \r\n            })\r\n                         \r\n            return jsx;\r\n        }\r\n        \r\n        \r\n        \r\n\r\n    }\r\n\r\n    onChangePage = (current, pageSize) => {\r\n        this.setState({\r\n            loading:true,\r\n            page:current,\r\n        }, () => {\r\n            this.refresh();\r\n        })\r\n    }\r\n    \r\n    changeSearch = (e) => {\r\n        this.setState({\r\n            loading:true,\r\n            page: 1,\r\n            search: e.target.value,\r\n        }, () => {\r\n            this.refresh();\r\n        })\r\n    }\r\n\r\n    render(){\r\n        \r\n        \r\n        if(getTokenClient()){\r\n            return(\r\n                <div className=\"container\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-7\">\r\n                             <h2 className=\"mt-3\">Pencairan - Loan Telah Dicairkan</h2>\r\n                        </div>\r\n                        <div className=\"col-8\" style={{color:\"red\",fontSize:\"15px\",textAlign:'left'}}>\r\n                            {this.state.errorMessage}\r\n                        </div>  \r\n                        <div className=\"col-4\">\r\n                            <div className=\"input-group\">\r\n                                <input type=\"text\" className=\"form-control\" placeholder=\"Search\" value={this.state.search} onChange={this.changeSearch} style={{width:\"150px\"}} />\r\n                                <span className=\"input-group-addon ml-2\" style={{border:\"1px solid grey\",width:\"35px\",height:\"35px\",paddingTop:\"2px\",borderRadius:\"4px\",paddingLeft:\"2px\",marginTop:\"6px\",cursor:\"pointer\"}} onClick={this.onBtnSearch}> \r\n                                <i className=\"fas fa-search\" style={{fontSize:\"28px\"}} ></i></span>\r\n                            </div>\r\n                        </div> \r\n                    </div>\r\n                   <hr/>\r\n\r\n                   {/* <SubTable\r\n                        // headerTitle={'List Application'}\r\n                        // search={this.state.flagAdd ? searchBar : null}\r\n                        columnData={columnDataRole}\r\n                        data={this.state.listPencairan}\r\n                        idKey={'id'}\r\n                        // onAddFunction={\r\n                        //     // this.state.flagAdd ? this.handleAddApplication : null\r\n                        // }\r\n                        // onRowClickedFunction={this.handleViewApplication}\r\n                    /> */}\r\n                   <table className=\"table table-hover\">\r\n                   <thead className=\"table-warning\">\r\n                        <tr >\r\n                            <th className=\"text-center\" scope=\"col\">#</th>\r\n                            <th className=\"text-center\" scope=\"col\">ID Pinjaman</th>\r\n                            <th className=\"text-center\" scope=\"col\">Nama Nasabah</th>\r\n                            <th className=\"text-center\" scope=\"col\">Tanggal Pencairan</th>\r\n                            <th className=\"text-center\" scope=\"col\">Status</th>\r\n                            <th className=\"text-center\" scope=\"col\">Action</th>\r\n                        </tr>     \r\n                    </thead>\r\n                       <tbody>\r\n                          {this.renderJSX()}\r\n                       </tbody>\r\n                   </table>\r\n                   <hr></hr>\r\n                    <nav className=\"navbar\" style={{float:\"right\"}}> \r\n\r\n                        <Pagination className=\"ant-pagination\"  \r\n                            showTotal={(total, range) => `${range[0]} - ${range[1]} of ${total} items`}\r\n                            total={this.state.totalData}\r\n                            pageSize={this.state.rowsPerPage}\r\n                            onChange={this.onChangePage}\r\n                            locale={localeInfo}\r\n                            current={this.state.page}\r\n                        />     \r\n                    </nav>\r\n                </div>\r\n            )\r\n        }\r\n        if(!getTokenClient()){\r\n            return (\r\n                <Redirect to='/login' />\r\n            )    \r\n        }\r\n       \r\n    }\r\n}\r\n\r\nexport default PencairanList;"]},"metadata":{},"sourceType":"module"}