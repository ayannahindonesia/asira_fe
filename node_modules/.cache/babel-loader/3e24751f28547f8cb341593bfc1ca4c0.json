{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\pc\\\\Desktop\\\\asira_fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\pc\\\\Desktop\\\\asira_fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport { getProfileUser } from \"../index/token\";\nexport function padLeft(dataInt, pjg) {\n  var str = dataInt;\n\n  for (var w = 0; w < pjg - dataInt.toString().length; w++) {\n    str = \"0\" + str;\n  }\n\n  return str;\n}\nexport function copyArray(arrOld) {\n  var arrNew = [];\n\n  for (var i = 0; i < arrOld.length; i++) {\n    var item = arrOld[i];\n    var objItem = {};\n\n    for (var key in item) {\n      objItem[key] = item[key];\n    }\n\n    arrNew.push(objItem);\n  }\n\n  return arrNew;\n}\nexport function handleFormatDate(dateBefore) {\n  var dateBeforeNow = dateBefore;\n\n  if (dateBeforeNow && dateBeforeNow.toString().includes('T')) {\n    dateBeforeNow = dateBeforeNow.toString().split('T')[0];\n  }\n\n  var dateAfter = new Date(dateBeforeNow);\n  return dateAfter.getFullYear() > 1700 ? \"\".concat(dateAfter.getDate(), \" \").concat(getMonthNow(dateAfter.getMonth().toString()), \" \").concat(dateAfter.getFullYear()) : '';\n}\n;\nexport function getMonthNow(bulanNow) {\n  var bulan = '';\n\n  if (bulanNow) {\n    if (bulanNow.toString() === '0') {\n      bulan = 'Januari';\n    } else if (bulanNow.toString() === '1') {\n      bulan = 'Februari';\n    } else if (bulanNow.toString() === '2') {\n      bulan = 'Maret';\n    } else if (bulanNow.toString() === '3') {\n      bulan = 'April';\n    } else if (bulanNow.toString() === '4') {\n      bulan = 'Mei';\n    } else if (bulanNow.toString() === '5') {\n      bulan = 'Juni';\n    } else if (bulanNow.toString() === '6') {\n      bulan = 'Juli';\n    } else if (bulanNow.toString() === '7') {\n      bulan = 'Agustus';\n    } else if (bulanNow.toString() === '8') {\n      bulan = 'September';\n    } else if (bulanNow.toString() === '9') {\n      bulan = 'Oktober';\n    } else if (bulanNow.toString() === '10') {\n      bulan = 'November';\n    } else if (bulanNow.toString() === '11') {\n      bulan = 'Desember';\n    }\n  }\n\n  return bulan;\n}\nexport function deleteSeparator(number, separator) {\n  while (number.includes(separator)) {\n    number = number.replace(separator, \"\");\n  }\n\n  return number;\n}\nexport function isNumeric(value) {\n  return !isNaN(parseFloat(value)) && isFinite(value);\n}\nexport function formatNumber(number, money) {\n  number = number && number.toString().trim() || '';\n  number = deleteSeparator(number, \",\");\n  var floatingNumber = false;\n\n  if (number.includes('.')) {\n    var numberSplit = number.split('.');\n    floatingNumber = numberSplit[1];\n    number = numberSplit[0];\n    floatingNumber = floatingNumber.substr(0, 2);\n  }\n\n  var pjg = number.length;\n\n  if (!isNumeric(number)) {\n    pjg = pjg - 1;\n    number = number.substr(0, pjg);\n  }\n\n  var tmp = \"\";\n\n  if (pjg > 3) {\n    while (pjg > 3) {\n      pjg -= 3;\n      tmp = number.substr(pjg, 3) + \".\" + tmp;\n    }\n\n    if (pjg <= 3) {\n      tmp = number.substr(0, pjg) + \".\" + tmp;\n    }\n\n    tmp = tmp.substr(0, tmp.length - 1);\n  } else {\n    tmp = number;\n  }\n\n  if (money && tmp.length !== 0) {\n    tmp += ',00';\n  }\n\n  return tmp.toString().length !== 0 ? \"\".concat(tmp).concat(floatingNumber ? \",\".concat(floatingNumber) : '') : '-';\n}\nexport function checkPermission(stringPermission) {\n  var flag = false;\n  var listPermission = getProfileUser() && JSON.parse(getProfileUser()) && JSON.parse(getProfileUser()).permissions || [];\n\n  for (var key in listPermission) {\n    var listPermissionChild = listPermission[key] && listPermission[key].toString().toLowerCase().split(' ');\n\n    for (var keyChild in listPermissionChild) {\n      if (listPermissionChild[keyChild] && listPermissionChild[keyChild].toString().toLowerCase() === 'all') {\n        flag = true;\n        break;\n      }\n\n      if (typeof stringPermission === 'object') {\n        for (var keyPermit in stringPermission) {\n          if (stringPermission[keyPermit] && listPermissionChild[keyChild] && listPermissionChild[keyChild].toString().toLowerCase() === stringPermission[keyPermit].toString().toLowerCase()) {\n            flag = true;\n            break;\n          }\n        }\n      } else {\n        if (stringPermission && listPermissionChild[keyChild] && listPermissionChild[keyChild].toString().toLowerCase() === stringPermission.toString().toLowerCase()) {\n          flag = true;\n          break;\n        }\n      }\n    }\n\n    if (flag) {\n      break;\n    }\n  }\n\n  if (stringPermission === 'keluar') {\n    return true;\n  }\n\n  return flag;\n}\nexport function decryptImage(textImage) {\n  if (textImage) {\n    var crypto = require(\"crypto\");\n\n    var algorithm = 'aes-256-cfb';\n    var keyStr = \"BpLnfgDsc3WD9F3qap394rjd239smsdk\";\n    var contents = Buffer.from(textImage, 'base64');\n    var iv = contents.slice(0, 16);\n    var textBytes = contents.slice(16);\n    var decipher = crypto.createDecipheriv(algorithm, keyStr, iv);\n    var imageUrl = decipher.update(textBytes, '', 'utf8');\n    imageUrl += decipher.final('utf8');\n    return imageUrl.includes('http') ? imageUrl : textImage;\n  }\n\n  return '';\n}\nexport function formatMoney(number) {\n  return number.toLocaleString('in-RP', {\n    style: 'currency',\n    currency: 'IDR'\n  });\n}\nexport function findAmount(dataFees, amountPinjamanPokok) {\n  var feeNew = '';\n\n  if (dataFees && amountPinjamanPokok) {\n    if (dataFees.toString().toLowerCase().includes('%')) {\n      feeNew = \"\".concat(parseFloat(dataFees).toFixed(2), \"%\");\n      feeNew += \" atau \".concat(formatMoney(parseInt(dataFees) * amountPinjamanPokok / 100));\n    } else {\n      feeNew = \"\".concat(parseFloat(parseInt(dataFees) * 100 / amountPinjamanPokok).toFixed(2), \"%\");\n      feeNew += \" atau \".concat(formatMoney(parseInt(dataFees)));\n    }\n  }\n\n  return feeNew;\n}\nexport function destructErrorMessage(objError) {\n  var errorMessage = 'Error : ';\n  var integerError = 0;\n\n  if (objError && objError.details) {\n    var errDetail = objError.details;\n\n    for (var key in errDetail) {\n      if (errDetail[key] && errDetail[key].toString() && errDetail[key].toString().trim().length !== 0) {\n        if (integerError !== 0) {\n          errorMessage += ', ';\n        }\n\n        errorMessage += \"\".concat(key, \" \").concat(errDetail[key]);\n        integerError += 1;\n      }\n    }\n\n    if (integerError < 1) {\n      errorMessage += \" \".concat(objError.message);\n    }\n  } else if (objError && !objError.details && objError.message) {\n    errorMessage += \" \".concat(objError.message);\n  }\n\n  return errorMessage;\n}\nexport function changeFileToBase64(_x) {\n  return _changeFileToBase.apply(this, arguments);\n}\n\nfunction _changeFileToBase() {\n  _changeFileToBase = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(file) {\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            return _context.abrupt(\"return\", new Promise(function (resolve, reject) {\n              var reader = new FileReader();\n              reader.readAsDataURL(file);\n\n              reader.onloadend = function (e) {\n                resolve(e.target.result);\n              };\n\n              reader.onerror = function (error) {\n                return resolve({\n                  error: error\n                });\n              };\n            }));\n\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _changeFileToBase.apply(this, arguments);\n}","map":{"version":3,"sources":["C:/Users/pc/Desktop/asira_fe/src/components/global/globalFunction.js"],"names":["getProfileUser","padLeft","dataInt","pjg","str","w","toString","length","copyArray","arrOld","arrNew","i","item","objItem","key","push","handleFormatDate","dateBefore","dateBeforeNow","includes","split","dateAfter","Date","getFullYear","getDate","getMonthNow","getMonth","bulanNow","bulan","deleteSeparator","number","separator","replace","isNumeric","value","isNaN","parseFloat","isFinite","formatNumber","money","trim","floatingNumber","numberSplit","substr","tmp","checkPermission","stringPermission","flag","listPermission","JSON","parse","permissions","listPermissionChild","toLowerCase","keyChild","keyPermit","decryptImage","textImage","crypto","require","algorithm","keyStr","contents","Buffer","from","iv","slice","textBytes","decipher","createDecipheriv","imageUrl","update","final","formatMoney","toLocaleString","style","currency","findAmount","dataFees","amountPinjamanPokok","feeNew","toFixed","parseInt","destructErrorMessage","objError","errorMessage","integerError","details","errDetail","message","changeFileToBase64","file","Promise","resolve","reject","reader","FileReader","readAsDataURL","onloadend","e","target","result","onerror","error"],"mappings":"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","sourcesContent":["import { getProfileUser } from \"../index/token\";\r\n\r\nexport function padLeft(dataInt, pjg) {\r\n  let str = dataInt;\r\n  for (let w = 0; w < pjg - dataInt.toString().length; w++) {\r\n    str = \"0\" + str;\r\n  }\r\n  return str;\r\n}\r\n\r\nexport function copyArray(arrOld) {\r\n  let arrNew = []\r\n  for(let i=0;i<arrOld.length;i++){\r\n    let item = arrOld[i]\r\n    let objItem = {}\r\n    for (let key in item) {\r\n      objItem[key] = item[key]\r\n    }\r\n    arrNew.push(objItem)\r\n  }\r\n  return arrNew\r\n}\r\n\r\nexport function handleFormatDate (dateBefore){\r\n  let dateBeforeNow = dateBefore;\r\n\r\n  if(dateBeforeNow && dateBeforeNow.toString().includes('T')) {\r\n    dateBeforeNow = dateBeforeNow.toString().split('T')[0];\r\n  }\r\n\r\n  let dateAfter = new Date(dateBeforeNow);\r\n\r\n  return dateAfter.getFullYear() > 1700 ? `${dateAfter.getDate()} ${getMonthNow(dateAfter.getMonth().toString())} ${dateAfter.getFullYear()}` : '';\r\n};\r\n\r\nexport function getMonthNow(bulanNow) {\r\n  let bulan = '';\r\n\r\n  if(bulanNow) {\r\n    if(bulanNow.toString() === '0') {\r\n      bulan = 'Januari';\r\n    } else if(bulanNow.toString() === '1') {\r\n      bulan = 'Februari';\r\n    } else if(bulanNow.toString() === '2') {\r\n      bulan = 'Maret';\r\n    } else if(bulanNow.toString() === '3') {\r\n      bulan = 'April';\r\n    } else if(bulanNow.toString() === '4') {\r\n      bulan = 'Mei';\r\n    } else if(bulanNow.toString() === '5') {\r\n      bulan = 'Juni';\r\n    } else if(bulanNow.toString() === '6') {\r\n      bulan = 'Juli';\r\n    } else if(bulanNow.toString() === '7') {\r\n      bulan = 'Agustus';\r\n    } else if(bulanNow.toString() === '8') {\r\n      bulan = 'September';\r\n    } else if(bulanNow.toString() === '9') {\r\n      bulan = 'Oktober';\r\n    } else if(bulanNow.toString() === '10') {\r\n      bulan = 'November';\r\n    } else if(bulanNow.toString() === '11') {\r\n      bulan = 'Desember';\r\n    }\r\n  }\r\n\r\n\r\n\r\n  return bulan\r\n}\r\n\r\nexport function deleteSeparator(number, separator) {\r\n  while(number.includes(separator)){\r\n    number = number.replace(separator,\"\")\r\n  }\r\n  return number\r\n}\r\n\r\nexport function isNumeric(value) {\r\n  return !isNaN(parseFloat(value)) && isFinite(value);\r\n}\r\n\r\nexport function formatNumber(number,money) {\r\n  number = (number && number.toString().trim()) || ''\r\n  number = deleteSeparator(number,\",\")\r\n  let floatingNumber = false;\r\n  \r\n  if(number.includes('.')) {\r\n    const numberSplit = number.split('.')\r\n    floatingNumber = numberSplit[1];\r\n    number = numberSplit[0];\r\n    \r\n    floatingNumber = floatingNumber.substr(0,2);\r\n  }\r\n  \r\n  let pjg = number.length\r\n  if(!isNumeric(number)){\r\n    pjg = pjg-1\r\n    number = number.substr(0,pjg)\r\n  }\r\n  let tmp = \"\"\r\n  if(pjg>3){\r\n    while(pjg>3){\r\n      pjg -= 3\r\n      tmp = number.substr(pjg,3) + \".\" + tmp\r\n    }\r\n    if(pjg<=3){\r\n      tmp = number.substr(0,pjg) + \".\" + tmp\r\n    }\r\n    tmp = tmp.substr(0, tmp.length-1)\r\n  }else{\r\n    tmp = number\r\n  }\r\n\r\n  if(money && tmp.length !== 0) {\r\n    tmp += ',00';\r\n  } \r\n\r\n  return tmp.toString().length !== 0 ? `${tmp}${floatingNumber ? `,${floatingNumber}` : ''}` : '-'\r\n}\r\n\r\nexport function checkPermission(stringPermission) {\r\n  let flag = false;\r\n  \r\n  const listPermission = (getProfileUser() && JSON.parse(getProfileUser()) && JSON.parse(getProfileUser()).permissions) || [];\r\n  \r\n  for(const key in listPermission) {\r\n    const listPermissionChild = listPermission[key] && listPermission[key].toString().toLowerCase().split(' ');\r\n    \r\n    for(const keyChild in listPermissionChild) {\r\n      if(listPermissionChild[keyChild] && listPermissionChild[keyChild].toString().toLowerCase() === 'all') {\r\n        flag = true;\r\n        break;\r\n      }\r\n\r\n      if(typeof(stringPermission) === 'object') {\r\n        for(const keyPermit in stringPermission) {\r\n          if(stringPermission[keyPermit] && listPermissionChild[keyChild] && listPermissionChild[keyChild].toString().toLowerCase() === stringPermission[keyPermit].toString().toLowerCase()) {\r\n            flag = true;\r\n            break;\r\n          }\r\n        }\r\n      } else {\r\n        if(stringPermission && listPermissionChild[keyChild] && listPermissionChild[keyChild].toString().toLowerCase() === stringPermission.toString().toLowerCase()) {\r\n          flag = true;\r\n          break;\r\n        } \r\n      }\r\n    }\r\n    \r\n    if(flag) {\r\n      break;\r\n    }\r\n  }\r\n\r\n  if(stringPermission === 'keluar') {\r\n    return true;\r\n  }\r\n  \r\n  return flag;\r\n}\r\n\r\nexport function decryptImage(textImage) {\r\n  \r\n  if(textImage) {\r\n    let crypto = require(\"crypto\");\r\n    const algorithm = 'aes-256-cfb';\r\n\r\n    let keyStr = \"BpLnfgDsc3WD9F3qap394rjd239smsdk\";\r\n\r\n    const contents = Buffer.from(textImage, 'base64');\r\n    const iv = contents.slice(0, 16);\r\n    const textBytes = contents.slice(16);\r\n    const decipher = crypto.createDecipheriv(algorithm, keyStr, iv);\r\n    let imageUrl = decipher.update(textBytes, '', 'utf8');\r\n    imageUrl += decipher.final('utf8');\r\n\r\n    return imageUrl.includes('http') ? imageUrl : textImage;\r\n  }\r\n\r\n  return '';\r\n  \r\n}\r\n\r\nexport function formatMoney(number){ \r\n  return number.toLocaleString('in-RP', {style : 'currency', currency: 'IDR'})\r\n}\r\n\r\nexport function findAmount (dataFees, amountPinjamanPokok){\r\n  let feeNew = '';\r\n  \r\n  if(dataFees && amountPinjamanPokok) {\r\n    if(dataFees.toString().toLowerCase().includes('%')) {\r\n      feeNew = `${parseFloat(dataFees).toFixed(2)}%`;\r\n      feeNew += ` atau ${formatMoney(parseInt(dataFees) * amountPinjamanPokok / 100)}`;\r\n    } else {\r\n      feeNew = `${parseFloat(parseInt(dataFees)  * 100 / amountPinjamanPokok).toFixed(2)}%`;\r\n      feeNew += ` atau ${formatMoney(parseInt(dataFees))}`;\r\n    }\r\n  }\r\n\r\n  return feeNew;\r\n}\r\n\r\nexport function destructErrorMessage(objError) {\r\n  let errorMessage = 'Error : ';\r\n  let integerError = 0;\r\n\r\n  if(objError && objError.details) {\r\n    const errDetail = objError.details\r\n\r\n    for(const key in errDetail) {\r\n\r\n      if(errDetail[key] && errDetail[key].toString() && errDetail[key].toString().trim().length !== 0) {\r\n        if(integerError !== 0) {\r\n          errorMessage += ', ';\r\n        } \r\n\r\n        errorMessage += `${key} ${errDetail[key]}`;\r\n\r\n        integerError += 1\r\n      }\r\n\r\n    }\r\n\r\n    if(integerError < 1) {\r\n      errorMessage += ` ${objError.message}`\r\n    }\r\n\r\n  } else if (objError && !objError.details && objError.message) {\r\n    errorMessage += ` ${objError.message}`\r\n  }\r\n\r\n  return errorMessage\r\n}\r\n\r\nexport async function changeFileToBase64(file) { \r\n  return new Promise((resolve, reject) => {\r\n    const reader = new FileReader();\r\n    reader.readAsDataURL(file);\r\n    reader.onloadend = function(e) { \r\n        resolve(e.target.result)\r\n    };\r\n    reader.onerror = error => resolve({error});\r\n  });\r\n}"]},"metadata":{},"sourceType":"module"}