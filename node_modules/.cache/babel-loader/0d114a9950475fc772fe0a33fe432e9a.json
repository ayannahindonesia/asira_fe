{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pc\\\\Desktop\\\\asira_fe\\\\src\\\\components\\\\profileNasabah\\\\profileNasabah.js\";\nimport React from 'react';\nimport Loader from 'react-loader-spinner';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\nimport { Link } from 'react-router-dom';\nimport Pagination from 'rc-pagination';\nimport './../../support/css/pagination.css';\nimport localeInfo from 'rc-pagination/lib/locale/id_ID';\nimport { getAllProfileNasabahFunction } from './saga';\nimport Moment from 'react-moment';\nimport 'moment/locale/id';\nimport { getTokenClient, getTokenAuth } from '../index/token';\nimport SearchBar from './../subComponent/SearchBar';\n\nclass profileNasabah extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      rows: [],\n      searchRows: '',\n      page: 1,\n      rowsPerPage: 5,\n      isEdit: false,\n      editIndex: Number,\n      totalData: 0,\n      last_page: 1,\n      loading: true\n    };\n    this._isMount = false;\n\n    this.getProfileNasabah = async function () {\n      const param = {\n        rows: 10,\n        page: this.state.page\n      };\n      let hasil = this.state.searchRows;\n\n      if (hasil) {\n        param.search_all = hasil;\n      }\n\n      const data = await getAllProfileNasabahFunction(param);\n\n      if (data) {\n        console.log(data);\n\n        if (!data.error) {\n          this.setState({\n            loading: false,\n            rows: data.borrowerList.data,\n            rowsPerPage: data.borrowerList.rows,\n            totalData: data.borrowerList.total_data,\n            last_page: data.borrowerList.last_page,\n            page: data.borrowerList.current_page\n          });\n        } else {\n          this.setState({\n            errorMessage: data.error\n          });\n        }\n      }\n    };\n\n    this.onBtnSearch = e => {\n      this.setState({\n        loading: true,\n        searchRows: e.target.value,\n        page: 1\n      }, () => {\n        this.getProfileNasabah();\n      });\n    };\n\n    this.onChangePage = current => {\n      this.setState({\n        loading: true,\n        page: current\n      }, () => {\n        this.getProfileNasabah();\n      });\n    };\n\n    this.renderJSX = () => {\n      if (this.state.loading) {\n        return React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          align: \"center\",\n          colSpan: 7,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87\n          },\n          __self: this\n        }, React.createElement(Loader, {\n          type: \"Circles\",\n          color: \"#00BFFF\",\n          height: \"40\",\n          width: \"40\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88\n          },\n          __self: this\n        })));\n      } else {\n        if (this.state.rows.length === 0) {\n          return React.createElement(\"tr\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 100\n            },\n            __self: this\n          }, React.createElement(\"td\", {\n            align: \"center\",\n            colSpan: 7,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 101\n            },\n            __self: this\n          }, \"Data empty\"));\n        } else {\n          var jsx = this.state.rows.map((val, index) => {\n            return React.createElement(\"tr\", {\n              key: index,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 107\n              },\n              __self: this\n            }, React.createElement(\"td\", {\n              align: \"center\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 108\n              },\n              __self: this\n            }, this.state.page > 0 ? index + 1 + this.state.rowsPerPage * (this.state.page - 1) : index + 1), React.createElement(\"td\", {\n              align: \"center\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 109\n              },\n              __self: this\n            }, val.id), React.createElement(\"td\", {\n              align: \"center\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 110\n              },\n              __self: this\n            }, val.fullname), React.createElement(\"td\", {\n              align: \"center\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 111\n              },\n              __self: this\n            }, val.category === \"account_executive\" ? \"Account Executive\" : val.category === \"agent\" ? \"Agent\" : \"Personal\"), React.createElement(\"td\", {\n              align: \"center\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 113\n              },\n              __self: this\n            }, React.createElement(Moment, {\n              locale: \"id\",\n              date: val.created_time,\n              format: \" DD  MMMM  YYYY\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 114\n              },\n              __self: this\n            })), React.createElement(\"td\", {\n              align: \"center\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 116\n              },\n              __self: this\n            }, \" \", val.loan_status === \"inactive\" ? \"Tidak Aktif\" : \"Aktif\", \" \"), React.createElement(\"td\", {\n              align: \"center\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 117\n              },\n              __self: this\n            }, React.createElement(Link, {\n              style: {\n                textDecoration: \"none\"\n              },\n              to: \"/profileNasabahDetail/\".concat(val.id),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 118\n              },\n              __self: this\n            }, React.createElement(\"i\", {\n              className: \"fas fa-eye\",\n              style: {\n                color: \"black\",\n                fontSize: \"18px\"\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 119\n              },\n              __self: this\n            }))));\n          });\n          return jsx;\n        }\n      }\n    };\n  }\n\n  //-----------------------------------NIKO FUNCTION-------------------------------------------------------------\n  componentDidMount() {\n    this._isMount = true;\n    this.getProfileNasabah();\n  }\n\n  componentWillUnmount() {\n    this._isMount = false;\n  } //Ambil data pertama kali\n\n\n  render() {\n    if (getTokenClient() && getTokenAuth()) {\n      return React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        className: \"mt-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, \"Nasabah - List\")), React.createElement(\"div\", {\n        className: \"col-5 mt-3 ml-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"input-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, React.createElement(SearchBar, {\n        onChange: this.onBtnSearch,\n        placeholder: \"Search Nama Nasabah, ID Nasabah..\",\n        value: this.state.searchRows,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      })))), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }), React.createElement(\"table\", {\n        className: \"table table-hover\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        className: \"table-warning\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        className: \"text-center\",\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, \"#\"), React.createElement(\"th\", {\n        className: \"text-center\",\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, \"Id Nasabah\"), React.createElement(\"th\", {\n        className: \"text-center\",\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, \"Nama Nasabah\"), React.createElement(\"th\", {\n        className: \"text-center\",\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, \"Kategori\"), React.createElement(\"th\", {\n        className: \"text-center\",\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, \"Tanggal Registrasi\"), React.createElement(\"th\", {\n        className: \"text-center\",\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, \"Status Nasabah\"), React.createElement(\"th\", {\n        className: \"text-center\",\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, \"Action\"))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, this.renderJSX())), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }), React.createElement(\"nav\", {\n        className: \"navbar\",\n        style: {\n          float: \"right\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, React.createElement(Pagination, {\n        className: \"ant-pagination\",\n        current: this.state.page,\n        showTotal: (total, range) => \"\".concat(range[0], \" - \").concat(range[1], \" of \").concat(total, \" items\"),\n        total: this.state.totalData,\n        pageSize: this.state.rowsPerPage,\n        onChange: this.onChangePage,\n        locale: localeInfo,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      })));\n    } else if (getTokenAuth()) {\n      return React.createElement(Redirect, {\n        to: \"/login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      });\n    }\n  }\n\n}\n\nconst mapStateToProp = state => {\n  return {\n    id: state.user.id\n  };\n};\n\nexport default connect(mapStateToProp)(profileNasabah);","map":{"version":3,"sources":["C:\\Users\\pc\\Desktop\\asira_fe\\src\\components\\profileNasabah\\profileNasabah.js"],"names":["React","Loader","connect","Redirect","Link","Pagination","localeInfo","getAllProfileNasabahFunction","Moment","getTokenClient","getTokenAuth","SearchBar","profileNasabah","Component","state","rows","searchRows","page","rowsPerPage","isEdit","editIndex","Number","totalData","last_page","loading","_isMount","getProfileNasabah","param","hasil","search_all","data","console","log","error","setState","borrowerList","total_data","current_page","errorMessage","onBtnSearch","e","target","value","onChangePage","current","renderJSX","length","jsx","map","val","index","id","fullname","category","created_time","loan_status","textDecoration","color","fontSize","componentDidMount","componentWillUnmount","render","float","total","range","mapStateToProp","user"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport Loader from 'react-loader-spinner'\r\nimport {connect } from 'react-redux'\r\nimport { Redirect } from 'react-router-dom'\r\nimport {Link} from 'react-router-dom'\r\nimport Pagination from 'rc-pagination';\r\nimport './../../support/css/pagination.css'\r\nimport localeInfo from 'rc-pagination/lib/locale/id_ID'\r\nimport {getAllProfileNasabahFunction} from './saga'\r\nimport Moment from 'react-moment'\r\nimport 'moment/locale/id';\r\nimport { getTokenClient,getTokenAuth } from '../index/token'\r\nimport SearchBar from './../subComponent/SearchBar';\r\n\r\nclass profileNasabah extends React.Component {\r\n  state = {\r\n    rows: [], searchRows:'',\r\n    page: 1,\r\n    rowsPerPage: 5,\r\n    isEdit: false,\r\n    editIndex:Number,\r\n    totalData:0,\r\n    last_page:1,\r\n    loading:true,\r\n  };\r\n  _isMount = false\r\n  //-----------------------------------NIKO FUNCTION-------------------------------------------------------------\r\n  componentDidMount(){\r\n    this._isMount=true\r\n    this.getProfileNasabah()\r\n  }\r\n  componentWillUnmount(){\r\n    this._isMount=false\r\n  }\r\n\r\n\r\n\r\n  \r\n  //Ambil data pertama kali\r\n  getProfileNasabah = async function(){\r\n    const param ={\r\n      rows:10,\r\n      page:this.state.page\r\n    }\r\n    let hasil = this.state.searchRows\r\n\r\n    if(hasil){\r\n      param.search_all = hasil\r\n    }\r\n    const data = await getAllProfileNasabahFunction(param)\r\n\r\n    if(data){\r\n      console.log(data)\r\n      if(!data.error){\r\n        this.setState({loading:false,\r\n          rows:data.borrowerList.data,\r\n          rowsPerPage:data.borrowerList.rows,\r\n          totalData:data.borrowerList.total_data,\r\n          last_page:data.borrowerList.last_page,\r\n          page:data.borrowerList.current_page})\r\n      }else{\r\n        this.setState({errorMessage:data.error})\r\n      }\r\n    }\r\n  }\r\n\r\n  onBtnSearch = (e)=>{\r\n    this.setState({loading:true,searchRows:e.target.value,page:1},()=>{\r\n      this.getProfileNasabah()\r\n    })\r\n  }\r\n // rpp =5\r\n // p = 3\r\n // index = 11\r\n onChangePage = (current) => {\r\n  this.setState({loading:true,page:current},()=>{\r\n\r\n  \r\n      this.getProfileNasabah()\r\n  })\r\n}\r\n  \r\nrenderJSX = ()=>{\r\n    if (this.state.loading){\r\n      return  (\r\n        <tr>\r\n          <td align=\"center\" colSpan={7}>\r\n                <Loader \r\n            type=\"Circles\"\r\n            color=\"#00BFFF\"\r\n            height=\"40\"\t\r\n            width=\"40\"\r\n        />   \r\n          </td>\r\n        </tr>\r\n      )\r\n  }else{\r\n    if (this.state.rows.length===0){\r\n      return(\r\n        <tr>\r\n          <td align=\"center\" colSpan={7}>Data empty</td>\r\n        </tr>\r\n      )\r\n    }else{\r\n      var jsx = this.state.rows.map((val,index)=>{\r\n        return (\r\n        <tr key={index}>\r\n            <td align=\"center\">{this.state.page >0 ? index+1 + (this.state.rowsPerPage*(this.state.page -1)) : index+1}</td>\r\n            <td align=\"center\">{val.id}</td>\r\n            <td align=\"center\">{val.fullname}</td>\r\n            <td align=\"center\"> \r\n            {val.category ===\"account_executive\"?\"Account Executive\" : val.category === \"agent\"?\"Agent\":\"Personal\"}</td>\r\n            <td align=\"center\">\r\n            <Moment locale=\"id\" date={val.created_time} format=\" DD  MMMM  YYYY\" /> \r\n            </td>\r\n            <td align=\"center\"> {val.loan_status===\"inactive\" ?\"Tidak Aktif\" : \"Aktif\"} </td>\r\n            <td align=\"center\">\r\n              <Link style={{textDecoration:\"none\"}} to={`/profileNasabahDetail/${val.id}`}>\r\n              <i className=\"fas fa-eye\" style={{color:\"black\",fontSize:\"18px\"}}/>\r\n              </Link>\r\n            </td>\r\n        </tr>\r\n        )\r\n    })\r\n     return jsx;\r\n    }\r\n  }\r\n}\r\n\r\nrender() {\r\nif(getTokenClient()&&getTokenAuth()){\r\n    return (\r\n        <div className=\"container\">\r\n         <div className=\"row\">\r\n                        <div className=\"col-6\">\r\n                             <h2 className=\"mt-3\">Nasabah - List</h2>\r\n                        </div>\r\n                        <div className=\"col-5 mt-3 ml-5\">\r\n                        <div className=\"input-group\">\r\n                          <SearchBar\r\n                             onChange={this.onBtnSearch}\r\n                             placeholder=\"Search Nama Nasabah, ID Nasabah..\"\r\n                             value={this.state.searchRows}\r\n                          />\r\n                        </div>\r\n                        </div>\r\n          </div>\r\n        <hr></hr>\r\n          <table className=\"table table-hover\">\r\n          <thead className=\"table-warning\">\r\n              <tr>\r\n                  <th className=\"text-center\" scope=\"col\">#</th>\r\n                  <th className=\"text-center\" scope=\"col\">Id Nasabah</th>\r\n                  <th className=\"text-center\" scope=\"col\">Nama Nasabah</th>\r\n                  <th className=\"text-center\" scope=\"col\">Kategori</th>\r\n                  <th className=\"text-center\" scope=\"col\">Tanggal Registrasi</th>\r\n                  <th className=\"text-center\" scope=\"col\">Status Nasabah</th>\r\n                  <th className=\"text-center\" scope=\"col\">Action</th>\r\n              </tr>     \r\n          </thead>\r\n            <tbody>\r\n              {this.renderJSX()}\r\n            </tbody>  \r\n          </table>\r\n                <hr/>\r\n                <nav className=\"navbar\" style={{float:\"right\"}}> \r\n                <Pagination className=\"ant-pagination\"  \r\n                current={this.state.page}\r\n                showTotal={(total, range) => `${range[0]} - ${range[1]} of ${total} items`}\r\n                total={this.state.totalData}\r\n                pageSize={this.state.rowsPerPage}\r\n                onChange={this.onChangePage}\r\n                locale={localeInfo}\r\n                />\r\n          </nav>\r\n        </div>\r\n    );\r\n}\r\nelse if(getTokenAuth()){\r\n  return  <Redirect to='/login' />\r\n}\r\n}\r\n}\r\n\r\nconst mapStateToProp = (state)=>{\r\n  return{     \r\n      id: state.user.id\r\n  }\r\n}\r\nexport default connect (mapStateToProp)(profileNasabah) ;"]},"metadata":{},"sourceType":"module"}