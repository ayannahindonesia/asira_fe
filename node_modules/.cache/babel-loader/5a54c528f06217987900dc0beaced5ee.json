{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pc\\\\Desktop\\\\asira_fe\\\\src\\\\components\\\\index\\\\changePassword.js\";\nimport React from 'react';\nimport Logo from './../../support/img/logo.jpeg';\nimport './../../support/css/login.css';\nimport { Redirect } from 'react-router-dom';\nimport swal from 'sweetalert';\nimport { changePasswordFunction } from './saga';\n\nclass changePassword extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      loading: false,\n      errorMessage: '',\n      diKlik: false\n    };\n\n    this.btnChangePassword = () => {\n      this.setState({\n        loading: true\n      });\n      const password1 = this.refs.password1.value;\n      const password2 = this.refs.password2.value;\n\n      if (password1.toLowerCase() !== password2.toLowerCase()) {\n        this.setState({\n          errorMessage: \"Password tidak sesuai - Harap periksa kembali\",\n          loading: false\n        });\n      } else if (password1.trim() === '' || password2.trim() === '') {\n        this.setState({\n          errorMessage: \"Field ada yang kosong - Harap periksa kembali\",\n          loading: false\n        });\n      } else {\n        const arr = window.location.href.split(\"?\");\n\n        if (arr.length > 1) {\n          const token = arr[1].slice(arr[1].indexOf('=') + 1, arr[1].length);\n          const param = {\n            token,\n            password: password1\n          };\n          this.changePass(param);\n        } else {\n          this.setState({\n            errorMessage: \"Token kosong/ Invalid\"\n          });\n        }\n      }\n    };\n\n    this.changePass = async function (param) {\n      const data = await changePasswordFunction(param);\n\n      if (data) {\n        if (!data.error) {\n          swal(\"Berhasil\", \"Password berhasil dirubah\", \"success\");\n          this.setState({\n            errorMessage: null,\n            diKlik: true\n          });\n        } else {\n          this.setState({\n            errorMessage: data.error\n          });\n        }\n      }\n    };\n\n    this.renderBtnOrLoading = () => {\n      if (this.state.loading) {\n        return React.createElement(\"input\", {\n          type: \"button\",\n          className: \"loginBtn\",\n          style: {\n            marginTop: \"20px\",\n            cursor: \"wait\"\n          },\n          value: \"...\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60\n          },\n          __self: this\n        });\n      } else {\n        return React.createElement(\"input\", {\n          type: \"button\",\n          className: \"loginBtn\",\n          onClick: this.btnChangePassword,\n          style: {\n            marginTop: \"20px\"\n          },\n          value: \"Ubah Password\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65\n          },\n          __self: this\n        });\n      }\n    };\n  }\n\n  componentWillReceiveProps(newProps) {\n    this.setState({\n      errorMessage: newProps.error\n    });\n  }\n\n  render() {\n    if (this.state.diKlik) {\n      return React.createElement(Redirect, {\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(\"div\", {\n      className: \"App mr-3 loginContainer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-6 col-md-6 mt-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, \"Bank Dashboard\")), React.createElement(\"div\", {\n      className: \"col-6 col-md-6 mt-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: Logo,\n      alt: \"logo\",\n      width: \"60%\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-12 col-md-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"Ubah Password\"), React.createElement(\"div\", {\n      style: {\n        color: \"red\",\n        fontSize: \"10px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, this.state.errorMessage), React.createElement(\"input\", {\n      type: \"password\",\n      placeholder: \"Password baru\",\n      ref: \"password1\",\n      className: \"form-control\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"password\",\n      placeholder: \"Ulang password baru\",\n      ref: \"password2\",\n      className: \"form-control\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }), this.renderBtnOrLoading())));\n  }\n\n}\n\nexport default changePassword;","map":{"version":3,"sources":["C:\\Users\\pc\\Desktop\\asira_fe\\src\\components\\index\\changePassword.js"],"names":["React","Logo","Redirect","swal","changePasswordFunction","changePassword","Component","state","loading","errorMessage","diKlik","btnChangePassword","setState","password1","refs","value","password2","toLowerCase","trim","arr","window","location","href","split","length","token","slice","indexOf","param","password","changePass","data","error","renderBtnOrLoading","marginTop","cursor","componentWillReceiveProps","newProps","render","color","fontSize"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport Logo from './../../support/img/logo.jpeg'\r\nimport './../../support/css/login.css'\r\nimport { Redirect  } from 'react-router-dom'\r\nimport swal from 'sweetalert'\r\nimport { changePasswordFunction } from './saga'\r\n\r\nclass changePassword extends React.Component{\r\n    state = {\r\n        loading:false,\r\n        errorMessage:'',\r\n        diKlik:false\r\n    }\r\n    componentWillReceiveProps(newProps){\r\n        this.setState({errorMessage:newProps.error})\r\n    }\r\n    btnChangePassword = ()=>{   \r\n    this.setState({loading:true})\r\n\r\n    const password1 = this.refs.password1.value\r\n    const password2 = this.refs.password2.value\r\n\r\n    if(password1.toLowerCase() !== password2.toLowerCase()){\r\n        this.setState({errorMessage:\"Password tidak sesuai - Harap periksa kembali\",loading:false})\r\n    }else if(password1.trim()==='' || password2.trim()===''){\r\n        this.setState({errorMessage:\"Field ada yang kosong - Harap periksa kembali\",loading:false})\r\n    }else{\r\n        const arr =  window.location.href.split(\"?\")\r\n        if (arr.length>1){\r\n            const token = arr[1].slice(arr[1].indexOf('=')+1,arr[1].length)\r\n            const param = {\r\n                token,\r\n                password:password1\r\n            }\r\n    \r\n            this.changePass(param)\r\n        }else{\r\n           this.setState({errorMessage:\"Token kosong/ Invalid\"})\r\n        }\r\n        }\r\n\r\n    }\r\n\r\n     changePass = async function (param){\r\n         const data = await changePasswordFunction (param)\r\n         if(data){\r\n             if(!data.error){\r\n                swal(\"Berhasil\",\"Password berhasil dirubah\",\"success\")\r\n                this.setState({errorMessage:null,diKlik:true})\r\n             }else{\r\n                this.setState({errorMessage:data.error})\r\n\r\n             }\r\n         }\r\n\r\n     }\r\n    renderBtnOrLoading =()=>{\r\n        if (this.state.loading){\r\n            return ( \r\n                <input type=\"button\" className=\"loginBtn\" style={{marginTop:\"20px\",cursor:\"wait\"}}  value=\"...\"/> \r\n            );\r\n        }\r\n        else{\r\n            return(\r\n                <input type=\"button\" className=\"loginBtn\" onClick={this.btnChangePassword} style={{marginTop:\"20px\"}}  value=\"Ubah Password\"/> \r\n            )\r\n        }\r\n    }\r\n\r\n    render(){\r\n        if(this.state.diKlik){\r\n            return <Redirect to='/'/>            \r\n        }\r\n        return(\r\n            <div className=\"App mr-3 loginContainer\">\r\n                 <div className=\"row\">\r\n                    <div className=\"col-6 col-md-6 mt-3\">\r\n                        <h2>Bank Dashboard</h2>   \r\n                        \r\n                    </div>\r\n                    <div className=\"col-6 col-md-6 mt-3\">\r\n                        <img src={Logo} alt=\"logo\" width=\"60%\"></img>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"row\">\r\n                    <div className=\"col-12 col-md-12\">\r\n                        <hr/>\r\n                        <h3>Ubah Password</h3>\r\n                        <div style={{color:\"red\",fontSize:\"10px\"}}>\r\n                            {this.state.errorMessage}\r\n                        </div>\r\n                        <input type=\"password\" placeholder=\"Password baru\" ref=\"password1\" className=\"form-control\"/>\r\n                        <input type=\"password\" placeholder=\"Ulang password baru\" ref=\"password2\" className=\"form-control\"/>\r\n                        {this.renderBtnOrLoading()} \r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default changePassword;"]},"metadata":{},"sourceType":"module"}