{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pc\\\\Desktop\\\\asira_fe\\\\src\\\\components\\\\login.js\";\nimport React from 'react';\nimport Logo from './../support/img/logo.jpeg';\nimport './../support/css/login.css';\nimport axios from 'axios';\nimport Loader from 'react-loader-spinner';\nimport swal from 'sweetalert';\nimport { Redirect } from 'react-router-dom';\nimport { serverUrl } from './url';\nimport kokie from 'universal-cookie';\nimport { keepLogin } from './../1.actions';\nimport { connect } from 'react-redux';\nconst kukie = new kokie();\n\nclass Login extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      token: \"\",\n      authData: [],\n      loading: false,\n      tokenClient: '',\n      isLogin: false //LOGIN BUTTON\n\n    };\n\n    this.btnLogin = () => {\n      this.setState({\n        loading: true\n      });\n      var url = serverUrl + \"client/lender_login\";\n      var config = {\n        headers: {\n          'Authorization': \"Bearer \" + kukie.get('token')\n        }\n      };\n      var username = this.refs.username.value;\n      var password = this.refs.password.value;\n      var bodyParameters = {\n        key: username,\n        password\n      };\n\n      if (username === \"\" || password === \"\") {\n        swal(\"Error\", \"Username and Password Empty\", \"error\");\n        this.setState({\n          loading: false\n        });\n      } else {\n        axios.post(url, bodyParameters, config).then(res => {\n          console.log(res);\n\n          if (res.status === 200) {\n            var date = new Date();\n            date.setTime(date.getTime() + res.data.expires * 1000);\n            kukie.set('tokenClient', res.data.token, {\n              expires: date\n            });\n            this.setState({\n              loading: false,\n              isLogin: true\n            });\n            this.props.keepLogin();\n          }\n        }).catch(err => {\n          this.setState({\n            loading: false\n          });\n          swal(\"Gagal Login\", \"Cek ulang Username dan Password\", \"info\");\n        });\n      }\n    };\n\n    this.renderBtnOrLoading = () => {\n      if (this.state.loading) {\n        return React.createElement(Loader, {\n          type: \"Circles\",\n          color: \"#00BFFF\",\n          height: \"10\",\n          width: \"10\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63\n          },\n          __self: this\n        });\n      } else {\n        return React.createElement(\"input\", {\n          type: \"button\",\n          className: \"loginBtn\",\n          onClick: this.btnLogin,\n          style: {\n            marginTop: \"20px\"\n          },\n          value: \"Sign in\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72\n          },\n          __self: this\n        });\n      }\n    };\n  }\n\n  render() {\n    if (this.state.isLogin) {\n      return React.createElement(Redirect, {\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      });\n    } // alert('masuk')\n\n\n    return React.createElement(\"div\", {\n      className: \"App loginContainer mr-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row mt-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-6 col-md-6 mt-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \"Bank Dashboard\")), React.createElement(\"div\", {\n      className: \"col-6 col-md-6 mt-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: Logo,\n      alt: \"logo\",\n      width: \"60%\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-12 col-md-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, \"Sign In\"), React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Username\",\n      ref: \"username\",\n      className: \"form-control\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"password\",\n      placeholder: \"Password\",\n      ref: \"password\",\n      className: \"form-control\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }), this.renderBtnOrLoading(), React.createElement(\"p\", {\n      style: {\n        marginTop: \"5px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, \"Forgot your password?\"))));\n  }\n\n}\n\nexport default connect(null, {\n  keepLogin\n})(Login);","map":{"version":3,"sources":["C:\\Users\\pc\\Desktop\\asira_fe\\src\\components\\login.js"],"names":["React","Logo","axios","Loader","swal","Redirect","serverUrl","kokie","keepLogin","connect","kukie","Login","Component","state","token","authData","loading","tokenClient","isLogin","btnLogin","setState","url","config","headers","get","username","refs","value","password","bodyParameters","key","post","then","res","console","log","status","date","Date","setTime","getTime","data","expires","set","props","catch","err","renderBtnOrLoading","marginTop","render"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport Logo from './../support/img/logo.jpeg'\r\nimport './../support/css/login.css'\r\nimport axios from 'axios'\r\nimport Loader from 'react-loader-spinner'\r\nimport swal from 'sweetalert'\r\nimport {Redirect} from 'react-router-dom'\r\nimport {serverUrl} from './url'\r\nimport kokie from 'universal-cookie'\r\nimport {keepLogin} from './../1.actions'\r\nimport {connect} from 'react-redux'\r\n\r\n\r\n\r\nconst kukie = new kokie()\r\n\r\n \r\nclass Login extends React.Component{\r\n    state={token:\"\",authData:[],loading:false,tokenClient:'' , isLogin : false}\r\n  \r\n    //LOGIN BUTTON\r\n    btnLogin = ()=>{\r\n        this.setState({loading:true})\r\n        var url =serverUrl+\"client/lender_login\"\r\n        var config = {\r\n            headers: {'Authorization': \"Bearer \" + kukie.get('token')}\r\n        };\r\n        var username=this.refs.username.value\r\n        var password=this.refs.password.value\r\n        var bodyParameters = {\r\n            key: username,\r\n            password\r\n         }\r\n        if (username===\"\" || password===\"\"){\r\n            swal(\"Error\",\"Username and Password Empty\",\"error\")\r\n            this.setState({loading:false})\r\n\r\n        }else{\r\n            axios.post(url,bodyParameters,config)\r\n            .then((res)=>{\r\n               console.log(res)\r\n                if (res.status===200){\r\n                var date = new Date();\r\n                date.setTime(date.getTime() + (res.data.expires*1000));\r\n                kukie.set('tokenClient',res.data.token,{expires: date})\r\n\r\n                this.setState({loading:false , isLogin : true})\r\n                this.props.keepLogin()\r\n            \r\n                }\r\n                \r\n            })\r\n            .catch((err)=>{\r\n                this.setState({loading:false})\r\n                swal(\"Gagal Login\",\"Cek ulang Username dan Password\",\"info\")\r\n            })\r\n        }\r\n      \r\n    } \r\n\r\n    renderBtnOrLoading =()=>{\r\n        if (this.state.loading){\r\n            return  <Loader \r\n            type=\"Circles\"\r\n            color=\"#00BFFF\"\r\n            height=\"10\"\t\r\n            width=\"10\"\r\n         />   \r\n        }\r\n        else{\r\n            return(\r\n                <input type=\"button\" className=\"loginBtn\" onClick={this.btnLogin} style={{marginTop:\"20px\"}} value=\"Sign in\"/> \r\n            )\r\n        }\r\n    }\r\n\r\n    render(){\r\n        if(this.state.isLogin){\r\n            return(\r\n                <Redirect to='/' />\r\n            )\r\n        }\r\n        // alert('masuk')\r\n       \r\n\r\n            return (\r\n                <div className=\"App loginContainer mr-3\">\r\n                    <div className=\"row mt-2\">\r\n                        <div className=\"col-6 col-md-6 mt-3\">\r\n                           <h5>Bank Dashboard</h5> \r\n                        </div>\r\n                        <div className=\"col-6 col-md-6 mt-2\">\r\n                            <img src={Logo} alt=\"logo\" width=\"60%\"></img>\r\n                        </div>\r\n                    </div>\r\n    \r\n                    <div className=\"row\">\r\n                        <div className=\"col-12 col-md-12\">\r\n                            <hr/>\r\n                            <h2>Sign In</h2>\r\n                            <input type=\"text\" placeholder=\"Username\" ref=\"username\" className=\"form-control\"/>\r\n                            <input type=\"password\" placeholder=\"Password\" ref=\"password\" className=\"form-control\"/>\r\n                            {this.renderBtnOrLoading()}\r\n                            <p style={{marginTop:\"5px\"}}>Forgot your password?</p>\r\n                       \r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )\r\n\r\n        }\r\n      \r\n       \r\n    \r\n}\r\n\r\nexport default connect(null,{keepLogin}) (Login);\r\n"]},"metadata":{},"sourceType":"module"}