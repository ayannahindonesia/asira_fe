{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pc\\\\Desktop\\\\asira_fe\\\\src\\\\components\\\\permintaanPinjaman\\\\pinjamanSetuju.js\";\nimport React from 'react';\nimport DatePicker from \"react-date-picker\";\nimport swal from 'sweetalert';\nimport { CSVLink } from \"react-csv\";\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport Loader from 'react-loader-spinner';\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\nimport { Link } from 'react-router-dom';\nimport Pagination from 'rc-pagination';\nimport './../../support/css/pagination.css';\nimport localeInfo from 'rc-pagination/lib/locale/id_ID';\nimport { getPermintaanPinjamanFunction, CSVDownloadFunction, confirmDisburseFunction, changeDisburseDateFunction } from './saga';\nimport Moment from 'react-moment';\nimport 'moment/locale/id';\nimport { getTokenClient, getTokenAuth } from '../index/token';\nimport { checkPermission } from './../global/globalFunction';\nimport './../../support/css/table.css';\nimport TableComponent from './../subComponent/TableComponent';\nconst columnDataUser = [{\n  id: 'id',\n  numeric: false,\n  label: 'ID Pinjaman'\n}, {\n  id: 'borrower_name',\n  numeric: false,\n  label: 'Nama Nasabah'\n}, {\n  id: 'service',\n  numeric: false,\n  label: 'Layanan'\n}, {\n  id: 'product',\n  numeric: false,\n  label: 'Produk'\n}, {\n  id: 'created_time',\n  numeric: false,\n  label: 'Tanggal Pengajuan',\n  type: 'datetime'\n}, {\n  id: 'approval_date',\n  numeric: false,\n  label: 'Tanggal Approval',\n  type: 'datetime'\n}, {\n  id: 'disburse_date',\n  numeric: false,\n  label: 'Tanggal Pencairan',\n  type: 'datetime'\n}, {\n  id: '',\n  numeric: false,\n  label: 'Telah Dicairkan'\n}, {\n  id: '',\n  numeric: false,\n  label: 'Ubah Tanggal Pencairan'\n}];\nvar arr = [];\n\nclass PinjamanSetuju extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      checkedData: [],\n      rows: [],\n      fromDate: null,\n      toDate: null,\n      page: 1,\n      last_page: 1,\n      rowsPerPage: 10,\n      isEdit: false,\n      editIndex: Number,\n      udahdiklik: false,\n      startDate: new Date(),\n      endDate: new Date(),\n      downloadDataCSV: [],\n      downloadModal: false,\n      total_data: 0,\n      loading: true,\n      loadingBtn: false,\n      searching: false,\n      errorMessage: '',\n      modal: false,\n      idPinjaman: null,\n      ubahTanggalPencairan: new Date(),\n      disburse: false,\n      telahDicairkan: 'Dikonfirmasi',\n      statusTanggalDisburse: 'Diubah'\n    };\n    this._isMounted = false;\n\n    this.getAllData = async function () {\n      const param = {\n        status: \"approved\",\n        rows: \"10\",\n        page: this.state.page\n      };\n\n      if (this.state.searching) {\n        param.start_date = this.state.fromDate;\n        param.end_date = this.state.toDate;\n      }\n\n      const data = await getPermintaanPinjamanFunction(param);\n\n      if (data) {\n        if (!data.error) {\n          this.setState({\n            loading: false,\n            rows: data.loanRequest.data,\n            rowsPerPage: data.loanRequest.rows,\n            page: data.loanRequest.current_page,\n            last_page: data.loanRequest.last_page,\n            total_data: data.loanRequest.total_data\n          });\n        } else {\n          this.setState({\n            errorMessage: data.error\n          });\n        }\n      }\n    };\n\n    this.handleStartChange = date => {\n      this.setState({\n        startDate: date\n      });\n    };\n\n    this.handleEndChange = date => {\n      this.setState({\n        endDate: date\n      });\n    };\n\n    this.onBtnSearch = () => {\n      this.setState({\n        loading: true,\n        searchModal: true,\n        searching: true,\n        checkedData: []\n      });\n      const _this$state = this.state,\n            startDate = _this$state.startDate,\n            endDate = _this$state.endDate;\n      var startMonth = '' + (startDate.getMonth() + 1),\n          startDay = '' + startDate.getDate(),\n          startYear = startDate.getFullYear();\n      var endMonth = '' + (endDate.getMonth() + 1),\n          endDay = '' + endDate.getDate(),\n          endYear = endDate.getFullYear();\n      if (startMonth.length < 2) startMonth = '0' + startMonth;\n      if (startDay.length < 2) startDay = '0' + startDay;\n      if (endMonth.length < 2) endMonth = '0' + endMonth;\n      if (endDay.length < 2) endDay = '0' + endDay;\n      var newFormatStartDate = startYear + \"-\" + startMonth + \"-\" + startDay + \"T00:00:00.000Z\";\n      var newFormatEndDate = endYear + \"-\" + endMonth + \"-\" + endDay + \"T23:59:59.000Z\";\n\n      if (endDate.getTime() < startDate.getTime()) {\n        alert(\"Please input correct month range\");\n        this.setState({\n          loading: false\n        });\n      } else {\n        this.setState({\n          fromDate: newFormatStartDate,\n          toDate: newFormatEndDate,\n          page: 1\n        }, () => {\n          this.getAllData();\n        });\n      }\n    };\n\n    this.onBtnReset = () => {\n      this.setState({\n        loading: true,\n        searching: false,\n        page: 1\n      }, () => {\n        this.getAllData();\n      });\n    };\n\n    this.btnDownloadCsv = () => {\n      this.setState({\n        loadingBtn: true\n      });\n\n      if (arr.length === 0) {\n        swal(\"Info\", \"Silahkan Pilih Data yang ingin di download\", \"info\");\n        this.setState({\n          loadingBtn: false\n        });\n      } else {\n        var id = [];\n\n        for (var j = 0; j < arr.length; j++) {\n          id.push(arr[j]);\n        }\n\n        const param = {\n          id: id.toString()\n        };\n        this.btnCSVDownload(param);\n      }\n    };\n\n    this.btnCSVDownload = async function (param) {\n      const data = await CSVDownloadFunction(param);\n\n      if (data) {\n        if (!data.error) {\n          this.setState({\n            loadingBtn: false,\n            downloadModal: true,\n            downloadDataCSV: data.data\n          });\n        } else {\n          this.setState({\n            loadingBtn: false,\n            downloadModal: false,\n            errorMessage: data.error\n          });\n        }\n      }\n    };\n\n    this.onChangePage = current => {\n      this.setState({\n        loading: true,\n        page: current\n      }, () => {\n        this.getAllData();\n      });\n    };\n\n    this.btnKonfirmasi = id => {\n      this.confirmDisburse({\n        id\n      });\n    };\n\n    this.confirmDisburse = async function (param) {\n      const data = await confirmDisburseFunction(param);\n\n      if (data) {\n        if (!data.error) {\n          this.setState({\n            telahDicairkan: 'Dikonfirmasi'\n          }, () => {\n            this.getAllData();\n          });\n          swal(\"Success\", \"Dana telah dicairkan\", \"success\");\n        } else {\n          swal(\"Fail\", \"Konfirmasi Gagal\", \"error\");\n        }\n      }\n    };\n\n    this.handleTanggalPencairan = e => {\n      this.setState({\n        ubahTanggalPencairan: e\n      });\n    };\n\n    this.handleCheckBox = e => {\n      const checkedData = this.state.checkedData;\n\n      if (e.target.checked) {\n        checkedData.push(parseInt(e.target.value));\n      } else {\n        checkedData.splice(checkedData.indexOf(parseInt(e.target.value)), 1);\n      }\n\n      this.setState({\n        checkedData\n      });\n    };\n\n    this.ubahTanggalPencairanBtn = () => {\n      this.setState({\n        disburse: true\n      });\n      const _this$state2 = this.state,\n            ubahTanggalPencairan = _this$state2.ubahTanggalPencairan,\n            idPinjaman = _this$state2.idPinjaman;\n      let startMonth = '' + (ubahTanggalPencairan.getMonth() + 1),\n          startDay = '' + ubahTanggalPencairan.getDate(),\n          startYear = ubahTanggalPencairan.getFullYear();\n      if (startMonth.length < 2) startMonth = '0' + startMonth;\n      if (startDay.length < 2) startDay = '0' + startDay;\n      const changeDate = startYear + \"-\" + startMonth + \"-\" + startDay;\n      const param = {\n        id: idPinjaman,\n        date: changeDate\n      };\n      this.disburseDate(param);\n    };\n\n    this.disburseDate = async function (param) {\n      const data = await changeDisburseDateFunction(param);\n\n      if (data) {\n        if (!data.error) {\n          swal(\"Success\", \"Tanggal pencairan berhasil diubah\", \"success\");\n          this.setState({\n            modal: false,\n            disburse: false,\n            statusTanggalDisburse: 'Diubah'\n          }, () => {\n            this.getAllData();\n          });\n        } else {\n          swal(\"Fail\", \"Tanggal pencairan gagal diubah\", \"error\");\n          this.setState({\n            disburse: false\n          });\n        }\n      }\n    };\n\n    this.renderJSX = () => {\n      if (this.state.loading) {\n        return React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 291\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          align: \"center\",\n          colSpan: 12,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 292\n          },\n          __self: this\n        }, React.createElement(Loader, {\n          type: \"Circles\",\n          color: \"#00BFFF\",\n          height: \"40\",\n          width: \"40\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 293\n          },\n          __self: this\n        })));\n      } else {\n        if (this.state.rows.length === 0) {\n          return React.createElement(\"tr\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 308\n            },\n            __self: this\n          }, React.createElement(\"td\", {\n            align: \"center\",\n            colSpan: 12,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 309\n            },\n            __self: this\n          }, \"Data Empty\"));\n        }\n\n        var jsx = this.state.rows.map((val, index) => {\n          return React.createElement(\"tr\", {\n            key: index,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 315\n            },\n            __self: this\n          }, React.createElement(\"td\", {\n            align: \"center\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 316\n            },\n            __self: this\n          }, React.createElement(\"input\", {\n            type: \"checkbox\",\n            onClick: this.handleCheckBox,\n            defaultChecked: arr.includes(val.id) ? true : false,\n            value: val.id,\n            style: {\n              width: \"20px\",\n              height: \"20px\"\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 317\n            },\n            __self: this\n          })), React.createElement(\"td\", {\n            align: \"center\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 320\n            },\n            __self: this\n          }, this.state.page > 0 ? index + 1 + this.state.rowsPerPage * (this.state.page - 1) : index + 1), React.createElement(\"td\", {\n            align: \"center\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 321\n            },\n            __self: this\n          }, val.id), React.createElement(\"td\", {\n            align: \"center\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 322\n            },\n            __self: this\n          }, val.borrower_name), React.createElement(\"td\", {\n            align: \"center\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 323\n            },\n            __self: this\n          }, val.service.toString()), React.createElement(\"td\", {\n            align: \"center\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 324\n            },\n            __self: this\n          }, val.product.toString()), React.createElement(\"td\", {\n            align: \"center\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 325\n            },\n            __self: this\n          }, React.createElement(Moment, {\n            locale: \"id\",\n            date: val.created_time,\n            format: \" DD  MMMM  YYYY\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 326\n            },\n            __self: this\n          })), React.createElement(\"td\", {\n            align: \"center\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 328\n            },\n            __self: this\n          }, React.createElement(Moment, {\n            locale: \"id\",\n            date: val.approval_date,\n            format: \" DD  MMMM  YYYY\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 329\n            },\n            __self: this\n          })), React.createElement(\"td\", {\n            align: \"center\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 331\n            },\n            __self: this\n          }, React.createElement(Moment, {\n            locale: \"id\",\n            date: val.disburse_date,\n            format: \" DD  MMMM  YYYY\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 332\n            },\n            __self: this\n          })), React.createElement(\"td\", {\n            align: \"center\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 334\n            },\n            __self: this\n          }, val.disburse_status === 'processing' ? React.createElement(\"input\", {\n            disabled: !checkPermission('lender_loan_confirm_disburse'),\n            type: \"button\",\n            className: \"btn btn-primary\",\n            value: \"Konfirmasi\",\n            onClick: () => this.btnKonfirmasi(val.id),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 336\n            },\n            __self: this\n          }) : this.state.telahDicairkan), React.createElement(\"td\", {\n            align: \"center\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 341\n            },\n            __self: this\n          }, val.disburse_date_changed === false && val.disburse_status === 'processing' ? React.createElement(\"i\", {\n            disabled: !checkPermission('lender_loan_change_disburse_date'),\n            className: \"fas fa-edit\",\n            style: {\n              color: \"black\",\n              fontSize: \"28px\",\n              cursor: \"pointer\"\n            },\n            onClick: () => this.setState({\n              modal: true,\n              idPinjaman: val.id\n            }),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 344\n            },\n            __self: this\n          }) : val.disburse_date_changed ? this.state.statusTanggalDisburse : \"-\"), React.createElement(\"td\", {\n            align: \"center\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 350\n            },\n            __self: this\n          }, React.createElement(Link, {\n            style: {\n              textDecoration: \"none\"\n            },\n            to: `/permintaanpinjamanDetail/${val.id}`,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 351\n            },\n            __self: this\n          }, React.createElement(\"i\", {\n            className: \"fas fa-eye\",\n            style: {\n              color: \"black\",\n              fontSize: \"28px\"\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 352\n            },\n            __self: this\n          }))));\n        });\n        return jsx;\n      }\n    };\n\n    this.btnCancelModalDownload = () => {\n      this.setState({\n        downloadModal: false,\n        downloadDataCSV: [],\n        searchModal: false\n      });\n      var checkboxes = document.querySelectorAll('input[type=checkbox]:checked');\n\n      for (var i = 0; i < checkboxes.length; i++) {\n        checkboxes[i].checked = false;\n      }\n\n      arr = [];\n    };\n\n    this.renderBtnOrLoading = () => {\n      if (this.state.loadingBtn) {\n        return React.createElement(Loader, {\n          type: \"ThreeDots\",\n          color: \"#00BFFF\",\n          height: \"30\",\n          width: \"30\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 375\n          },\n          __self: this\n        });\n      } else {\n        return React.createElement(\"input\", {\n          type: \"button\",\n          className: \"btn btn-primary ml-3\",\n          onClick: this.btnDownloadCsv,\n          value: \"CSV Download\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 385\n          },\n          __self: this\n        });\n      }\n    };\n\n    this.renderBtnDisburseDate = () => {\n      if (this.state.disburse) {\n        return React.createElement(Button, {\n          color: \"primary\",\n          onClick: this.ubahTanggalPencairanBtn,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 392\n          },\n          __self: this\n        }, React.createElement(Loader, {\n          type: \"ThreeDots\",\n          color: \"#00BFFF\",\n          height: \"30\",\n          width: \"30\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 393\n          },\n          __self: this\n        }));\n      } else {\n        return React.createElement(Button, {\n          color: \"primary\",\n          onClick: this.ubahTanggalPencairanBtn,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 403\n          },\n          __self: this\n        }, \"Simpan\");\n      }\n    };\n  }\n\n  componentDidMount() {\n    this._isMounted = true;\n    this.getAllData();\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n  render() {\n    if (getTokenClient() && getTokenAuth()) {\n      return React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 413\n        },\n        __self: this\n      }, React.createElement(Modal, {\n        isOpen: this.state.downloadModal,\n        className: this.props.className,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 415\n        },\n        __self: this\n      }, React.createElement(ModalHeader, {\n        toggle: this.toggle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 416\n        },\n        __self: this\n      }, \"Jumlah Download CSV: \", arr.length, \" item(s)\"), React.createElement(ModalBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 417\n        },\n        __self: this\n      }, React.createElement(CSVLink, {\n        data: this.state.downloadDataCSV,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 418\n        },\n        __self: this\n      }, \" Click Here to Download CSV \")), React.createElement(ModalFooter, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 421\n        },\n        __self: this\n      }, React.createElement(Button, {\n        color: \"secondary\",\n        onClick: this.btnCancelModalDownload,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 422\n        },\n        __self: this\n      }, \"Close\"))), React.createElement(Modal, {\n        isOpen: this.state.modal,\n        className: this.props.className,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 426\n        },\n        __self: this\n      }, React.createElement(ModalHeader, {\n        toggle: this.toggle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 427\n        },\n        __self: this\n      }, \"Ubah Tanggal Pencairan\"), React.createElement(ModalBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 428\n        },\n        __self: this\n      }, React.createElement(DatePicker, {\n        className: \"ml-3\",\n        format: \"yyyy-MM-dd\",\n        onChange: this.handleTanggalPencairan,\n        value: this.state.ubahTanggalPencairan,\n        clearIcon: null,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 430\n        },\n        __self: this\n      })), React.createElement(ModalFooter, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 441\n        },\n        __self: this\n      }, this.renderBtnDisburseDate(), React.createElement(Button, {\n        color: \"secondary\",\n        onClick: () => this.setState({\n          modal: false\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 444\n        },\n        __self: this\n      }, \"Tutup\"))), React.createElement(TableComponent, {\n        id: \"id\",\n        title: 'Pinjaman Disetujui - List',\n        checkBoxAction: this.handleCheckBox,\n        searchDate: {\n          value: [this.state.fromDate, this.state.toDate],\n          label: 'Tanggal Approval',\n          function: [this.onBtnSearch, this.onBtnReset],\n          button: [{\n            label: 'Cari',\n            color: 'green',\n            function: this.onBtnSearch\n          }, {\n            label: 'Reset',\n            color: 'red',\n            function: this.onBtnReset\n          }]\n        },\n        arrayCheckBox: this.state.checkedData,\n        paging: this.state.paging,\n        loading: this.state.loading,\n        columnData: columnDataUser,\n        data: this.state.rows,\n        page: this.state.page,\n        rowsPerPage: this.state.rowsPerPage,\n        totalData: this.state.total_data,\n        onChangePage: this.onChangePage,\n        button: [{\n          label: 'CSV Download',\n          function: this.onBtnSearch\n        }],\n        permissionDetail: checkPermission('lender_loan_request_detail') ? '/permintaanpinjamanDetail/' : null,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 514\n        },\n        __self: this\n      }));\n    } else if (getTokenAuth()) {\n      return React.createElement(Redirect, {\n        to: \"/login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 561\n        },\n        __self: this\n      });\n    }\n  }\n\n}\n\nconst mapStateToProp = state => {\n  return {\n    role: state.user.role,\n    id: state.user.id\n  };\n};\n\nexport default connect(mapStateToProp)(PinjamanSetuju);","map":{"version":3,"sources":["C:/Users/pc/Desktop/asira_fe/src/components/permintaanPinjaman/pinjamanSetuju.js"],"names":["React","DatePicker","swal","CSVLink","Button","Modal","ModalHeader","ModalBody","ModalFooter","Loader","connect","Redirect","Link","Pagination","localeInfo","getPermintaanPinjamanFunction","CSVDownloadFunction","confirmDisburseFunction","changeDisburseDateFunction","Moment","getTokenClient","getTokenAuth","checkPermission","TableComponent","columnDataUser","id","numeric","label","type","arr","PinjamanSetuju","Component","state","checkedData","rows","fromDate","toDate","page","last_page","rowsPerPage","isEdit","editIndex","Number","udahdiklik","startDate","Date","endDate","downloadDataCSV","downloadModal","total_data","loading","loadingBtn","searching","errorMessage","modal","idPinjaman","ubahTanggalPencairan","disburse","telahDicairkan","statusTanggalDisburse","_isMounted","getAllData","param","status","start_date","end_date","data","error","setState","loanRequest","current_page","handleStartChange","date","handleEndChange","onBtnSearch","searchModal","startMonth","getMonth","startDay","getDate","startYear","getFullYear","endMonth","endDay","endYear","length","newFormatStartDate","newFormatEndDate","getTime","alert","onBtnReset","btnDownloadCsv","j","push","toString","btnCSVDownload","onChangePage","current","btnKonfirmasi","confirmDisburse","handleTanggalPencairan","e","handleCheckBox","target","checked","parseInt","value","splice","indexOf","ubahTanggalPencairanBtn","changeDate","disburseDate","renderJSX","jsx","map","val","index","includes","width","height","borrower_name","service","product","created_time","approval_date","disburse_date","disburse_status","disburse_date_changed","color","fontSize","cursor","textDecoration","btnCancelModalDownload","checkboxes","document","querySelectorAll","i","renderBtnOrLoading","renderBtnDisburseDate","componentDidMount","componentWillUnmount","render","props","className","toggle","function","button","paging","mapStateToProp","role","user"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,MAAuB,mBAAvB;AACA,OAAOC,IAAP,MAAiB,YAAjB;AACA,SAASC,OAAT,QAAwB,WAAxB;AACA,SAASC,MAAT,EAAiBC,KAAjB,EAAwBC,WAAxB,EAAqCC,SAArC,EAAgDC,WAAhD,QAAmE,YAAnE;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAO,4CAAP;AACA,SAAQC,OAAR,QAAuB,aAAvB;AACA,SAASC,QAAT,QAAyB,kBAAzB;AACA,SAAQC,IAAR,QAAmB,kBAAnB;AACA,OAAOC,UAAP,MAAuB,eAAvB;AACA,OAAO,oCAAP;AACA,OAAOC,UAAP,MAAuB,gCAAvB;AACA,SAASC,6BAAT,EAAwCC,mBAAxC,EAA6DC,uBAA7D,EAAsFC,0BAAtF,QAAwH,QAAxH;AACA,OAAOC,MAAP,MAAmB,cAAnB;AACA,OAAO,kBAAP;AACA,SAASC,cAAT,EAAyBC,YAAzB,QAA6C,gBAA7C;AACA,SAAQC,eAAR,QAA8B,4BAA9B;AACA,OAAO,+BAAP;AACA,OAAOC,cAAP,MAA2B,kCAA3B;AAEA,MAAMC,cAAc,GAAG,CACrB;AACIC,EAAAA,EAAE,EAAE,IADR;AAEIC,EAAAA,OAAO,EAAE,KAFb;AAGIC,EAAAA,KAAK,EAAE;AAHX,CADqB,EAMrB;AACIF,EAAAA,EAAE,EAAE,eADR;AAEIC,EAAAA,OAAO,EAAE,KAFb;AAGIC,EAAAA,KAAK,EAAE;AAHX,CANqB,EAWrB;AACIF,EAAAA,EAAE,EAAE,SADR;AAEIC,EAAAA,OAAO,EAAE,KAFb;AAGIC,EAAAA,KAAK,EAAE;AAHX,CAXqB,EAgBnB;AACEF,EAAAA,EAAE,EAAE,SADN;AAEEC,EAAAA,OAAO,EAAE,KAFX;AAGEC,EAAAA,KAAK,EAAE;AAHT,CAhBmB,EAqBnB;AACAF,EAAAA,EAAE,EAAE,cADJ;AAEAC,EAAAA,OAAO,EAAE,KAFT;AAGAC,EAAAA,KAAK,EAAE,mBAHP;AAIAC,EAAAA,IAAI,EAAC;AAJL,CArBmB,EA2BnB;AACAH,EAAAA,EAAE,EAAE,eADJ;AAEAC,EAAAA,OAAO,EAAE,KAFT;AAGAC,EAAAA,KAAK,EAAE,kBAHP;AAIAC,EAAAA,IAAI,EAAC;AAJL,CA3BmB,EAiCnB;AACEH,EAAAA,EAAE,EAAE,eADN;AAEEC,EAAAA,OAAO,EAAE,KAFX;AAGEC,EAAAA,KAAK,EAAE,mBAHT;AAIEC,EAAAA,IAAI,EAAC;AAJP,CAjCmB,EAuCnB;AACEH,EAAAA,EAAE,EAAE,EADN;AAEEC,EAAAA,OAAO,EAAE,KAFX;AAGEC,EAAAA,KAAK,EAAE;AAHT,CAvCmB,EA4CnB;AACEF,EAAAA,EAAE,EAAE,EADN;AAEEC,EAAAA,OAAO,EAAE,KAFX;AAGEC,EAAAA,KAAK,EAAE;AAHT,CA5CmB,CAAvB;AAmDA,IAAIE,GAAG,GAAC,EAAR;;AACA,MAAMC,cAAN,SAA6B9B,KAAK,CAAC+B,SAAnC,CAA6C;AAAA;AAAA;AAAA,SAC3CC,KAD2C,GACnC;AACNC,MAAAA,WAAW,EAAC,EADN;AAENC,MAAAA,IAAI,EAAE,EAFA;AAGNC,MAAAA,QAAQ,EAAC,IAHH;AAINC,MAAAA,MAAM,EAAC,IAJD;AAKNC,MAAAA,IAAI,EAAE,CALA;AAKEC,MAAAA,SAAS,EAAC,CALZ;AAMNC,MAAAA,WAAW,EAAE,EANP;AAONC,MAAAA,MAAM,EAAE,KAPF;AAQNC,MAAAA,SAAS,EAACC,MARJ;AASNC,MAAAA,UAAU,EAAG,KATP;AAUNC,MAAAA,SAAS,EAAE,IAAIC,IAAJ,EAVL;AAUiBC,MAAAA,OAAO,EAAE,IAAID,IAAJ,EAV1B;AAWNE,MAAAA,eAAe,EAAE,EAXX;AAWcC,MAAAA,aAAa,EAAC,KAX5B;AAYNC,MAAAA,UAAU,EAAC,CAZL;AAaNC,MAAAA,OAAO,EAAC,IAbF;AAaOC,MAAAA,UAAU,EAAC,KAblB;AAcNC,MAAAA,SAAS,EAAC,KAdJ;AAcUC,MAAAA,YAAY,EAAC,EAdvB;AAeNC,MAAAA,KAAK,EAAC,KAfA;AAeMC,MAAAA,UAAU,EAAC,IAfjB;AAesBC,MAAAA,oBAAoB,EAAC,IAAIX,IAAJ,EAf3C;AAesDY,MAAAA,QAAQ,EAAC,KAf/D;AAeqEC,MAAAA,cAAc,EAAC,cAfpF;AAemGC,MAAAA,qBAAqB,EAAC;AAfzH,KADmC;AAAA,SAmB3CC,UAnB2C,GAmB/B,KAnB+B;;AAAA,SA8B3CC,UA9B2C,GA8B9B,kBAAiB;AAC5B,YAAMC,KAAK,GAAE;AACXC,QAAAA,MAAM,EAAC,UADI;AAEX7B,QAAAA,IAAI,EAAC,IAFM;AAGXG,QAAAA,IAAI,EAAE,KAAKL,KAAL,CAAWK;AAHN,OAAb;;AAKA,UAAG,KAAKL,KAAL,CAAWoB,SAAd,EAAwB;AACtBU,QAAAA,KAAK,CAACE,UAAN,GAAmB,KAAKhC,KAAL,CAAWG,QAA9B;AACA2B,QAAAA,KAAK,CAACG,QAAN,GAAiB,KAAKjC,KAAL,CAAWI,MAA5B;AACD;;AAGD,YAAM8B,IAAI,GAAG,MAAMnD,6BAA6B,CAAC+C,KAAD,CAAhD;;AAEA,UAAGI,IAAH,EAAQ;AACN,YAAG,CAACA,IAAI,CAACC,KAAT,EAAe;AACb,eAAKC,QAAL,CAAc;AAAClB,YAAAA,OAAO,EAAC,KAAT;AAAehB,YAAAA,IAAI,EAACgC,IAAI,CAACG,WAAL,CAAiBH,IAArC;AAA0C3B,YAAAA,WAAW,EAAC2B,IAAI,CAACG,WAAL,CAAiBnC,IAAvE;AAA4EG,YAAAA,IAAI,EAAC6B,IAAI,CAACG,WAAL,CAAiBC,YAAlG;AAA+GhC,YAAAA,SAAS,EAAC4B,IAAI,CAACG,WAAL,CAAiB/B,SAA1I;AAAoJW,YAAAA,UAAU,EAACiB,IAAI,CAACG,WAAL,CAAiBpB;AAAhL,WAAd;AACD,SAFD,MAEK;AACH,eAAKmB,QAAL,CAAc;AAACf,YAAAA,YAAY,EAACa,IAAI,CAACC;AAAnB,WAAd;AACD;AACF;AACF,KAnD0C;;AAAA,SAsD3CI,iBAtD2C,GAsDtBC,IAAD,IAAS;AAC3B,WAAKJ,QAAL,CAAc;AACZxB,QAAAA,SAAS,EAAE4B;AADC,OAAd;AAGD,KA1D0C;;AAAA,SA4D3CC,eA5D2C,GA4DxBD,IAAD,IAAS;AACzB,WAAKJ,QAAL,CAAc;AACZtB,QAAAA,OAAO,EAAE0B;AADG,OAAd;AAGD,KAhE0C;;AAAA,SAkE3CE,WAlE2C,GAkE7B,MAAI;AAChB,WAAKN,QAAL,CAAc;AAAClB,QAAAA,OAAO,EAAC,IAAT;AAAcyB,QAAAA,WAAW,EAAC,IAA1B;AAA+BvB,QAAAA,SAAS,EAAC,IAAzC;AAA+CnB,QAAAA,WAAW,EAAC;AAA3D,OAAd;AADgB,0BAEa,KAAKD,KAFlB;AAAA,YAETY,SAFS,eAETA,SAFS;AAAA,YAEEE,OAFF,eAEEA,OAFF;AAId,UAAI8B,UAAU,GAAE,MAAKhC,SAAS,CAACiC,QAAV,KAAqB,CAA1B,CAAhB;AAAA,UACAC,QAAQ,GAAG,KAAKlC,SAAS,CAACmC,OAAV,EADhB;AAAA,UAEAC,SAAS,GAAGpC,SAAS,CAACqC,WAAV,EAFZ;AAIA,UAAIC,QAAQ,GAAE,MAAKpC,OAAO,CAAC+B,QAAR,KAAmB,CAAxB,CAAd;AAAA,UACAM,MAAM,GAAG,KAAKrC,OAAO,CAACiC,OAAR,EADd;AAAA,UAEAK,OAAO,GAAGtC,OAAO,CAACmC,WAAR,EAFV;AAIA,UAAIL,UAAU,CAACS,MAAX,GAAoB,CAAxB,EAA2BT,UAAU,GAAG,MAAMA,UAAnB;AAC3B,UAAIE,QAAQ,CAACO,MAAT,GAAkB,CAAtB,EAAyBP,QAAQ,GAAG,MAAMA,QAAjB;AAEzB,UAAII,QAAQ,CAACG,MAAT,GAAkB,CAAtB,EAAyBH,QAAQ,GAAG,MAAMA,QAAjB;AACzB,UAAIC,MAAM,CAACE,MAAP,GAAgB,CAApB,EAAuBF,MAAM,GAAG,MAAMA,MAAf;AAEvB,UAAIG,kBAAkB,GAAGN,SAAS,GAAC,GAAV,GAAcJ,UAAd,GAAyB,GAAzB,GAA6BE,QAA7B,GAAsC,gBAA/D;AACA,UAAIS,gBAAgB,GAAGH,OAAO,GAAC,GAAR,GAAYF,QAAZ,GAAqB,GAArB,GAAyBC,MAAzB,GAAgC,gBAAvD;;AAEA,UAAGrC,OAAO,CAAC0C,OAAR,KAAoB5C,SAAS,CAAC4C,OAAV,EAAvB,EAA4C;AAC1CC,QAAAA,KAAK,CAAC,kCAAD,CAAL;AACA,aAAKrB,QAAL,CAAc;AAAClB,UAAAA,OAAO,EAAC;AAAT,SAAd;AACD,OAHD,MAII;AACF,aAAKkB,QAAL,CAAc;AAACjC,UAAAA,QAAQ,EAACmD,kBAAV;AAA6BlD,UAAAA,MAAM,EAACmD,gBAApC;AAAqDlD,UAAAA,IAAI,EAAC;AAA1D,SAAd,EAA2E,MAAI;AAC3E,eAAKwB,UAAL;AACH,SAFD;AAID;AACJ,KAjG0C;;AAAA,SAmG3C6B,UAnG2C,GAmG/B,MAAI;AACd,WAAKtB,QAAL,CAAc;AAAClB,QAAAA,OAAO,EAAC,IAAT;AAAcE,QAAAA,SAAS,EAAC,KAAxB;AAA8Bf,QAAAA,IAAI,EAAC;AAAnC,OAAd,EAAoD,MAAI;AACtD,aAAKwB,UAAL;AAED,OAHD;AAKD,KAzG0C;;AAAA,SA8G3C8B,cA9G2C,GA8G1B,MAAI;AACnB,WAAKvB,QAAL,CAAc;AAACjB,QAAAA,UAAU,EAAC;AAAZ,OAAd;;AAEA,UAAItB,GAAG,CAACwD,MAAJ,KAAa,CAAjB,EAAmB;AACjBnF,QAAAA,IAAI,CAAC,MAAD,EAAQ,4CAAR,EAAqD,MAArD,CAAJ;AACA,aAAKkE,QAAL,CAAc;AAACjB,UAAAA,UAAU,EAAC;AAAZ,SAAd;AACD,OAHD,MAGK;AACH,YAAI1B,EAAE,GAAC,EAAP;;AACA,aAAK,IAAImE,CAAC,GAAC,CAAX,EAAaA,CAAC,GAAC/D,GAAG,CAACwD,MAAnB,EAA0BO,CAAC,EAA3B,EAA8B;AAC5BnE,UAAAA,EAAE,CAACoE,IAAH,CAAQhE,GAAG,CAAC+D,CAAD,CAAX;AACD;;AACD,cAAM9B,KAAK,GAAG;AACZrC,UAAAA,EAAE,EAACA,EAAE,CAACqE,QAAH;AADS,SAAd;AAGA,aAAKC,cAAL,CAAoBjC,KAApB;AAED;AACF,KA/H0C;;AAAA,SAiI3CiC,cAjI2C,GAiI1B,gBAAgBjC,KAAhB,EAAsB;AACrC,YAAMI,IAAI,GAAG,MAAMlD,mBAAmB,CAAC8C,KAAD,CAAtC;;AACA,UAAGI,IAAH,EAAQ;AACN,YAAG,CAACA,IAAI,CAACC,KAAT,EAAe;AACb,eAAKC,QAAL,CAAc;AAACjB,YAAAA,UAAU,EAAC,KAAZ;AAAkBH,YAAAA,aAAa,EAAC,IAAhC;AAAqCD,YAAAA,eAAe,EAACmB,IAAI,CAACA;AAA1D,WAAd;AACD,SAFD,MAEK;AACH,eAAKE,QAAL,CAAc;AAACjB,YAAAA,UAAU,EAAC,KAAZ;AAAkBH,YAAAA,aAAa,EAAC,KAAhC;AAAsCK,YAAAA,YAAY,EAACa,IAAI,CAACC;AAAxD,WAAd;AACD;AACF;AACF,KA1I0C;;AAAA,SA4I3C6B,YA5I2C,GA4I3BC,OAAD,IAAa;AAC1B,WAAK7B,QAAL,CAAc;AAAClB,QAAAA,OAAO,EAAC,IAAT;AAAcb,QAAAA,IAAI,EAAC4D;AAAnB,OAAd,EAA0C,MAAI;AAC1C,aAAKpC,UAAL;AACH,OAFD;AAGD,KAhJ0C;;AAAA,SAkJ3CqC,aAlJ2C,GAkJ1BzE,EAAD,IAAM;AAClB,WAAK0E,eAAL,CAAqB;AAAC1E,QAAAA;AAAD,OAArB;AACH,KApJ0C;;AAAA,SAsJ3C0E,eAtJ2C,GAsJzB,gBAAgBrC,KAAhB,EAAsB;AACtC,YAAMI,IAAI,GAAG,MAAMjD,uBAAuB,CAAE6C,KAAF,CAA1C;;AAEA,UAAGI,IAAH,EAAQ;AACN,YAAG,CAACA,IAAI,CAACC,KAAT,EAAe;AACX,eAAKC,QAAL,CAAc;AAACV,YAAAA,cAAc,EAAC;AAAhB,WAAd,EAA+C,MAAM;AAAE,iBAAKG,UAAL;AAAkB,WAAzE;AACA3D,UAAAA,IAAI,CAAC,SAAD,EAAW,sBAAX,EAAkC,SAAlC,CAAJ;AACH,SAHD,MAGK;AACDA,UAAAA,IAAI,CAAC,MAAD,EAAQ,kBAAR,EAA2B,OAA3B,CAAJ;AACH;AACF;AACF,KAjK0C;;AAAA,SAmK3CkG,sBAnK2C,GAmKlBC,CAAD,IAAK;AAC3B,WAAKjC,QAAL,CAAc;AAACZ,QAAAA,oBAAoB,EAAC6C;AAAtB,OAAd;AACD,KArK0C;;AAAA,SAuK3CC,cAvK2C,GAuK1BD,CAAD,IAAK;AACnB,YAAMpE,WAAW,GAAG,KAAKD,KAAL,CAAWC,WAA/B;;AACA,UAAGoE,CAAC,CAACE,MAAF,CAASC,OAAZ,EAAoB;AAClBvE,QAAAA,WAAW,CAAC4D,IAAZ,CAAiBY,QAAQ,CAACJ,CAAC,CAACE,MAAF,CAASG,KAAV,CAAzB;AACD,OAFD,MAEK;AACHzE,QAAAA,WAAW,CAAC0E,MAAZ,CAAmB1E,WAAW,CAAC2E,OAAZ,CAAoBH,QAAQ,CAACJ,CAAC,CAACE,MAAF,CAASG,KAAV,CAA5B,CAAnB,EAAiE,CAAjE;AACD;;AAED,WAAKtC,QAAL,CAAc;AAACnC,QAAAA;AAAD,OAAd;AAED,KAjL0C;;AAAA,SAkL3C4E,uBAlL2C,GAkLjB,MAAI;AAC5B,WAAKzC,QAAL,CAAc;AAACX,QAAAA,QAAQ,EAAC;AAAV,OAAd;AAD4B,2BAEc,KAAKzB,KAFnB;AAAA,YAErBwB,oBAFqB,gBAErBA,oBAFqB;AAAA,YAEAD,UAFA,gBAEAA,UAFA;AAI5B,UAAIqB,UAAU,GAAE,MAAKpB,oBAAoB,CAACqB,QAArB,KAAgC,CAArC,CAAhB;AAAA,UACAC,QAAQ,GAAG,KAAKtB,oBAAoB,CAACuB,OAArB,EADhB;AAAA,UAEAC,SAAS,GAAGxB,oBAAoB,CAACyB,WAArB,EAFZ;AAIA,UAAIL,UAAU,CAACS,MAAX,GAAoB,CAAxB,EAA2BT,UAAU,GAAG,MAAMA,UAAnB;AAC3B,UAAIE,QAAQ,CAACO,MAAT,GAAkB,CAAtB,EAAyBP,QAAQ,GAAG,MAAMA,QAAjB;AAEzB,YAAMgC,UAAU,GAAG9B,SAAS,GAAC,GAAV,GAAcJ,UAAd,GAAyB,GAAzB,GAA6BE,QAAhD;AACA,YAAMhB,KAAK,GAAE;AACXrC,QAAAA,EAAE,EAAC8B,UADQ;AAEXiB,QAAAA,IAAI,EAACsC;AAFM,OAAb;AAKA,WAAKC,YAAL,CAAkBjD,KAAlB;AACD,KApM0C;;AAAA,SAsM3CiD,YAtM2C,GAsM5B,gBAAgBjD,KAAhB,EAAsB;AACnC,YAAMI,IAAI,GAAG,MAAMhD,0BAA0B,CAAC4C,KAAD,CAA7C;;AAEA,UAAGI,IAAH,EAAQ;AACN,YAAG,CAACA,IAAI,CAACC,KAAT,EAAe;AACbjE,UAAAA,IAAI,CAAC,SAAD,EAAW,mCAAX,EAA+C,SAA/C,CAAJ;AACA,eAAKkE,QAAL,CAAc;AAACd,YAAAA,KAAK,EAAC,KAAP;AAAaG,YAAAA,QAAQ,EAAC,KAAtB;AAA4BE,YAAAA,qBAAqB,EAAC;AAAlD,WAAd,EAA0E,MAAI;AAC5E,iBAAKE,UAAL;AACD,WAFD;AAGD,SALD,MAKK;AACH3D,UAAAA,IAAI,CAAC,MAAD,EAAQ,gCAAR,EAAyC,OAAzC,CAAJ;AACA,eAAKkE,QAAL,CAAc;AAACX,YAAAA,QAAQ,EAAC;AAAV,WAAd;AAED;AACF;AACF,KArN0C;;AAAA,SAsN3CuD,SAtN2C,GAsN/B,MAAI;AACd,UAAI,KAAKhF,KAAL,CAAWkB,OAAf,EAAuB;AACrB,eACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAI,UAAA,KAAK,EAAC,QAAV;AAAmB,UAAA,OAAO,EAAE,EAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACM,oBAAC,MAAD;AACJ,UAAA,IAAI,EAAC,SADD;AAEJ,UAAA,KAAK,EAAC,SAFF;AAGJ,UAAA,MAAM,EAAC,IAHH;AAIJ,UAAA,KAAK,EAAC,IAJF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADN,CADF,CADF;AAeH,OAhBC,MAgBG;AACH,YAAI,KAAKlB,KAAL,CAAWE,IAAX,CAAgBmD,MAAhB,KAAyB,CAA7B,EAA+B;AAC7B,iBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACE;AAAI,YAAA,KAAK,EAAC,QAAV;AAAmB,YAAA,OAAO,EAAE,EAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADF,CADF;AAKD;;AACD,YAAI4B,GAAG,GAAG,KAAKjF,KAAL,CAAWE,IAAX,CAAgBgF,GAAhB,CAAoB,CAACC,GAAD,EAAKC,KAAL,KAAa;AACzC,iBACI;AAAI,YAAA,GAAG,EAAEA,KAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACA;AAAI,YAAA,KAAK,EAAC,QAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACA;AAAO,YAAA,IAAI,EAAC,UAAZ;AAAuB,YAAA,OAAO,EAAE,KAAKd,cAArC;AAAqD,YAAA,cAAc,EAAEzE,GAAG,CAACwF,QAAJ,CAAaF,GAAG,CAAC1F,EAAjB,IAAsB,IAAtB,GAA2B,KAAhG;AAAuG,YAAA,KAAK,EAAE0F,GAAG,CAAC1F,EAAlH;AAAsH,YAAA,KAAK,EAAE;AAAC6F,cAAAA,KAAK,EAAC,MAAP;AAAcC,cAAAA,MAAM,EAAC;AAArB,aAA7H;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADA,CADA,EAKA;AAAI,YAAA,KAAK,EAAC,QAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAoB,KAAKvF,KAAL,CAAWK,IAAX,GAAiB,CAAjB,GAAqB+E,KAAK,GAAC,CAAN,GAAW,KAAKpF,KAAL,CAAWO,WAAX,IAAwB,KAAKP,KAAL,CAAWK,IAAX,GAAiB,CAAzC,CAAhC,GAA+E+E,KAAK,GAAC,CAAzG,CALA,EAMA;AAAI,YAAA,KAAK,EAAC,QAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAoBD,GAAG,CAAC1F,EAAxB,CANA,EAOA;AAAI,YAAA,KAAK,EAAC,QAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAoB0F,GAAG,CAACK,aAAxB,CAPA,EAQA;AAAI,YAAA,KAAK,EAAC,QAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAoBL,GAAG,CAACM,OAAJ,CAAY3B,QAAZ,EAApB,CARA,EASA;AAAI,YAAA,KAAK,EAAC,QAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAoBqB,GAAG,CAACO,OAAJ,CAAY5B,QAAZ,EAApB,CATA,EAUA;AAAI,YAAA,KAAK,EAAC,QAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACA,oBAAC,MAAD;AAAQ,YAAA,MAAM,EAAC,IAAf;AAAoB,YAAA,IAAI,EAAEqB,GAAG,CAACQ,YAA9B;AAA4C,YAAA,MAAM,EAAC,iBAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADA,CAVA,EAaA;AAAI,YAAA,KAAK,EAAC,QAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACA,oBAAC,MAAD;AAAQ,YAAA,MAAM,EAAC,IAAf;AAAoB,YAAA,IAAI,EAAER,GAAG,CAACS,aAA9B;AAA6C,YAAA,MAAM,EAAC,iBAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADA,CAbA,EAgBA;AAAI,YAAA,KAAK,EAAC,QAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACA,oBAAC,MAAD;AAAQ,YAAA,MAAM,EAAC,IAAf;AAAoB,YAAA,IAAI,EAAET,GAAG,CAACU,aAA9B;AAA6C,YAAA,MAAM,EAAC,iBAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADA,CAhBA,EAmBA;AAAI,YAAA,KAAK,EAAC,QAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACCV,GAAG,CAACW,eAAJ,KAAwB,YAAxB,GACC;AAAO,YAAA,QAAQ,EAAE,CAACxG,eAAe,CAAC,8BAAD,CAAjC;AAAmE,YAAA,IAAI,EAAC,QAAxE;AAAiF,YAAA,SAAS,EAAC,iBAA3F;AAA6G,YAAA,KAAK,EAAC,YAAnH;AAAgI,YAAA,OAAO,EAAE,MAAI,KAAK4E,aAAL,CAAmBiB,GAAG,CAAC1F,EAAvB,CAA7I;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADD,GAEC,KAAKO,KAAL,CAAW0B,cAHb,CAnBA,EA0BA;AAAI,YAAA,KAAK,EAAC,QAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAEEyD,GAAG,CAACY,qBAAJ,KAA8B,KAA9B,IAAuCZ,GAAG,CAACW,eAAJ,KAAuB,YAA9D,GACE;AAAG,YAAA,QAAQ,EAAE,CAACxG,eAAe,CAAC,kCAAD,CAA7B;AAAmE,YAAA,SAAS,EAAC,aAA7E;AAA2F,YAAA,KAAK,EAAE;AAAC0G,cAAAA,KAAK,EAAC,OAAP;AAAeC,cAAAA,QAAQ,EAAC,MAAxB;AAA+BC,cAAAA,MAAM,EAAC;AAAtC,aAAlG;AAAoJ,YAAA,OAAO,EAAE,MAAI,KAAK9D,QAAL,CAAc;AAACd,cAAAA,KAAK,EAAC,IAAP;AAAYC,cAAAA,UAAU,EAAC4D,GAAG,CAAC1F;AAA3B,aAAd,CAAjK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,GAEC0F,GAAG,CAACY,qBAAJ,GACD,KAAK/F,KAAL,CAAW2B,qBADV,GACiC,GALpC,CA1BA,EAmCA;AAAI,YAAA,KAAK,EAAC,QAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACI,oBAAC,IAAD;AAAM,YAAA,KAAK,EAAE;AAACwE,cAAAA,cAAc,EAAC;AAAhB,aAAb;AAAsC,YAAA,EAAE,EAAG,6BAA4BhB,GAAG,CAAC1F,EAAG,EAA9E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACI;AAAG,YAAA,SAAS,EAAC,YAAb;AAA2B,YAAA,KAAK,EAAE;AAACuG,cAAAA,KAAK,EAAC,OAAP;AAAeC,cAAAA,QAAQ,EAAC;AAAxB,aAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,CADJ,CAnCA,CADJ;AA2CH,SA5CW,CAAV;AA6CD,eAAOhB,GAAP;AAEA;AAEA,KAhS0C;;AAAA,SAmS3CmB,sBAnS2C,GAmSlB,MAAI;AAC3B,WAAKhE,QAAL,CAAc;AAACpB,QAAAA,aAAa,EAAC,KAAf;AAAqBD,QAAAA,eAAe,EAAC,EAArC;AAAwC4B,QAAAA,WAAW,EAAC;AAApD,OAAd;AACA,UAAI0D,UAAU,GAAGC,QAAQ,CAACC,gBAAT,CAA0B,8BAA1B,CAAjB;;AACA,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,UAAU,CAAChD,MAA/B,EAAuCmD,CAAC,EAAxC,EAA4C;AACtCH,QAAAA,UAAU,CAACG,CAAD,CAAV,CAAchC,OAAd,GAAwB,KAAxB;AACP;;AACC3E,MAAAA,GAAG,GAAG,EAAN;AACD,KA1S0C;;AAAA,SA2S3C4G,kBA3S2C,GA2SvB,MAAI;AACtB,UAAI,KAAKzG,KAAL,CAAWmB,UAAf,EAA0B;AACtB,eAAQ,oBAAC,MAAD;AACR,UAAA,IAAI,EAAC,WADG;AAER,UAAA,KAAK,EAAC,SAFE;AAGR,UAAA,MAAM,EAAC,IAHC;AAIR,UAAA,KAAK,EAAC,IAJE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAR;AAOH,OARD,MASI;AACA,eACE;AAAO,UAAA,IAAI,EAAC,QAAZ;AAAqB,UAAA,SAAS,EAAC,sBAA/B;AAAsD,UAAA,OAAO,EAAE,KAAKwC,cAApE;AAAoF,UAAA,KAAK,EAAC,cAA1F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAGH;AACJ,KA1T4C;;AAAA,SA2TzC+C,qBA3TyC,GA2TlB,MAAI;AACzB,UAAG,KAAK1G,KAAL,CAAWyB,QAAd,EAAuB;AACrB,eACA,oBAAC,MAAD;AAAQ,UAAA,KAAK,EAAC,SAAd;AAAwB,UAAA,OAAO,EAAE,KAAKoD,uBAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI,oBAAC,MAAD;AACC,UAAA,IAAI,EAAC,WADN;AAEC,UAAA,KAAK,EAAC,SAFP;AAGC,UAAA,MAAM,EAAC,IAHR;AAIC,UAAA,KAAK,EAAC,IAJP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ,CADA;AAUD,OAXD,MAWK;AACH,eACE,oBAAC,MAAD;AAAQ,UAAA,KAAK,EAAC,SAAd;AAAwB,UAAA,OAAO,EAAE,KAAKA,uBAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF;AAID;AACF,KA7UwC;AAAA;;AAqB3C8B,EAAAA,iBAAiB,GAAE;AACjB,SAAK/E,UAAL,GAAgB,IAAhB;AACA,SAAKC,UAAL;AACD;;AAED+E,EAAAA,oBAAoB,GAAE;AACpB,SAAKhF,UAAL,GAAgB,KAAhB;AACD;;AAoTDiF,EAAAA,MAAM,GAAG;AACP,QAAGzH,cAAc,MAAMC,YAAY,EAAnC,EAAsC;AACtC,aACI;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEA,oBAAC,KAAD;AAAO,QAAA,MAAM,EAAE,KAAKW,KAAL,CAAWgB,aAA1B;AAAyC,QAAA,SAAS,EAAE,KAAK8F,KAAL,CAAWC,SAA/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,WAAD;AAAa,QAAA,MAAM,EAAE,KAAKC,MAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAAwDnH,GAAG,CAACwD,MAA5D,aADF,EAEE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA,oBAAC,OAAD;AAAS,QAAA,IAAI,EAAE,KAAKrD,KAAL,CAAWe,eAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wCADA,CAFF,EAME,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,MAAD;AAAQ,QAAA,KAAK,EAAC,WAAd;AAA0B,QAAA,OAAO,EAAE,KAAKqF,sBAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,CANF,CAFA,EAaA,oBAAC,KAAD;AAAO,QAAA,MAAM,EAAE,KAAKpG,KAAL,CAAWsB,KAA1B;AAAiC,QAAA,SAAS,EAAE,KAAKwF,KAAL,CAAWC,SAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,WAAD;AAAa,QAAA,MAAM,EAAE,KAAKC,MAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCADF,EAEE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEE,oBAAC,UAAD;AACE,QAAA,SAAS,EAAC,MADZ;AAEE,QAAA,MAAM,EAAC,YAFT;AAGE,QAAA,QAAQ,EAAE,KAAK5C,sBAHjB;AAIE,QAAA,KAAK,EAAE,KAAKpE,KAAL,CAAWwB,oBAJpB;AAKE,QAAA,SAAS,EAAE,IALb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CAFF,EAeE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEG,KAAKkF,qBAAL,EAFH,EAGE,oBAAC,MAAD;AAAQ,QAAA,KAAK,EAAC,WAAd;AAA0B,QAAA,OAAO,EAAE,MAAI,KAAKtE,QAAL,CAAc;AAACd,UAAAA,KAAK,EAAC;AAAP,SAAd,CAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAHF,CAfF,CAbA,EAqGE,oBAAE,cAAF;AACE,QAAA,EAAE,EAAE,IADN;AAEE,QAAA,KAAK,EAAE,2BAFT;AAGE,QAAA,cAAc,EAAE,KAAKgD,cAHvB;AAIE,QAAA,UAAU,EACR;AACEI,UAAAA,KAAK,EAAC,CAAC,KAAK1E,KAAL,CAAWG,QAAZ,EAAsB,KAAKH,KAAL,CAAWI,MAAjC,CADR;AAEET,UAAAA,KAAK,EAAE,kBAFT;AAGEsH,UAAAA,QAAQ,EAAE,CAAC,KAAKvE,WAAN,EAAmB,KAAKgB,UAAxB,CAHZ;AAIEwD,UAAAA,MAAM,EAAE,CACN;AACEvH,YAAAA,KAAK,EAAC,MADR;AAEEqG,YAAAA,KAAK,EAAC,OAFR;AAGEiB,YAAAA,QAAQ,EAAC,KAAKvE;AAHhB,WADM,EAMN;AACE/C,YAAAA,KAAK,EAAC,OADR;AAEEqG,YAAAA,KAAK,EAAC,KAFR;AAGEiB,YAAAA,QAAQ,EAAC,KAAKvD;AAHhB,WANM;AAJV,SALJ;AAuBE,QAAA,aAAa,EAAE,KAAK1D,KAAL,CAAWC,WAvB5B;AAwBE,QAAA,MAAM,EAAE,KAAKD,KAAL,CAAWmH,MAxBrB;AAyBE,QAAA,OAAO,EAAE,KAAKnH,KAAL,CAAWkB,OAzBtB;AA0BE,QAAA,UAAU,EAAE1B,cA1Bd;AA2BE,QAAA,IAAI,EAAE,KAAKQ,KAAL,CAAWE,IA3BnB;AA4BE,QAAA,IAAI,EAAE,KAAKF,KAAL,CAAWK,IA5BnB;AA6BE,QAAA,WAAW,EAAE,KAAKL,KAAL,CAAWO,WA7B1B;AA8BE,QAAA,SAAS,EAAE,KAAKP,KAAL,CAAWiB,UA9BxB;AA+BE,QAAA,YAAY,EAAE,KAAK+C,YA/BrB;AAgCE,QAAA,MAAM,EACJ,CACE;AACErE,UAAAA,KAAK,EAAC,cADR;AAEEsH,UAAAA,QAAQ,EAAC,KAAKvE;AAFhB,SADF,CAjCJ;AAwCE,QAAA,gBAAgB,EAAGpD,eAAe,CAAC,4BAAD,CAAf,GAAgD,4BAAhD,GAA+E,IAxCpG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QArGF,CADJ;AAmJH,KApJG,MAqJC,IAAID,YAAY,EAAhB,EAAmB;AACtB,aAAQ,oBAAC,QAAD;AAAU,QAAA,EAAE,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAR;AACD;AACE;;AAze0C;;AA4e7C,MAAM+H,cAAc,GAAIpH,KAAD,IAAS;AAC9B,SAAM;AACFqH,IAAAA,IAAI,EAAErH,KAAK,CAACsH,IAAN,CAAWD,IADf;AAEF5H,IAAAA,EAAE,EAAEO,KAAK,CAACsH,IAAN,CAAW7H;AAFb,GAAN;AAID,CALD;;AAMA,eAAef,OAAO,CAAE0I,cAAF,CAAP,CAAyBtH,cAAzB,CAAf","sourcesContent":["import React from 'react';\r\nimport DatePicker from \"react-date-picker\";\r\nimport swal from 'sweetalert'\r\nimport { CSVLink } from \"react-csv\";\r\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\r\nimport Loader from 'react-loader-spinner'\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport {connect } from 'react-redux'\r\nimport { Redirect } from 'react-router-dom'\r\nimport {Link} from 'react-router-dom'\r\nimport Pagination from 'rc-pagination';\r\nimport './../../support/css/pagination.css'\r\nimport localeInfo from 'rc-pagination/lib/locale/id_ID'\r\nimport { getPermintaanPinjamanFunction, CSVDownloadFunction, confirmDisburseFunction, changeDisburseDateFunction } from './saga';\r\nimport Moment from 'react-moment'\r\nimport 'moment/locale/id'\r\nimport { getTokenClient, getTokenAuth } from '../index/token';\r\nimport {checkPermission} from './../global/globalFunction'\r\nimport './../../support/css/table.css'\r\nimport TableComponent from './../subComponent/TableComponent'\r\n\r\nconst columnDataUser = [\r\n  {\r\n      id: 'id',\r\n      numeric: false,\r\n      label: 'ID Pinjaman',\r\n  },\r\n  {\r\n      id: 'borrower_name',\r\n      numeric: false,\r\n      label: 'Nama Nasabah',\r\n  },\r\n  {\r\n      id: 'service',\r\n      numeric: false,\r\n      label: 'Layanan',\r\n  },\r\n    {\r\n      id: 'product',\r\n      numeric: false,\r\n      label: 'Produk',\r\n    },\r\n    {\r\n    id: 'created_time',\r\n    numeric: false,\r\n    label: 'Tanggal Pengajuan',\r\n    type:'datetime'\r\n    },\r\n    {\r\n    id: 'approval_date',\r\n    numeric: false,\r\n    label: 'Tanggal Approval',\r\n    type:'datetime'\r\n    },\r\n    {\r\n      id: 'disburse_date',\r\n      numeric: false,\r\n      label: 'Tanggal Pencairan',\r\n      type:'datetime'\r\n    },\r\n    {\r\n      id: '',\r\n      numeric: false,\r\n      label: 'Telah Dicairkan',\r\n    },\r\n    {\r\n      id: '',\r\n      numeric: false,\r\n      label: 'Ubah Tanggal Pencairan',\r\n    },\r\n\r\n]\r\nvar arr=[]\r\nclass PinjamanSetuju extends React.Component {\r\n  state = {\r\n    checkedData:[],\r\n    rows: [],\r\n    fromDate:null,\r\n    toDate:null,\r\n    page: 1,last_page:1,\r\n    rowsPerPage: 10,\r\n    isEdit: false,\r\n    editIndex:Number,\r\n    udahdiklik : false,\r\n    startDate: new Date() ,endDate: new Date(),\r\n    downloadDataCSV: [],downloadModal:false,\r\n    total_data:0,\r\n    loading:true,loadingBtn:false,\r\n    searching:false,errorMessage:'',\r\n    modal:false,idPinjaman:null,ubahTanggalPencairan:new Date(),disburse:false,telahDicairkan:'Dikonfirmasi',statusTanggalDisburse:'Diubah'\r\n  };\r\n\r\n  _isMounted =false\r\n\r\n  componentDidMount(){\r\n    this._isMounted=true\r\n    this.getAllData()\r\n  }\r\n\r\n  componentWillUnmount(){\r\n    this._isMounted=false\r\n  }\r\n\r\n  getAllData = async function (){\r\n    const param ={\r\n      status:\"approved\",\r\n      rows:\"10\",\r\n      page: this.state.page,\r\n    }\r\n    if(this.state.searching){\r\n      param.start_date = this.state.fromDate\r\n      param.end_date = this.state.toDate\r\n    }\r\n\r\n\r\n    const data = await getPermintaanPinjamanFunction(param)\r\n\r\n    if(data){\r\n      if(!data.error){\r\n        this.setState({loading:false,rows:data.loanRequest.data,rowsPerPage:data.loanRequest.rows,page:data.loanRequest.current_page,last_page:data.loanRequest.last_page,total_data:data.loanRequest.total_data})        \r\n      }else{\r\n        this.setState({errorMessage:data.error})\r\n      }\r\n    }\r\n  }\r\n\r\n  //UNTUK TANGGAL \r\n  handleStartChange = (date)=> {\r\n    this.setState({\r\n      startDate: date\r\n    });\r\n  }\r\n\r\n  handleEndChange = (date)=> {\r\n    this.setState({\r\n      endDate: date\r\n    });\r\n  }\r\n  \r\n  onBtnSearch = ()=>{\r\n    this.setState({loading:true,searchModal:true,searching:true, checkedData:[]})\r\n    const {startDate, endDate} = this.state\r\n\r\n      var startMonth =''+ (startDate.getMonth()+1),\r\n      startDay = '' + startDate.getDate(),\r\n      startYear = startDate.getFullYear();\r\n\r\n      var endMonth =''+ (endDate.getMonth()+1),\r\n      endDay = '' + endDate.getDate(),\r\n      endYear = endDate.getFullYear();\r\n\r\n      if (startMonth.length < 2) startMonth = '0' + startMonth;\r\n      if (startDay.length < 2) startDay = '0' + startDay;\r\n\r\n      if (endMonth.length < 2) endMonth = '0' + endMonth;\r\n      if (endDay.length < 2) endDay = '0' + endDay;\r\n      \r\n      var newFormatStartDate = startYear+\"-\"+startMonth+\"-\"+startDay+\"T00:00:00.000Z\"\r\n      var newFormatEndDate = endYear+\"-\"+endMonth+\"-\"+endDay+\"T23:59:59.000Z\"\r\n    \r\n      if(endDate.getTime() < startDate.getTime() ){\r\n        alert(\"Please input correct month range\")\r\n        this.setState({loading:false})\r\n      }\r\n      else{\r\n        this.setState({fromDate:newFormatStartDate,toDate:newFormatEndDate,page:1},()=>{\r\n            this.getAllData()\r\n        })\r\n        \r\n      }\r\n  }\r\n\r\n  onBtnReset =()=>{\r\n    this.setState({loading:true,searching:false,page:1},()=>{\r\n      this.getAllData()\r\n\r\n    })\r\n\r\n  }\r\n\r\n//BUAT DOWNLOAD CSV\r\n  \r\n\r\n  btnDownloadCsv = ()=>{\r\n    this.setState({loadingBtn:true})\r\n  \r\n    if (arr.length===0){\r\n      swal(\"Info\",\"Silahkan Pilih Data yang ingin di download\",\"info\")\r\n      this.setState({loadingBtn:false})\r\n    }else{\r\n      var id=[]\r\n      for (var j=0;j<arr.length;j++){\r\n        id.push(arr[j])\r\n      }\r\n      const param = {\r\n        id:id.toString()\r\n      }\r\n      this.btnCSVDownload(param)\r\n\r\n    }    \r\n  }\r\n\r\n  btnCSVDownload = async function (param){\r\n    const data = await CSVDownloadFunction(param)\r\n    if(data){\r\n      if(!data.error){\r\n        this.setState({loadingBtn:false,downloadModal:true,downloadDataCSV:data.data})\r\n      }else{\r\n        this.setState({loadingBtn:false,downloadModal:false,errorMessage:data.error})\r\n      }\r\n    }\r\n  }\r\n\r\n  onChangePage = (current) => {\r\n    this.setState({loading:true,page:current},()=>{\r\n        this.getAllData()\r\n    })\r\n  }\r\n\r\n  btnKonfirmasi = (id)=>{\r\n      this.confirmDisburse({id})\r\n  } \r\n\r\n  confirmDisburse = async function (param){\r\n    const data = await confirmDisburseFunction (param)\r\n\r\n    if(data){\r\n      if(!data.error){\r\n          this.setState({telahDicairkan:'Dikonfirmasi'}, () => { this.getAllData()})\r\n          swal(\"Success\",\"Dana telah dicairkan\",\"success\")\r\n      }else{\r\n          swal(\"Fail\",\"Konfirmasi Gagal\",\"error\")\r\n      }\r\n    }\r\n  }\r\n\r\n  handleTanggalPencairan =(e)=>{\r\n    this.setState({ubahTanggalPencairan:e})\r\n  }\r\n  \r\n  handleCheckBox =(e)=>{\r\n    const checkedData = this.state.checkedData;\r\n    if(e.target.checked){\r\n      checkedData.push(parseInt(e.target.value))\r\n    }else{\r\n      checkedData.splice(checkedData.indexOf(parseInt(e.target.value)),1)\r\n    }\r\n\r\n    this.setState({checkedData});\r\n    \r\n  }\r\n  ubahTanggalPencairanBtn = ()=>{\r\n    this.setState({disburse:true})\r\n    const {ubahTanggalPencairan,idPinjaman} = this.state\r\n\r\n    let startMonth =''+ (ubahTanggalPencairan.getMonth()+1),\r\n    startDay = '' + ubahTanggalPencairan.getDate(),\r\n    startYear = ubahTanggalPencairan.getFullYear();\r\n\r\n    if (startMonth.length < 2) startMonth = '0' + startMonth;\r\n    if (startDay.length < 2) startDay = '0' + startDay;\r\n\r\n    const changeDate = startYear+\"-\"+startMonth+\"-\"+startDay\r\n    const param ={\r\n      id:idPinjaman,\r\n      date:changeDate\r\n    }\r\n    \r\n    this.disburseDate(param)\r\n  }\r\n\r\n  disburseDate = async function (param){\r\n    const data = await changeDisburseDateFunction(param)\r\n\r\n    if(data){\r\n      if(!data.error){\r\n        swal(\"Success\",\"Tanggal pencairan berhasil diubah\",\"success\")\r\n        this.setState({modal:false,disburse:false,statusTanggalDisburse:'Diubah'},()=>{\r\n          this.getAllData()\r\n        })\r\n      }else{\r\n        swal(\"Fail\",\"Tanggal pencairan gagal diubah\",\"error\")\r\n        this.setState({disburse:false})\r\n\r\n      }\r\n    }\r\n  } \r\n  renderJSX = ()=>{\r\n    if (this.state.loading){\r\n      return  (\r\n        <tr>\r\n          <td align=\"center\" colSpan={12}>\r\n                <Loader \r\n            type=\"Circles\"\r\n            color=\"#00BFFF\"\r\n            height=\"40\"\t\r\n            width=\"40\"\r\n        />   \r\n          </td>\r\n        </tr>\r\n      )\r\n      \r\n      \r\n   \r\n  }else{\r\n    if (this.state.rows.length===0){\r\n      return(\r\n        <tr>\r\n          <td align=\"center\" colSpan={12}>Data Empty</td>\r\n        </tr>\r\n      )\r\n    }\r\n    var jsx = this.state.rows.map((val,index)=>{\r\n      return (\r\n          <tr key={index}>\r\n          <td align=\"center\">\r\n          <input type=\"checkbox\" onClick={this.handleCheckBox} defaultChecked={arr.includes(val.id) ?true:false} value={val.id} style={{width:\"20px\",height:\"20px\"}} /> \r\n          </td>\r\n          {/* <td align=\"center\">{index+1}</td> */}\r\n          <td align=\"center\">{this.state.page >0 ? index+1 + (this.state.rowsPerPage*(this.state.page -1)) : index+1}</td>\r\n          <td align=\"center\">{val.id}</td>\r\n          <td align=\"center\">{val.borrower_name}</td>\r\n          <td align=\"center\">{val.service.toString()}</td>\r\n          <td align=\"center\">{val.product.toString()}</td>\r\n          <td align=\"center\">\r\n          <Moment locale=\"id\" date={val.created_time} format=\" DD  MMMM  YYYY\" /> \r\n          </td>\r\n          <td align=\"center\">\r\n          <Moment locale=\"id\" date={val.approval_date} format=\" DD  MMMM  YYYY\" /> \r\n          </td>\r\n          <td align=\"center\">\r\n          <Moment locale=\"id\" date={val.disburse_date} format=\" DD  MMMM  YYYY\" /> \r\n          </td>\r\n          <td align=\"center\">\r\n          {val.disburse_status === 'processing' ?\r\n            <input disabled={!checkPermission('lender_loan_confirm_disburse')} type=\"button\" className=\"btn btn-primary\" value=\"Konfirmasi\" onClick={()=>this.btnKonfirmasi(val.id)}></input>\r\n          : this.state.telahDicairkan}\r\n        \r\n          </td>\r\n\r\n          <td align=\"center\">\r\n            { \r\n            val.disburse_date_changed === false && val.disburse_status ==='processing'? \r\n              <i disabled={!checkPermission('lender_loan_change_disburse_date')} className=\"fas fa-edit\" style={{color:\"black\",fontSize:\"28px\",cursor:\"pointer\"}} onClick={()=>this.setState({modal:true,idPinjaman:val.id})}></i>\r\n            :val.disburse_date_changed?\r\n            this.state.statusTanggalDisburse: \"-\"\r\n            }\r\n             \r\n          </td>\r\n          <td align=\"center\">\r\n              <Link style={{textDecoration:\"none\"}} to={`/permintaanpinjamanDetail/${val.id}`}>\r\n                  <i className=\"fas fa-eye\"  style={{color:\"black\",fontSize:\"28px\"}}></i>\r\n              </Link>\r\n          </td>\r\n      </tr>\r\n      )\r\n  })\r\n   return jsx;\r\n\r\n  }\r\n    \r\n  }\r\n  //FUNCTION BUAT MODAL\r\n \r\n  btnCancelModalDownload = ()=>{\r\n    this.setState({downloadModal:false,downloadDataCSV:[],searchModal:false})\r\n    var checkboxes = document.querySelectorAll('input[type=checkbox]:checked')\r\n    for (var i = 0; i < checkboxes.length; i++) {\r\n          checkboxes[i].checked = false;\r\n  }\r\n    arr = []\r\n  }\r\n  renderBtnOrLoading =()=>{\r\n    if (this.state.loadingBtn){\r\n        return  <Loader \r\n        type=\"ThreeDots\"\r\n        color=\"#00BFFF\"\r\n        height=\"30\"\t\r\n        width=\"30\"\r\n        \r\n     />   \r\n    }\r\n    else{\r\n        return(\r\n          <input type=\"button\" className=\"btn btn-primary ml-3\" onClick={this.btnDownloadCsv} value=\"CSV Download\"></input>\r\n        )\r\n    }\r\n}\r\n    renderBtnDisburseDate =()=>{\r\n      if(this.state.disburse){\r\n        return(\r\n        <Button color=\"primary\" onClick={this.ubahTanggalPencairanBtn}>   \r\n            <Loader \r\n             type=\"ThreeDots\"\r\n             color=\"#00BFFF\"\r\n             height=\"30\"\t\r\n             width=\"30\"\r\n         />       \r\n        </Button>  \r\n        )\r\n      }else{\r\n        return(\r\n          <Button color=\"primary\" onClick={this.ubahTanggalPencairanBtn}>Simpan</Button>    \r\n\r\n        )\r\n      }\r\n    }\r\n\r\n    \r\n  render() {\r\n    if(getTokenClient() && getTokenAuth()){\r\n    return (\r\n        <div className=\"container\">\r\n\r\n        <Modal isOpen={this.state.downloadModal} className={this.props.className}>\r\n          <ModalHeader toggle={this.toggle}>Jumlah Download CSV: {arr.length} item(s)</ModalHeader>\r\n          <ModalBody>\r\n          <CSVLink data={this.state.downloadDataCSV} \r\n          > Click Here to Download CSV </CSVLink>\r\n          </ModalBody>\r\n          <ModalFooter>\r\n            <Button color=\"secondary\" onClick={this.btnCancelModalDownload}>Close</Button>\r\n          </ModalFooter>\r\n        </Modal>\r\n      \r\n        <Modal isOpen={this.state.modal} className={this.props.className}>\r\n          <ModalHeader toggle={this.toggle}>Ubah Tanggal Pencairan</ModalHeader>\r\n          <ModalBody>\r\n\r\n            <DatePicker\r\n              className=\"ml-3\"\r\n              format=\"yyyy-MM-dd\"\r\n              onChange={this.handleTanggalPencairan}\r\n              value={this.state.ubahTanggalPencairan}\r\n              clearIcon={null}\r\n            /> \r\n            \r\n                  \r\n            \r\n          </ModalBody>\r\n          <ModalFooter>\r\n\r\n            {this.renderBtnDisburseDate()}\r\n            <Button color=\"secondary\" onClick={()=>this.setState({modal:false})}>Tutup</Button>\r\n          </ModalFooter>\r\n        </Modal>\r\n\r\n        {/* \r\n        <nav className=\"navbar\">\r\n          <h2>Pinjaman Disetujui - List</h2>\r\n       \r\n     \r\n        </nav>\r\n         <div className=\"row\">\r\n            <div className=\"col-12 col-md-12\">\r\n                \r\n        <DatePicker\r\n        className=\"ml-3\"\r\n        format=\"yyyy-MM-dd\"\r\n        onChange={this.handleStartChange}\r\n        value={this.state.startDate}\r\n        clearIcon={null}\r\n            />  -  <DatePicker\r\n        format=\"y-MM-d\"\r\n        onChange={this.handleEndChange}\r\n        value={this.state.endDate}\r\n        clearIcon={null}\r\n        \r\n        />\r\n            <div style={{float:\"right\"}}>\r\n                <input type=\"button\" className=\"btn btn-primary ml-2\" onClick={this.onBtnSearch} value=\"Search\"></input>\r\n                <input type=\"button\" className=\"btn btn-primary ml-2\" onClick={this.onBtnReset} value=\"Reset\"></input>\r\n            </div>    \r\n            </div>\r\n        </div> \r\n          <table className=\"table table-hover mt-2\">\r\n          <thead className=\"theadCustom\">\r\n              <tr>\r\n                <th className=\"text-center\" scope=\"col\"><i className=\"far fa-check-square\"></i></th>\r\n                <th className=\"text-center\" scope=\"col\">#</th>\r\n                <th className=\"text-center\" scope=\"col\">Id Pinjaman</th>\r\n                <th className=\"text-center\" scope=\"col\">Nama Nasabah</th>\r\n                <th className=\"text-center\" scope=\"col\">Layanan</th>\r\n                <th className=\"text-center\" scope=\"col\">Produk</th>\r\n                <th className=\"text-center\" scope=\"col\">Tanggal Pengajuan</th>\r\n                <th className=\"text-center\" scope=\"col\">Tanggal Approval</th>\r\n                <th className=\"text-center\" scope=\"col\">Tanggal Pencairan</th>\r\n                <th className=\"text-center\" scope=\"col\">Telah Dicairkan</th>\r\n                <th className=\"text-center\" scope=\"col\">Ubah Tanggal Pencairan</th>\r\n                <th className=\"text-center\" scope=\"col\">Detail</th>\r\n              </tr>     \r\n          </thead>\r\n            <tbody>\r\n            {this.renderJSX()}\r\n            </tbody>\r\n            <tfoot>\r\n              <tr>\r\n              </tr>\r\n            </tfoot>\r\n          </table>\r\n          <hr></hr>\r\n          {this.renderBtnOrLoading()}        \r\n          <nav className=\"navbar\" style={{float:\"right\"}}> \r\n          <Pagination className=\"ant-pagination\"  \r\n                current={this.state.page}\r\n                showTotal={(total, range) => `${range[0]} - ${range[1]} of ${total} items`}\r\n                total={this.state.total_data}\r\n                pageSize={this.state.rowsPerPage}\r\n                onChange={this.onChangePage}\r\n                locale={localeInfo}\r\n                />\r\n          </nav> */}\r\n\r\n          < TableComponent\r\n            id={\"id\"}\r\n            title={'Pinjaman Disetujui - List'}\r\n            checkBoxAction={this.handleCheckBox}\r\n            searchDate={\r\n              {\r\n                value:[this.state.fromDate, this.state.toDate],\r\n                label: 'Tanggal Approval',\r\n                function: [this.onBtnSearch, this.onBtnReset],\r\n                button: [\r\n                  {\r\n                    label:'Cari',\r\n                    color:'green',\r\n                    function:this.onBtnSearch\r\n                  },\r\n                  {\r\n                    label:'Reset',\r\n                    color:'red',\r\n                    function:this.onBtnReset\r\n                  },\r\n                ]\r\n              }\r\n            }\r\n            arrayCheckBox={this.state.checkedData}\r\n            paging={this.state.paging}\r\n            loading={this.state.loading}\r\n            columnData={columnDataUser}\r\n            data={this.state.rows}\r\n            page={this.state.page}\r\n            rowsPerPage={this.state.rowsPerPage}\r\n            totalData={this.state.total_data}\r\n            onChangePage={this.onChangePage}     \r\n            button={\r\n              [\r\n                {\r\n                  label:'CSV Download',\r\n                  function:this.onBtnSearch\r\n                },\r\n              ]\r\n            }        \r\n            permissionDetail={ checkPermission('lender_loan_request_detail') ? '/permintaanpinjamanDetail/' : null}\r\n          /> \r\n        \r\n        </div>\r\n    );\r\n}\r\nelse if (getTokenAuth()){\r\n  return  <Redirect to='/login' />\r\n}\r\n  }\r\n}\r\n\r\nconst mapStateToProp = (state)=>{\r\n  return{\r\n      role: state.user.role,\r\n      id: state.user.id\r\n  }\r\n}\r\nexport default connect (mapStateToProp)(PinjamanSetuju) ;\r\n"]},"metadata":{},"sourceType":"module"}