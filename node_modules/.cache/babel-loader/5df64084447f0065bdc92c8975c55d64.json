{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\pc\\\\Desktop\\\\asira_fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _classCallCheck from \"C:\\\\Users\\\\pc\\\\Desktop\\\\asira_fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\pc\\\\Desktop\\\\asira_fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\pc\\\\Desktop\\\\asira_fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\pc\\\\Desktop\\\\asira_fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\pc\\\\Desktop\\\\asira_fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\pc\\\\Desktop\\\\asira_fe\\\\src\\\\components\\\\pencairan\\\\pencairanDetail.js\";\nimport React from 'react';\nimport { Redirect } from 'react-router-dom'; // import CheckBox from '../subComponent/CheckBox';\n\nimport Grid from '@material-ui/core/Grid';\nimport Loader from 'react-loader-spinner';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router';\nimport { withStyles } from '@material-ui/styles';\nimport { compose } from 'redux';\nimport { getPermintaanPinjamanDetailFunction } from '../permintaanPinjaman/saga';\nimport { formatNumber, handleFormatDate, findAmount } from '../global/globalFunction';\nimport { getTokenClient } from '../index/token';\nimport GridDetail from '../subComponent/GridDetail';\nimport TitleBar from '../subComponent/TitleBar';\nimport { Button } from '@material-ui/core';\n\nvar styles = function styles(theme) {\n  return {\n    container: {\n      flexGrow: 1\n    }\n  };\n};\n\nvar PencairanDetail =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(PencairanDetail, _React$Component);\n\n  function PencairanDetail() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, PencairanDetail);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(PencairanDetail)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this._isMounted = false;\n    _this.state = {\n      diKlik: false,\n      errorMessage: '',\n      dataDetail: {},\n      loanId: 0,\n      disabled: true,\n      loading: true\n    };\n\n    _this.refresh = function _callee() {\n      var param, data;\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              param = {\n                idLoan: this.state.loanId\n              };\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(getPermintaanPinjamanDetailFunction(param, null));\n\n            case 3:\n              data = _context.sent;\n\n              if (data) {\n                if (!data.error) {\n                  if (data.dataLender && data.dataLender.status && data.dataLender.disburse_status && data.dataLender.status.toString().toLowerCase() === 'approved' && data.dataLender.disburse_status.toString().toLowerCase() === 'confirmed') {\n                    this.setState({\n                      dataDetail: data.dataLender,\n                      dataBorrower: data.dataLender && data.dataLender.borrower_info,\n                      loading: false\n                    });\n                  } else {\n                    this.setState({\n                      diKlik: true\n                    });\n                  }\n                } else {\n                  this.setState({\n                    errorMessage: data.error,\n                    loading: false\n                  });\n                }\n              }\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, this);\n    };\n\n    _this.btnCancel = function () {\n      _this.setState({\n        diKlik: true\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(PencairanDetail, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this._isMounted = true;\n      this.setState({\n        loanId: this.props.match.params.idLoan\n      }, function () {\n        _this2.refresh();\n      });\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this._isMounted = false;\n    }\n  }, {\n    key: \"UNSAFE_componentWillReceiveProps\",\n    value: function UNSAFE_componentWillReceiveProps(newProps) {\n      this.setState({\n        errorMessage: newProps.error\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.state.diKlik) {\n        return React.createElement(Redirect, {\n          to: \"/pencairanList\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86\n          },\n          __self: this\n        });\n      } else if (this.state.loading) {\n        return React.createElement(\"div\", {\n          key: \"zz\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          align: \"center\",\n          colSpan: 6,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90\n          },\n          __self: this\n        }, React.createElement(Loader, {\n          type: \"Circles\",\n          color: \"#00BFFF\",\n          height: \"40\",\n          width: \"40\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91\n          },\n          __self: this\n        })));\n      } else if (getTokenClient()) {\n        console.log(this.state.dataDetail);\n        return React.createElement(Grid, {\n          container: true,\n          className: \"containerDetail\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103\n          },\n          __self: this\n        }, React.createElement(Grid, {\n          item: true,\n          sm: 12,\n          xs: 12,\n          style: {\n            maxHeight: 50\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105\n          },\n          __self: this\n        }, React.createElement(TitleBar, {\n          title: 'Pencairan - Detail',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107\n          },\n          __self: this\n        })), React.createElement(Grid, {\n          item: true,\n          sm: 12,\n          xs: 12,\n          style: {\n            padding: 10,\n            marginBottom: 20,\n            boxShadow: '0px -3px 25px rgba(99,167,181,0.24)',\n            WebkitBoxShadow: '0px -3px 25px rgba(99,167,181,0.24)',\n            borderRadius: '15px'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 113\n          },\n          __self: this\n        }, React.createElement(Grid, {\n          container: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 118\n          },\n          __self: this\n        }, React.createElement(Grid, {\n          item: true,\n          sm: 12,\n          xs: 12,\n          style: {\n            color: 'red'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 119\n          },\n          __self: this\n        }, this.state.errorMessage), React.createElement(GridDetail, {\n          gridLabel: [4, 5],\n          background: true,\n          noTitleLine: true,\n          label: [['ID Pinjaman', 'Nama Nasabah'], ['Rekening Pinjaman', 'Status Pinjaman'], ['Kategori', 'Agen/ AE']],\n          data: this.state.dataDetail && this.state.dataBorrower && [[this.state.dataDetail.id, this.state.dataDetail.borrower_name], [this.state.dataBorrower.bank_accountnumber, this.state.dataDetail.status && this.state.dataDetail.status.toString().toLowerCase() === 'approved' && this.state.dataDetail.disburse_status && this.state.dataDetail.disburse_status.toString().toLowerCase() === 'confirmed' ? {\n            value: \"Telah Dicairkan\",\n            color: 'blue'\n          } : ''], [this.state.dataDetail.category && this.state.dataDetail.category === 'account_executive' ? 'Account Executive' : this.state.dataDetail.category === 'agent' ? 'Agen' : 'Personal', \"\".concat(this.state.dataDetail.agent_name ? this.state.dataDetail.agent_name : \"-\", \" (\").concat(this.state.dataDetail.agent_provider_name ? this.state.dataDetail.agent_provider_name : \"-\", \")\")]],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 124\n          },\n          __self: this\n        }), React.createElement(GridDetail, {\n          gridLabel: [4, 5],\n          label: [['Pinjaman Pokok', 'Tenor (Bulan)', 'Total Pinjaman', 'Angsuran Perbulan'], ['Tujuan Pinjaman', 'Detail Tujuan', 'Tanggal Pengajuan', 'Tanggal Persetujuan']],\n          data: this.state.dataDetail && [[\"Rp. \" + formatNumber(parseInt(this.state.dataDetail.loan_amount)), this.state.dataDetail.installment, \"Rp. \" + formatNumber(parseInt(this.state.dataDetail.total_loan)), \"Rp. \" + formatNumber(parseInt(this.state.dataDetail.layaway_plan))], [this.state.dataDetail.loan_intention, this.state.dataDetail.intention_details, handleFormatDate(this.state.dataDetail.created_at), handleFormatDate(this.state.dataDetail.updated_at)], []],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 152\n          },\n          __self: this\n        }), React.createElement(GridDetail, {\n          gridLabel: [8],\n          noEquals: true,\n          label: [['', 'Imbal Hasil/ Bunga', 'Admin Fee', 'Convenience Fee'], ['(Jumlah)', \"Rp. \" + formatNumber(this.state.dataDetail && this.state.dataDetail.loan_amount && this.state.dataDetail.interest && parseInt(this.state.dataDetail.interest * this.state.dataDetail.loan_amount / 100), true), \"Rp. \" + formatNumber(findAmount(this.state.dataDetail && this.state.dataDetail.fees, 'Admin Fee', this.state.dataDetail && this.state.dataDetail.loan_amount, false), true), \"Rp. \" + formatNumber(findAmount(this.state.dataDetail && this.state.dataDetail.fees, 'Convenience Fee', this.state.dataDetail && this.state.dataDetail.loan_amount, false), true)], ['', '', '', '']],\n          data: this.state.dataDetail && [['<b>(%)', \"<b>\".concat(parseFloat(this.state.dataDetail.interest).toFixed(2), \"%\"), \"<b>\".concat(findAmount(this.state.dataDetail && this.state.dataDetail.fees, 'Admin Fee', this.state.dataDetail && this.state.dataDetail.loan_amount, true), \"%\"), \"<b>\".concat(findAmount(this.state.dataDetail && this.state.dataDetail.fees, 'Convenience Fee', this.state.dataDetail && this.state.dataDetail.loan_amount, true), \"%\")], [' ', ' ', ' ', ' '], [' ', ' ', ' ', ' '], [' ', ' ', ' ', ' ']],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 179\n          },\n          __self: this\n        }), React.createElement(GridDetail, {\n          title: 'Info Penghasilan Saat Pengajuan',\n          gridLabel: [3],\n          label: [['Pendapatan perbulan', 'Penghasilan lain-lain (jika ada)', 'Sumber Penghasilan lain-lain', 'Tanggal Pencairan']],\n          data: this.state.dataBorrower && this.state.dataDetail && [[\"Rp. \" + formatNumber(this.state.dataBorrower && this.state.dataBorrower.monthly_income, true), \"Rp. \" + formatNumber(this.state.dataBorrower && this.state.dataBorrower.other_income, true), this.state.dataBorrower && this.state.dataBorrower.other_incomesource, this.state.dataDetail && this.state.dataDetail.disburse_date_changed ? handleFormatDate(this.state.dataDetail && this.state.dataDetail.disburse_date) : \"\".concat(handleFormatDate(this.state.dataDetail && this.state.dataDetail.disburse_date), \" \").concat(this.state.dataDetail && this.state.dataDetail.disburse_date_changed ? React.createElement(\"b\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 223\n            },\n            __self: this\n          }, \"(Telah Diubah)\") : '')]],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 210\n          },\n          __self: this\n        }), React.createElement(Button, {\n          variant: \"contained\",\n          style: {\n            fontSize: 'calc(10px + 0.3vw)',\n            marginLeft: '10px',\n            padding: '2px',\n            width: '100px',\n            backgroundColor: '#2076B8',\n            color: 'white',\n            marginBottom: '2vh'\n          },\n          onClick: this.btnCancel,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 228\n          },\n          __self: this\n        }, \"Kembali\"))));\n      } else if (!getTokenClient()) {\n        return React.createElement(Redirect, {\n          to: \"/login\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 243\n          },\n          __self: this\n        });\n      }\n    }\n  }]);\n\n  return PencairanDetail;\n}(React.Component);\n\nexport function mapDispatchToProps(dispatch) {\n  return {//   getSourceTransaction: () => {\n    //     dispatch(sourceTransactionRequest());\n    //   },\n    //   handleRedirect: (route) => {\n    //     dispatch(push(route));\n    //   },\n  };\n}\nexport var mapStateToProps = function mapStateToProps(state) {\n  return {// role: state.user.role,\n    // id: state.user.id  \n  };\n};\nvar withConnect = connect(mapStateToProps, mapDispatchToProps);\nvar withStyle = withStyles(styles);\nexport default compose(withConnect, withStyle, withRouter)(PencairanDetail);","map":{"version":3,"sources":["C:/Users/pc/Desktop/asira_fe/src/components/pencairan/pencairanDetail.js"],"names":["React","Redirect","Grid","Loader","connect","withRouter","withStyles","compose","getPermintaanPinjamanDetailFunction","formatNumber","handleFormatDate","findAmount","getTokenClient","GridDetail","TitleBar","Button","styles","theme","container","flexGrow","PencairanDetail","_isMounted","state","diKlik","errorMessage","dataDetail","loanId","disabled","loading","refresh","param","idLoan","data","error","dataLender","status","disburse_status","toString","toLowerCase","setState","dataBorrower","borrower_info","btnCancel","props","match","params","newProps","console","log","maxHeight","padding","marginBottom","boxShadow","WebkitBoxShadow","borderRadius","color","id","borrower_name","bank_accountnumber","value","category","agent_name","agent_provider_name","parseInt","loan_amount","installment","total_loan","layaway_plan","loan_intention","intention_details","created_at","updated_at","interest","fees","parseFloat","toFixed","monthly_income","other_income","other_incomesource","disburse_date_changed","disburse_date","fontSize","marginLeft","width","backgroundColor","Component","mapDispatchToProps","dispatch","mapStateToProps","withConnect","withStyle"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { Redirect } from 'react-router-dom'\r\n// import CheckBox from '../subComponent/CheckBox';\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Loader from 'react-loader-spinner'\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router';\r\nimport { withStyles } from '@material-ui/styles';\r\nimport { compose } from 'redux';\r\nimport { getPermintaanPinjamanDetailFunction } from '../permintaanPinjaman/saga';\r\nimport { formatNumber, handleFormatDate, findAmount } from '../global/globalFunction';\r\nimport { getTokenClient } from '../index/token';\r\nimport GridDetail from '../subComponent/GridDetail';\r\nimport TitleBar from '../subComponent/TitleBar';\r\nimport { Button } from '@material-ui/core';\r\n\r\nconst styles = (theme) => ({\r\n  container: {\r\n    flexGrow: 1,\r\n  },\r\n});\r\n\r\nclass PencairanDetail extends React.Component{\r\n    _isMounted = false;\r\n    \r\n    state = {\r\n      diKlik:false,\r\n      errorMessage:'',\r\n      dataDetail: {},\r\n      loanId: 0,\r\n      disabled: true,\r\n      loading: true,\r\n    };\r\n\r\n    componentDidMount(){\r\n      this._isMounted = true;\r\n\r\n      this.setState({\r\n        loanId: this.props.match.params.idLoan,\r\n      },() => {\r\n        this.refresh();\r\n      })\r\n      \r\n    }\r\n\r\n    componentWillUnmount() {\r\n      this._isMounted = false;\r\n    }\r\n\r\n    refresh = async function(){\r\n      const param = {\r\n        idLoan: this.state.loanId,\r\n      };\r\n\r\n      const data = await getPermintaanPinjamanDetailFunction(param, null);\r\n\r\n      if(data) {    \r\n          if(!data.error) {\r\n            if(data.dataLender && data.dataLender.status && data.dataLender.disburse_status && data.dataLender.status.toString().toLowerCase() === 'approved' && data.dataLender.disburse_status.toString().toLowerCase() === 'confirmed') {\r\n              this.setState({\r\n                dataDetail: data.dataLender,\r\n                dataBorrower: data.dataLender && data.dataLender.borrower_info,\r\n                loading: false,\r\n              })\r\n            } else {\r\n              this.setState({diKlik: true})\r\n            }          \r\n          } else {\r\n            this.setState({\r\n              errorMessage: data.error,\r\n              loading: false,\r\n            })\r\n          }      \r\n      }\r\n    }\r\n\r\n    btnCancel = ()=>{\r\n      this.setState({diKlik:true})\r\n    }\r\n    UNSAFE_componentWillReceiveProps(newProps){\r\n      this.setState({errorMessage:newProps.error})\r\n    }\r\n\r\n    render(){\r\n        if(this.state.diKlik){\r\n            return <Redirect to='/pencairanList'/>            \r\n        } else if (this.state.loading){\r\n          return  (\r\n            <div  key=\"zz\">\r\n              <div align=\"center\" colSpan={6}>\r\n                <Loader \r\n                  type=\"Circles\"\r\n                  color=\"#00BFFF\"\r\n                  height=\"40\"\t\r\n                  width=\"40\"\r\n                />   \r\n              </div>\r\n            </div>\r\n          )\r\n        } else if(getTokenClient()){\r\n          console.log(this.state.dataDetail)\r\n            return(\r\n              <Grid container className=\"containerDetail\">\r\n\r\n                <Grid item sm={12} xs={12} style={{maxHeight:50}}>\r\n                      \r\n                  <TitleBar\r\n                    title={'Pencairan - Detail'}\r\n                  />\r\n\r\n                </Grid>\r\n\r\n                <Grid\r\n                  item\r\n                  sm={12} xs={12}\r\n                  style={{padding:10, marginBottom:20, boxShadow:'0px -3px 25px rgba(99,167,181,0.24)', WebkitBoxShadow:'0px -3px 25px rgba(99,167,181,0.24)', borderRadius:'15px'}}                  \r\n                >\r\n                  <Grid container>\r\n                    <Grid item sm={12} xs={12} style={{color:'red'}}>\r\n                      {this.state.errorMessage}\r\n                    </Grid> \r\n\r\n                    {/* Title Section */}\r\n                    <GridDetail\r\n                      gridLabel={[4,5]}\r\n                      background\r\n                      noTitleLine\r\n                      label={[\r\n                        ['ID Pinjaman','Nama Nasabah'],\r\n                        ['Rekening Pinjaman','Status Pinjaman'],\r\n                        ['Kategori', 'Agen/ AE'],\r\n                      ]}\r\n                      data={this.state.dataDetail &&this.state.dataBorrower && [\r\n                        [\r\n                          this.state.dataDetail.id,\r\n                          this.state.dataDetail.borrower_name\r\n                        ],\r\n                        [\r\n                          this.state.dataBorrower.bank_accountnumber,\r\n                          this.state.dataDetail.status && this.state.dataDetail.status.toString().toLowerCase() === 'approved' && this.state.dataDetail.disburse_status && this.state.dataDetail.disburse_status.toString().toLowerCase() === 'confirmed' ? {value:\"Telah Dicairkan\", color:'blue'}  : ''\r\n                        ],\r\n                        [\r\n                          this.state.dataDetail.category && this.state.dataDetail.category === 'account_executive' ? 'Account Executive' : this.state.dataDetail.category === 'agent' ? 'Agen' : 'Personal',\r\n                          `${this.state.dataDetail.agent_name?this.state.dataDetail.agent_name:\"-\"} (${this.state.dataDetail.agent_provider_name?this.state.dataDetail.agent_provider_name:\"-\"})`\r\n                            \r\n                        ]\r\n                      ]}                 \r\n                    />\r\n\r\n                  {/* Detail Section */}\r\n                  \r\n                  <GridDetail\r\n                    gridLabel={[4,5]}\r\n                    label={[\r\n                      ['Pinjaman Pokok','Tenor (Bulan)','Total Pinjaman','Angsuran Perbulan'],\r\n                      ['Tujuan Pinjaman','Detail Tujuan','Tanggal Pengajuan','Tanggal Persetujuan' ],\r\n                    ]}\r\n                    data={this.state.dataDetail && [\r\n                      [\r\n                        \"Rp. \"+ formatNumber(parseInt(this.state.dataDetail.loan_amount)),\r\n                        this.state.dataDetail.installment,\r\n                        \"Rp. \"+formatNumber(parseInt(this.state.dataDetail.total_loan)),\r\n                        \"Rp. \"+formatNumber(parseInt(this.state.dataDetail.layaway_plan)),\r\n                      ],\r\n                      [\r\n                        this.state.dataDetail.loan_intention,\r\n                        this.state.dataDetail.intention_details,\r\n                        handleFormatDate(this.state.dataDetail.created_at),\r\n                        handleFormatDate(this.state.dataDetail.updated_at),\r\n                      ],\r\n                      []\r\n                    ]}                 \r\n                  />\r\n\r\n                 \r\n\r\n                  {/* Fee Section */}\r\n\r\n                  <GridDetail\r\n                    gridLabel={[8]}\r\n                    noEquals\r\n                    label={[\r\n                      ['','Imbal Hasil/ Bunga','Admin Fee','Convenience Fee'],\r\n                      [\r\n                        '(Jumlah)',\r\n                        \"Rp. \"+formatNumber(this.state.dataDetail && this.state.dataDetail.loan_amount && this.state.dataDetail.interest && parseInt(this.state.dataDetail.interest * this.state.dataDetail.loan_amount / 100), true),\r\n                        \"Rp. \"+formatNumber(findAmount(this.state.dataDetail && this.state.dataDetail.fees, 'Admin Fee',this.state.dataDetail && this.state.dataDetail.loan_amount,false), true),\r\n                        \"Rp. \"+formatNumber(findAmount(this.state.dataDetail && this.state.dataDetail.fees, 'Convenience Fee',this.state.dataDetail && this.state.dataDetail.loan_amount,false), true)\r\n                      ],\r\n                      ['','','','']\r\n                   \r\n                    ]}\r\n                    data={this.state.dataDetail && [\r\n                      [\r\n                        '<b>(%)',\r\n                        `<b>${parseFloat(this.state.dataDetail.interest).toFixed(2)}%`,\r\n                        `<b>${findAmount(this.state.dataDetail && this.state.dataDetail.fees, 'Admin Fee',this.state.dataDetail && this.state.dataDetail.loan_amount,true)}%`,\r\n                        `<b>${findAmount(this.state.dataDetail && this.state.dataDetail.fees, 'Convenience Fee',this.state.dataDetail && this.state.dataDetail.loan_amount,true)}%`\r\n                      ],\r\n                      [' ',' ',' ',' '],\r\n                      [' ',' ',' ',' '],\r\n                      [' ',' ',' ',' '],\r\n                    ]}   \r\n                  />\r\n                \r\n                 \r\n                  {/* Info Penghasilan Section */}\r\n\r\n\r\n                  <GridDetail\r\n                    title={'Info Penghasilan Saat Pengajuan'}\r\n                    gridLabel={[3]}\r\n                    label={[\r\n                      ['Pendapatan perbulan','Penghasilan lain-lain (jika ada)','Sumber Penghasilan lain-lain','Tanggal Pencairan']\r\n                    ]}\r\n                    data={this.state.dataBorrower &&  this.state.dataDetail &&[\r\n                      [\r\n                        \"Rp. \"+formatNumber(this.state.dataBorrower && this.state.dataBorrower.monthly_income, true),\r\n                        \"Rp. \"+ formatNumber(this.state.dataBorrower && this.state.dataBorrower.other_income, true),\r\n                        this.state.dataBorrower && this.state.dataBorrower.other_incomesource,\r\n                        this.state.dataDetail && this.state.dataDetail.disburse_date_changed ? \r\n                        handleFormatDate(this.state.dataDetail && this.state.dataDetail.disburse_date) : \r\n                        `${handleFormatDate(this.state.dataDetail && this.state.dataDetail.disburse_date)} ${this.state.dataDetail && this.state.dataDetail.disburse_date_changed ? <b>(Telah Diubah)</b> : ''}`\r\n                      ],                      \r\n                    ]}                 \r\n                  />\r\n\r\n                  <Button\r\n                    variant='contained'\r\n                    style={{fontSize:'calc(10px + 0.3vw)', marginLeft: '10px', padding: '2px', width:'100px',backgroundColor:'#2076B8', color:'white', marginBottom:'2vh'}}\r\n                    onClick={this.btnCancel}\r\n                  >\r\n                    Kembali\r\n                  </Button>\r\n\r\n\r\n                </Grid>\r\n                </Grid>\r\n              </Grid>\r\n            )\r\n        } else if(!getTokenClient()){\r\n          return (\r\n              <Redirect to='/login' />\r\n          )    \r\n        }\r\n       \r\n    }\r\n}\r\n\r\nexport function mapDispatchToProps(dispatch) {\r\n    return {\r\n    //   getSourceTransaction: () => {\r\n    //     dispatch(sourceTransactionRequest());\r\n    //   },\r\n    //   handleRedirect: (route) => {\r\n    //     dispatch(push(route));\r\n    //   },\r\n    };\r\n}\r\n  \r\nexport const mapStateToProps = (state)=>{\r\n  return{  \r\n    // role: state.user.role,\r\n    // id: state.user.id  \r\n  }\r\n  \r\n}\r\n\r\nconst withConnect = connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n);\r\n\r\nconst withStyle = withStyles(styles);\r\n\r\nexport default compose(\r\n    withConnect,\r\n    withStyle,\r\n    withRouter\r\n  )(PencairanDetail);"]},"metadata":{},"sourceType":"module"}