{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\pc\\\\Desktop\\\\asira_fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport axios from 'axios';\nimport { serverUrl } from '../url';\nimport { getTokenClient } from '../index/token';\nexport function getPermintaanPinjamanFunction(param, next) {\n  return _regeneratorRuntime.async(function getPermintaanPinjamanFunction$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          return _context2.abrupt(\"return\", new Promise(function _callee(resolve) {\n            var config, filter, key;\n            return _regeneratorRuntime.async(function _callee$(_context) {\n              while (1) {\n                switch (_context.prev = _context.next) {\n                  case 0:\n                    config = {\n                      headers: {\n                        'Authorization': \"Bearer \" + getTokenClient()\n                      }\n                    };\n                    filter = '';\n\n                    for (key in param) {\n                      filter += \"&\".concat(key, \"=\").concat(param[key]);\n                    }\n\n                    axios.get(serverUrl + \"lender/loanrequest_list?orderby=updated_at&sort=desc\".concat(filter), config).then(function (res) {\n                      param.loanRequest = res.data;\n                      param.config = res.config.url;\n\n                      if (next) {\n                        resolve(next(param));\n                      } else {\n                        resolve(param);\n                      }\n                    }).catch(function (err) {\n                      var error = err.response && err.response.data && err.response.data.message && \"Error : \".concat(err.response.data.message.toString().toUpperCase());\n                      param.error = error;\n                      resolve(param);\n                    });\n\n                  case 4:\n                  case \"end\":\n                    return _context.stop();\n                }\n              }\n            });\n          }));\n\n        case 1:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  });\n}\nexport function getPermintaanPinjamanDetailFunction(param, status, next) {\n  return _regeneratorRuntime.async(function getPermintaanPinjamanDetailFunction$(_context4) {\n    while (1) {\n      switch (_context4.prev = _context4.next) {\n        case 0:\n          return _context4.abrupt(\"return\", new Promise(function _callee2(resolve) {\n            var config, newLink;\n            return _regeneratorRuntime.async(function _callee2$(_context3) {\n              while (1) {\n                switch (_context3.prev = _context3.next) {\n                  case 0:\n                    config = {\n                      headers: {\n                        'Authorization': \"Bearer \" + getTokenClient()\n                      }\n                    };\n                    newLink = serverUrl + \"lender/loanrequest_list/\".concat(param.idLoan, \"/detail\");\n\n                    if (status && status.toString().trim().length !== 0) {\n                      if (status === 'tolak') {\n                        newLink += \"/reject?reason=\".concat(param.reason);\n                      } else if (status === 'terima') {\n                        newLink += \"/approve?disburse_date=\".concat(param.dateApprove);\n                      }\n                    }\n\n                    axios.get(newLink, config).then(function (res) {\n                      param.dataLender = res.data;\n                      param.idBorrower = res.data.owner && res.data.owner.Int64 || 0;\n\n                      if (next) {\n                        resolve(next(param));\n                      }\n\n                      resolve(param);\n                    }).catch(function (err) {\n                      var error = err.response && err.response.data && err.response.data.message && \"Error : \".concat(err.response.data.message.toString().toUpperCase());\n                      param.error = error;\n                      resolve(param);\n                    });\n\n                  case 4:\n                  case \"end\":\n                    return _context3.stop();\n                }\n              }\n            });\n          }));\n\n        case 1:\n        case \"end\":\n          return _context4.stop();\n      }\n    }\n  });\n}\nexport function CSVDownloadFunction(param) {\n  return _regeneratorRuntime.async(function CSVDownloadFunction$(_context6) {\n    while (1) {\n      switch (_context6.prev = _context6.next) {\n        case 0:\n          return _context6.abrupt(\"return\", new Promise(function _callee3(resolve) {\n            var config, urlNew, key;\n            return _regeneratorRuntime.async(function _callee3$(_context5) {\n              while (1) {\n                switch (_context5.prev = _context5.next) {\n                  case 0:\n                    config = {\n                      headers: {\n                        'Authorization': \"Bearer \" + getTokenClient()\n                      }\n                    };\n                    urlNew = serverUrl + \"lender/loanrequest_list/download?orderby=updated_at&sort=desc\";\n\n                    for (key in param) {\n                      urlNew += \"&\".concat(key, \"=\").concat(param[key]);\n                    }\n\n                    axios.get(urlNew, config).then(function (res) {\n                      resolve(res);\n                    }).catch(function (err) {\n                      var error = err.response && err.response.data && err.response.data.message && \"Error : \".concat(err.response.data.message.toString().toUpperCase());\n                      param.error = error;\n                      resolve(param);\n                    });\n\n                  case 4:\n                  case \"end\":\n                    return _context5.stop();\n                }\n              }\n            });\n          }));\n\n        case 1:\n        case \"end\":\n          return _context6.stop();\n      }\n    }\n  });\n}\nexport function confirmDisburseFunction(param) {\n  return _regeneratorRuntime.async(function confirmDisburseFunction$(_context8) {\n    while (1) {\n      switch (_context8.prev = _context8.next) {\n        case 0:\n          return _context8.abrupt(\"return\", new Promise(function _callee4(resolve) {\n            var config;\n            return _regeneratorRuntime.async(function _callee4$(_context7) {\n              while (1) {\n                switch (_context7.prev = _context7.next) {\n                  case 0:\n                    config = {\n                      headers: {\n                        'Authorization': \"Bearer \" + getTokenClient()\n                      }\n                    };\n                    axios.get(serverUrl + \"lender/loanrequest_list/\".concat(param.id, \"/detail/confirm_disbursement\"), config).then(function (res) {\n                      resolve(res);\n                    }).catch(function (err) {\n                      var error = err.response && err.response.data && err.response.data.message && \"Error : \".concat(err.response.data.message.toString().toUpperCase());\n                      param.error = error;\n                      resolve(param);\n                    });\n\n                  case 2:\n                  case \"end\":\n                    return _context7.stop();\n                }\n              }\n            });\n          }));\n\n        case 1:\n        case \"end\":\n          return _context8.stop();\n      }\n    }\n  });\n}\nexport function changeDisburseDateFunction(param) {\n  return _regeneratorRuntime.async(function changeDisburseDateFunction$(_context10) {\n    while (1) {\n      switch (_context10.prev = _context10.next) {\n        case 0:\n          return _context10.abrupt(\"return\", new Promise(function _callee5(resolve) {\n            var config;\n            return _regeneratorRuntime.async(function _callee5$(_context9) {\n              while (1) {\n                switch (_context9.prev = _context9.next) {\n                  case 0:\n                    config = {\n                      headers: {\n                        'Authorization': \"Bearer \" + getTokenClient()\n                      }\n                    };\n                    axios.get(serverUrl + \"lender/loanrequest_list/\".concat(param.id, \"/detail/change_disburse_date?disburse_date=\").concat(param.date), config).then(function (res) {\n                      resolve(res);\n                    }).catch(function (err) {\n                      var error = err.response && err.response.data && err.response.data.message && \"Error : \".concat(err.response.data.message.toString().toUpperCase());\n                      param.error = error;\n                      resolve(param);\n                    });\n\n                  case 2:\n                  case \"end\":\n                    return _context9.stop();\n                }\n              }\n            });\n          }));\n\n        case 1:\n        case \"end\":\n          return _context10.stop();\n      }\n    }\n  });\n}\nexport function patchInstallmentFunction(param, next) {\n  return _regeneratorRuntime.async(function patchInstallmentFunction$(_context12) {\n    while (1) {\n      switch (_context12.prev = _context12.next) {\n        case 0:\n          return _context12.abrupt(\"return\", new Promise(function _callee6(resolve) {\n            var config, newLink;\n            return _regeneratorRuntime.async(function _callee6$(_context11) {\n              while (1) {\n                switch (_context11.prev = _context11.next) {\n                  case 0:\n                    config = {\n                      headers: {\n                        'Authorization': \"Bearer \" + getTokenClient()\n                      }\n                    };\n                    newLink = serverUrl + \"lender/loanrequest_list/\".concat(param.idLoan, \"/detail/installment_approve/\").concat(param.idInstallment);\n                    axios.patch(newLink, param.newData, config).then(function (res) {\n                      param.dataInstallment = res.data;\n\n                      if (next) {\n                        resolve(next(param));\n                      }\n\n                      resolve(param);\n                    }).catch(function (err) {\n                      var error = err.response && err.response.data && err.response.data.message && \"Error : \".concat(err.response.data.message.toString().toUpperCase());\n                      param.error = error;\n                      resolve(param);\n                    });\n\n                  case 3:\n                  case \"end\":\n                    return _context11.stop();\n                }\n              }\n            });\n          }));\n\n        case 1:\n        case \"end\":\n          return _context12.stop();\n      }\n    }\n  });\n}\nexport function patchLoanFunction(param, next) {\n  return _regeneratorRuntime.async(function patchLoanFunction$(_context14) {\n    while (1) {\n      switch (_context14.prev = _context14.next) {\n        case 0:\n          return _context14.abrupt(\"return\", new Promise(function _callee7(resolve) {\n            var config, newLink;\n            return _regeneratorRuntime.async(function _callee7$(_context13) {\n              while (1) {\n                switch (_context13.prev = _context13.next) {\n                  case 0:\n                    config = {\n                      headers: {\n                        'Authorization': \"Bearer \" + getTokenClient()\n                      }\n                    };\n                    newLink = serverUrl + \"lender/loanrequest_list/\".concat(param.idLoan, \"/change_payment_status\");\n                    axios.patch(newLink, param.newData, config).then(function (res) {\n                      param.dataLoan = res.data;\n\n                      if (next) {\n                        resolve(next(param));\n                      }\n\n                      resolve(param);\n                    }).catch(function (err) {\n                      var error = err.response && err.response.data && err.response.data.message && \"Error : \".concat(err.response.data.message.toString().toUpperCase());\n                      param.error = error;\n                      resolve(param);\n                    });\n\n                  case 3:\n                  case \"end\":\n                    return _context13.stop();\n                }\n              }\n            });\n          }));\n\n        case 1:\n        case \"end\":\n          return _context14.stop();\n      }\n    }\n  });\n}\nexport function patchInstallmentBulkFunction(param, next) {\n  return _regeneratorRuntime.async(function patchInstallmentBulkFunction$(_context16) {\n    while (1) {\n      switch (_context16.prev = _context16.next) {\n        case 0:\n          return _context16.abrupt(\"return\", new Promise(function _callee8(resolve) {\n            var config, newLink;\n            return _regeneratorRuntime.async(function _callee8$(_context15) {\n              while (1) {\n                switch (_context15.prev = _context15.next) {\n                  case 0:\n                    config = {\n                      headers: {\n                        'Authorization': \"Bearer \" + getTokenClient()\n                      }\n                    };\n                    newLink = serverUrl + \"lender/loanrequest_list/\".concat(param.idLoan, \"/detail/installment_approve/bulk\");\n                    axios.patch(newLink, param.newData, config).then(function (res) {\n                      param.dataLoan = res.data;\n\n                      if (next) {\n                        resolve(next(param));\n                      }\n\n                      resolve(param);\n                    }).catch(function (err) {\n                      var error = err.response && err.response.data && err.response.data.message && \"Error : \".concat(err.response.data.message.toString().toUpperCase());\n                      param.error = error;\n                      resolve(param);\n                    });\n\n                  case 3:\n                  case \"end\":\n                    return _context15.stop();\n                }\n              }\n            });\n          }));\n\n        case 1:\n        case \"end\":\n          return _context16.stop();\n      }\n    }\n  });\n}","map":{"version":3,"sources":["C:/Users/pc/Desktop/asira_fe/src/components/pinjaman/saga.js"],"names":["axios","serverUrl","getTokenClient","getPermintaanPinjamanFunction","param","next","Promise","resolve","config","headers","filter","key","get","then","res","loanRequest","data","url","catch","err","error","response","message","toString","toUpperCase","getPermintaanPinjamanDetailFunction","status","newLink","idLoan","trim","length","reason","dateApprove","dataLender","idBorrower","owner","Int64","CSVDownloadFunction","urlNew","confirmDisburseFunction","id","changeDisburseDateFunction","date","patchInstallmentFunction","idInstallment","patch","newData","dataInstallment","patchLoanFunction","dataLoan","patchInstallmentBulkFunction"],"mappings":"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","sourcesContent":["import axios from 'axios'\r\nimport {serverUrl} from '../url'\r\nimport { getTokenClient } from '../index/token'\r\n\r\nexport async function getPermintaanPinjamanFunction (param , next){\r\n    return new Promise (async (resolve)=>{\r\n        const config = {\r\n            headers: {'Authorization': \"Bearer \" + getTokenClient()}\r\n        };\r\n       \r\n        let filter =''\r\n\r\n        for (const key in param){\r\n            filter += `&${key}=${param[key]}`\r\n        }\r\n        \r\n        axios.get(serverUrl+`lender/loanrequest_list?orderby=updated_at&sort=desc${filter}`,config)\r\n        .then((res)=>{\r\n            param.loanRequest = res.data\r\n            param.config = res.config.url\r\n\r\n            if(next){\r\n                resolve(next(param))\r\n            } else {\r\n                resolve(param)\r\n            }   \r\n        }).catch((err)=>{\r\n            const error = err.response && err.response.data && err.response.data.message && `Error : ${err.response.data.message.toString().toUpperCase()}`\r\n            param.error = error;\r\n            resolve(param);\r\n        })\r\n    })\r\n}\r\n\r\nexport async function getPermintaanPinjamanDetailFunction (param, status, next) {\r\n    return new Promise(async (resolve)=>{\r\n        const config = {\r\n            headers: {'Authorization': \"Bearer \" + getTokenClient()}\r\n        };\r\n\r\n        let newLink = serverUrl+`lender/loanrequest_list/${param.idLoan}/detail`;\r\n\r\n        if(status && status.toString().trim().length !== 0) {\r\n            if(status === 'tolak') {\r\n                newLink += `/reject?reason=${param.reason}`\r\n            } else if(status === 'terima'){\r\n                newLink += `/approve?disburse_date=${param.dateApprove}`\r\n            }\r\n        }\r\n          \r\n        axios.get(newLink,config).then((res)=>{\r\n            param.dataLender = res.data;\r\n            param.idBorrower = (res.data.owner && res.data.owner.Int64) || 0;\r\n            if(next){\r\n                resolve(next(param))\r\n            }\r\n            resolve(param)\r\n        }).catch((err)=>{\r\n            const error = err.response && err.response.data && err.response.data.message && `Error : ${err.response.data.message.toString().toUpperCase()}`\r\n            param.error = error;\r\n            resolve(param);\r\n        })\r\n    })\r\n    \r\n}\r\n\r\nexport async function CSVDownloadFunction (param){\r\n    return new Promise(async (resolve)=>{\r\n        const config = {\r\n            headers: {'Authorization': \"Bearer \" + getTokenClient()}\r\n        };\r\n        \r\n        let urlNew = serverUrl+`lender/loanrequest_list/download?orderby=updated_at&sort=desc`;\r\n\r\n        for(const key in param) {\r\n            urlNew += `&${key}=${param[key]}`\r\n        }\r\n        \r\n        axios.get(urlNew,config).then((res)=>{\r\n            resolve(res)\r\n        }).catch((err)=>{\r\n            const error = err.response && err.response.data && err.response.data.message && `Error : ${err.response.data.message.toString().toUpperCase()}`\r\n            param.error = error;\r\n            resolve(param);\r\n        })\r\n    })\r\n}\r\n\r\nexport async function confirmDisburseFunction (param){\r\n    return new Promise(async (resolve)=>{\r\n        const config = {\r\n        headers: {'Authorization': \"Bearer \" + getTokenClient()}\r\n        };\r\n\r\n        axios.get(serverUrl+`lender/loanrequest_list/${param.id}/detail/confirm_disbursement`,config).then((res)=>{\r\n            resolve(res)\r\n        }).catch((err)=>{\r\n            const error = err.response && err.response.data && err.response.data.message && `Error : ${err.response.data.message.toString().toUpperCase()}`\r\n            param.error = error;\r\n            resolve(param);\r\n        })\r\n    })\r\n}\r\n\r\nexport async function changeDisburseDateFunction (param){\r\n    return new Promise(async (resolve)=>{\r\n        const config = {\r\n            headers: {'Authorization': \"Bearer \" + getTokenClient()}\r\n        };\r\n\r\n        axios.get(serverUrl+`lender/loanrequest_list/${param.id}/detail/change_disburse_date?disburse_date=${param.date}`,config)\r\n        .then((res)=>{\r\n            resolve(res)\r\n        }).catch((err)=>{\r\n            const error = err.response && err.response.data && err.response.data.message && `Error : ${err.response.data.message.toString().toUpperCase()}`\r\n            param.error = error;\r\n            resolve(param);\r\n        })\r\n    })\r\n}\r\n\r\n\r\nexport async function patchInstallmentFunction (param, next) {\r\n    return new Promise(async (resolve)=>{\r\n        const config = {\r\n            headers: {'Authorization': \"Bearer \" + getTokenClient()}\r\n        };\r\n\r\n        let newLink = serverUrl+`lender/loanrequest_list/${param.idLoan}/detail/installment_approve/${param.idInstallment}`;\r\n\r\n        axios.patch(newLink, param.newData,config).then((res)=>{\r\n            param.dataInstallment = res.data;\r\n\r\n            if(next){\r\n                resolve(next(param))\r\n            }\r\n\r\n            resolve(param)\r\n        }).catch((err)=>{\r\n            const error = err.response && err.response.data && err.response.data.message && `Error : ${err.response.data.message.toString().toUpperCase()}`\r\n            param.error = error;\r\n            resolve(param);\r\n        })\r\n    })\r\n    \r\n}\r\n\r\nexport async function patchLoanFunction (param, next) {\r\n    return new Promise(async (resolve)=>{\r\n        const config = {\r\n            headers: {'Authorization': \"Bearer \" + getTokenClient()}\r\n        };\r\n\r\n        let newLink = serverUrl+`lender/loanrequest_list/${param.idLoan}/change_payment_status`;\r\n\r\n        axios.patch(newLink, param.newData,config).then((res)=>{\r\n            param.dataLoan = res.data;\r\n\r\n            if(next){\r\n                resolve(next(param))\r\n            }\r\n\r\n            resolve(param)\r\n        }).catch((err)=>{\r\n            const error = err.response && err.response.data && err.response.data.message && `Error : ${err.response.data.message.toString().toUpperCase()}`\r\n            param.error = error;\r\n            resolve(param);\r\n        })\r\n    })\r\n    \r\n}\r\n\r\nexport async function patchInstallmentBulkFunction (param, next) {\r\n    return new Promise(async (resolve)=>{\r\n        const config = {\r\n            headers: {'Authorization': \"Bearer \" + getTokenClient()}\r\n        };\r\n\r\n        let newLink = serverUrl+`lender/loanrequest_list/${param.idLoan}/detail/installment_approve/bulk`;\r\n\r\n        axios.patch(newLink, param.newData,config).then((res)=>{\r\n            param.dataLoan = res.data;\r\n\r\n            if(next){\r\n                resolve(next(param))\r\n            }\r\n\r\n            resolve(param)\r\n        }).catch((err)=>{\r\n            const error = err.response && err.response.data && err.response.data.message && `Error : ${err.response.data.message.toString().toUpperCase()}`\r\n            param.error = error;\r\n            resolve(param);\r\n        })\r\n    })\r\n    \r\n}\r\n"]},"metadata":{},"sourceType":"module"}