{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\pc\\\\Desktop\\\\asira_fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\pc\\\\Desktop\\\\asira_fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport axios from 'axios';\nimport jsonWebToken from 'jsonwebtoken';\nimport { serverUrl, serverUrlBorrower } from '../url';\nimport { setTokenClient, setTokenBorrower, getTokenAuth, getTokenClient } from './token';\nexport function postLoginBankDashboardFunction(_x, _x2, _x3) {\n  return _postLoginBankDashboardFunction.apply(this, arguments);\n}\n\nfunction _postLoginBankDashboardFunction() {\n  _postLoginBankDashboardFunction = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(param, next, nextProfile) {\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            return _context2.abrupt(\"return\", new Promise( /*#__PURE__*/function () {\n              var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(resolve) {\n                var tokenAuth, config, newLink, logindata;\n                return _regeneratorRuntime.wrap(function _callee$(_context) {\n                  while (1) {\n                    switch (_context.prev = _context.next) {\n                      case 0:\n                        tokenAuth = getTokenAuth();\n                        config = {\n                          headers: {\n                            'Authorization': \"Bearer \" + tokenAuth\n                          }\n                        };\n                        newLink = serverUrl + \"client/lender_login\";\n                        logindata = {\n                          key: param.key,\n                          password: param.password\n                        };\n                        axios.post(newLink, logindata, config).then(function (res) {\n                          param.dataTokenLender = res.data.token;\n                          delete param.password;\n                          setTokenClient(res.data.token, new Date().getTime() + res.data.expires_in * 1000);\n\n                          if (next) {\n                            resolve(next(param, nextProfile));\n                          }\n\n                          resolve(param);\n                        }).catch(function (err) {\n                          var error = err.response && err.response.data && err.response.data.message && \"Error : \".concat(err.response.data.message.toString().toUpperCase());\n                          param.error = error;\n                          resolve(param);\n                        });\n\n                      case 5:\n                      case \"end\":\n                        return _context.stop();\n                    }\n                  }\n                }, _callee);\n              }));\n\n              return function (_x14) {\n                return _ref.apply(this, arguments);\n              };\n            }()));\n\n          case 1:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _postLoginBankDashboardFunction.apply(this, arguments);\n}\n\nexport function getTokenBorrowerFunction(_x4, _x5) {\n  return _getTokenBorrowerFunction.apply(this, arguments);\n}\n\nfunction _getTokenBorrowerFunction() {\n  _getTokenBorrowerFunction = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(param, next) {\n    return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            return _context4.abrupt(\"return\", new Promise( /*#__PURE__*/function () {\n              var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(resolve) {\n                var newLink, logindata;\n                return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n                  while (1) {\n                    switch (_context3.prev = _context3.next) {\n                      case 0:\n                        newLink = serverUrlBorrower + \"clientauth\";\n                        logindata = {\n                          auth: {\n                            username: 'androkey',\n                            password: 'androsecret'\n                          }\n                        };\n                        axios.get(newLink, logindata).then(function (res) {\n                          param.dataTokenBorrower = res.data.token;\n                          setTokenBorrower(res.data.token);\n\n                          if (next) {\n                            resolve(next(param));\n                          }\n\n                          resolve(param);\n                        }).catch(function (err) {\n                          var error = err.response && err.response.data && err.response.data.message && \"Error : \".concat(err.response.data.message.toString().toUpperCase());\n                          param.error = error;\n                          resolve(param);\n                        });\n\n                      case 3:\n                      case \"end\":\n                        return _context3.stop();\n                    }\n                  }\n                }, _callee3);\n              }));\n\n              return function (_x15) {\n                return _ref2.apply(this, arguments);\n              };\n            }()));\n\n          case 1:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n  return _getTokenBorrowerFunction.apply(this, arguments);\n}\n\nexport function getUserProfileFunction(_x6, _x7) {\n  return _getUserProfileFunction.apply(this, arguments);\n}\n\nfunction _getUserProfileFunction() {\n  _getUserProfileFunction = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6(param, next) {\n    return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            return _context6.abrupt(\"return\", new Promise( /*#__PURE__*/function () {\n              var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(resolve) {\n                var newLink, config;\n                return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n                  while (1) {\n                    switch (_context5.prev = _context5.next) {\n                      case 0:\n                        newLink = serverUrl + 'lender/profile';\n                        config = {\n                          headers: {\n                            'Authorization': \"Bearer \" + getTokenClient()\n                          }\n                        };\n                        axios.get(newLink, config).then(function (res) {\n                          var token = jsonWebToken.verify(param.dataTokenLender, 'sXQ8jUMpueOvN5P3cdCR');\n                          token.name = res.data && res.data.name;\n                          token.image = res.data && res.data.image;\n                          token.firstLogin = res.data && res.data.first_login;\n                          param.dataPermission = token;\n\n                          if (next) {\n                            resolve(next(param));\n                          }\n\n                          resolve(param);\n                        }).catch(function (err) {\n                          var error = err.response && err.response.data && err.response.data.message && \"Error : \".concat(err.response.data.message.toString().toUpperCase());\n                          param.error = error;\n                          resolve(param);\n                        });\n\n                      case 3:\n                      case \"end\":\n                        return _context5.stop();\n                    }\n                  }\n                }, _callee5);\n              }));\n\n              return function (_x16) {\n                return _ref3.apply(this, arguments);\n              };\n            }()));\n\n          case 1:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, _callee6);\n  }));\n  return _getUserProfileFunction.apply(this, arguments);\n}\n\nexport function sendEmailFunction(_x8, _x9) {\n  return _sendEmailFunction.apply(this, arguments);\n}\n\nfunction _sendEmailFunction() {\n  _sendEmailFunction = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee8(param, next) {\n    return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n      while (1) {\n        switch (_context8.prev = _context8.next) {\n          case 0:\n            return _context8.abrupt(\"return\", new Promise( /*#__PURE__*/function () {\n              var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7(resolve) {\n                var tokenAuth, config;\n                return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n                  while (1) {\n                    switch (_context7.prev = _context7.next) {\n                      case 0:\n                        tokenAuth = getTokenAuth();\n                        config = {\n                          headers: {\n                            'Authorization': \"Bearer \" + tokenAuth\n                          }\n                        };\n                        axios.post(serverUrl + 'client/forgotpassword', param, config).then(function (res) {\n                          if (next) {\n                            resolve(next(param));\n                          }\n\n                          resolve(res);\n                        }).catch(function (err) {\n                          var error = err.response && err.response.data && err.response.data.message && \"Error : \".concat(err.response.data.message.toString().toUpperCase()) || err.toString();\n                          param.error = error;\n                          resolve(param);\n                        });\n\n                      case 3:\n                      case \"end\":\n                        return _context7.stop();\n                    }\n                  }\n                }, _callee7);\n              }));\n\n              return function (_x17) {\n                return _ref4.apply(this, arguments);\n              };\n            }()));\n\n          case 1:\n          case \"end\":\n            return _context8.stop();\n        }\n      }\n    }, _callee8);\n  }));\n  return _sendEmailFunction.apply(this, arguments);\n}\n\nexport function changePasswordFunction(_x10, _x11) {\n  return _changePasswordFunction.apply(this, arguments);\n}\n\nfunction _changePasswordFunction() {\n  _changePasswordFunction = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee10(param, next) {\n    return _regeneratorRuntime.wrap(function _callee10$(_context10) {\n      while (1) {\n        switch (_context10.prev = _context10.next) {\n          case 0:\n            return _context10.abrupt(\"return\", new Promise( /*#__PURE__*/function () {\n              var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee9(resolve) {\n                var tokenAuth, config;\n                return _regeneratorRuntime.wrap(function _callee9$(_context9) {\n                  while (1) {\n                    switch (_context9.prev = _context9.next) {\n                      case 0:\n                        tokenAuth = getTokenAuth();\n                        config = {\n                          headers: {\n                            'Authorization': \"Bearer \" + tokenAuth\n                          }\n                        };\n                        axios.post(serverUrl + 'client/resetpassword', param, config).then(function (res) {\n                          if (next) {\n                            resolve(next(param));\n                          }\n\n                          resolve(res);\n                        }).catch(function (err) {\n                          var error = err.response && err.response.data && err.response.data.message && \"Error : \".concat(err.response.data.message.toString().toUpperCase()) || err.toString();\n                          param.error = error;\n                          resolve(param);\n                        });\n\n                      case 3:\n                      case \"end\":\n                        return _context9.stop();\n                    }\n                  }\n                }, _callee9);\n              }));\n\n              return function (_x18) {\n                return _ref5.apply(this, arguments);\n              };\n            }()));\n\n          case 1:\n          case \"end\":\n            return _context10.stop();\n        }\n      }\n    }, _callee10);\n  }));\n  return _changePasswordFunction.apply(this, arguments);\n}\n\nexport function changeFirstLoginFunction(_x12, _x13) {\n  return _changeFirstLoginFunction.apply(this, arguments);\n}\n\nfunction _changeFirstLoginFunction() {\n  _changeFirstLoginFunction = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee12(param, next) {\n    return _regeneratorRuntime.wrap(function _callee12$(_context12) {\n      while (1) {\n        switch (_context12.prev = _context12.next) {\n          case 0:\n            return _context12.abrupt(\"return\", new Promise( /*#__PURE__*/function () {\n              var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee11(resolve) {\n                var tokenClient, config;\n                return _regeneratorRuntime.wrap(function _callee11$(_context11) {\n                  while (1) {\n                    switch (_context11.prev = _context11.next) {\n                      case 0:\n                        tokenClient = getTokenClient();\n                        config = {\n                          headers: {\n                            'Authorization': \"Bearer \" + tokenClient\n                          }\n                        };\n                        axios.post(serverUrl + 'lender/first_login', param, config).then(function (res) {\n                          if (next) {\n                            resolve(next(param));\n                          }\n\n                          resolve(res);\n                        }).catch(function (err) {\n                          var error = err.response && err.response.data && err.response.data.message && \"Error : \".concat(err.response.data.message.toString().toUpperCase()) || err.toString();\n                          param.error = error;\n                          resolve(param);\n                        });\n\n                      case 3:\n                      case \"end\":\n                        return _context11.stop();\n                    }\n                  }\n                }, _callee11);\n              }));\n\n              return function (_x19) {\n                return _ref6.apply(this, arguments);\n              };\n            }()));\n\n          case 1:\n          case \"end\":\n            return _context12.stop();\n        }\n      }\n    }, _callee12);\n  }));\n  return _changeFirstLoginFunction.apply(this, arguments);\n}","map":{"version":3,"sources":["C:/Users/pc/Desktop/asira_fe/src/components/index/saga.js"],"names":["axios","jsonWebToken","serverUrl","serverUrlBorrower","setTokenClient","setTokenBorrower","getTokenAuth","getTokenClient","postLoginBankDashboardFunction","param","next","nextProfile","Promise","resolve","tokenAuth","config","headers","newLink","logindata","key","password","post","then","res","dataTokenLender","data","token","Date","getTime","expires_in","catch","err","error","response","message","toString","toUpperCase","getTokenBorrowerFunction","auth","username","get","dataTokenBorrower","getUserProfileFunction","verify","name","image","firstLogin","first_login","dataPermission","sendEmailFunction","changePasswordFunction","changeFirstLoginFunction","tokenClient"],"mappings":"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","sourcesContent":["import axios from 'axios'\r\nimport jsonWebToken from 'jsonwebtoken'\r\nimport {serverUrl, serverUrlBorrower} from '../url'\r\nimport { setTokenClient, setTokenBorrower, getTokenAuth, getTokenClient } from './token'\r\n\r\nexport async function postLoginBankDashboardFunction (param, next, nextProfile) {\r\n    return new Promise(async (resolve)=>{\r\n        const tokenAuth = getTokenAuth();\r\n\r\n        const config = {\r\n            headers: {'Authorization': \"Bearer \" + tokenAuth}\r\n        };\r\n\r\n        let newLink = serverUrl+`client/lender_login`;  \r\n        const logindata ={key: param.key,password: param.password};\r\n          \r\n        axios.post(newLink, logindata, config)\r\n        .then((res)=>{\r\n            param.dataTokenLender = res.data.token;\r\n            delete param.password;\r\n\r\n            setTokenClient(res.data.token, new Date().getTime() + (res.data.expires_in*1000))\r\n\r\n            if(next){\r\n                resolve(next(param, nextProfile))\r\n            }\r\n            resolve(param)\r\n        })\r\n        .catch((err)=>{\r\n            const error = err.response && err.response.data && err.response.data.message && `Error : ${err.response.data.message.toString().toUpperCase()}`\r\n            param.error = error;\r\n            resolve(param);\r\n        })\r\n    })\r\n    \r\n}\r\n\r\nexport async function getTokenBorrowerFunction (param, next) {\r\n    return new Promise(async (resolve)=>{\r\n        let newLink = serverUrlBorrower +`clientauth`;  \r\n        const logindata = {\r\n            auth: {\r\n                username : 'androkey',\r\n                password : 'androsecret'\r\n            }\r\n        };\r\n          \r\n        axios.get(newLink, logindata)\r\n        .then((res)=>{          \r\n            param.dataTokenBorrower = res.data.token;\r\n\r\n            setTokenBorrower(res.data.token);\r\n\r\n            if(next){\r\n                resolve(next(param))\r\n            }\r\n            resolve(param)\r\n        })\r\n        .catch((err)=>{\r\n            const error = err.response && err.response.data && err.response.data.message && `Error : ${err.response.data.message.toString().toUpperCase()}`\r\n            param.error = error;\r\n            resolve(param);\r\n        })\r\n    })\r\n    \r\n}\r\n\r\nexport async function getUserProfileFunction(param, next) {\r\n    return new Promise(async (resolve) => {    \r\n       \r\n        const newLink = serverUrl + 'lender/profile'\r\n\r\n        const config = {\r\n            headers: {'Authorization': \"Bearer \" + getTokenClient()}\r\n        };\r\n\r\n        axios.get(newLink, config).then((res)=>{       \r\n            var token = jsonWebToken.verify(param.dataTokenLender,'sXQ8jUMpueOvN5P3cdCR');\r\n            token.name = res.data && res.data.name;\r\n            token.image = res.data && res.data.image;\r\n            token.firstLogin = res.data && res.data.first_login;\r\n\r\n            param.dataPermission = token;\r\n\r\n\r\n            if(next){\r\n                resolve(next(param))\r\n            }\r\n            resolve(param)\r\n        }).catch((err)=>{\r\n            const error = err.response && err.response.data && err.response.data.message && `Error : ${err.response.data.message.toString().toUpperCase()}`\r\n            param.error = error;\r\n            resolve(param);\r\n        })\r\n        \r\n    });\r\n    \r\n}\r\n\r\n\r\nexport async function sendEmailFunction (param,next){\r\n    return new Promise(async (resolve)=>{\r\n        const tokenAuth = getTokenAuth();\r\n\r\n        const config = {\r\n            headers: {'Authorization': \"Bearer \" + tokenAuth}\r\n        };\r\n        axios.post(serverUrl+'client/forgotpassword',param,config)\r\n        .then((res)=>{\r\n            if(next){\r\n                resolve(next(param))\r\n            }\r\n            resolve(res)\r\n        })\r\n        .catch((err)=>{\r\n            const error =( err.response && err.response.data && err.response.data.message && `Error : ${err.response.data.message.toString().toUpperCase()}`)|| err.toString()\r\n            param.error = error;\r\n            resolve(param);\r\n        })\r\n\r\n    })\r\n}\r\n\r\nexport async function changePasswordFunction (param,next){\r\n    return new Promise(async(resolve)=>{\r\n        const tokenAuth = getTokenAuth();\r\n\r\n        const config = {\r\n            headers: {'Authorization': \"Bearer \" + tokenAuth}\r\n        };\r\n        axios.post(serverUrl+'client/resetpassword',param,config)\r\n        .then((res)=>{\r\n            if(next){\r\n                resolve(next(param))\r\n            }\r\n            resolve(res)\r\n        })\r\n        .catch((err)=>{\r\n            const error =( err.response && err.response.data && err.response.data.message && `Error : ${err.response.data.message.toString().toUpperCase()}`)|| err.toString()\r\n            param.error = error;\r\n            resolve(param);\r\n        })\r\n    })\r\n}\r\n\r\nexport async function changeFirstLoginFunction (param,next){\r\n    return new Promise(async(resolve)=>{\r\n        const tokenClient = getTokenClient();\r\n\r\n        const config = {\r\n            headers: {'Authorization': \"Bearer \" + tokenClient}\r\n        };\r\n        axios.post(serverUrl+'lender/first_login',param,config)\r\n        .then((res)=>{\r\n            if(next){\r\n                resolve(next(param))\r\n            }\r\n            resolve(res)\r\n        })\r\n        .catch((err)=>{\r\n            const error =( err.response && err.response.data && err.response.data.message && `Error : ${err.response.data.message.toString().toUpperCase()}`)|| err.toString()\r\n            param.error = error;\r\n            resolve(param);\r\n        })\r\n    })\r\n}\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}