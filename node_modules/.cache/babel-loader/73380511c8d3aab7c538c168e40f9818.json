{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\pc\\\\Desktop\\\\asira_fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _classCallCheck from \"C:\\\\Users\\\\pc\\\\Desktop\\\\asira_fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\pc\\\\Desktop\\\\asira_fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\pc\\\\Desktop\\\\asira_fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\pc\\\\Desktop\\\\asira_fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\pc\\\\Desktop\\\\asira_fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\pc\\\\Desktop\\\\asira_fe\\\\src\\\\components\\\\permintaanPinjaman\\\\permintaanPinjaman.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\nimport './../../support/css/pagination.css';\nimport { getPermintaanPinjamanFunction } from './saga';\nimport Moment from 'react-moment';\nimport 'moment/locale/id';\nimport { getTokenClient, getTokenAuth } from '../index/token';\nimport TableComponent from './../subComponent/TableComponent';\nimport { checkPermission } from '../global/globalFunction';\nvar columnDataUser = [{\n  id: 'id',\n  numeric: false,\n  label: 'ID Pinjaman'\n}, {\n  id: 'borrower_name',\n  numeric: false,\n  label: 'Nama Nasabah'\n}, {\n  id: 'category',\n  numeric: false,\n  label: 'Kategori'\n}, {\n  id: 'service',\n  numeric: false,\n  label: 'Layanan'\n}, {\n  id: 'product',\n  numeric: false,\n  label: 'Produk'\n}, {\n  id: 'created_at',\n  numeric: false,\n  type: 'datetime',\n  label: 'Tanggal Pengajuan'\n}, {\n  id: 'status',\n  numeric: false,\n  label: 'Status Pinjaman'\n}];\n\nvar PermintaanPinjaman =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(PermintaanPinjaman, _React$Component);\n\n  function PermintaanPinjaman() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, PermintaanPinjaman);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(PermintaanPinjaman)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this._isMounted = false;\n    _this.state = {\n      rows: [],\n      detailNasabah: {},\n      searchRows: '',\n      paging: true,\n      page: 1,\n      rowsPerPage: 10,\n      isEdit: false,\n      editIndex: Number,\n      udahdiklik: false,\n      total_data: 0,\n      last_page: 1,\n      loading: true,\n      errorMessage: ''\n    };\n\n    _this.getPermintaanPinjamanBtn = function _callee() {\n      var params, hasil, data, pinjamanList, key;\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              params = {\n                status: \"processing\",\n                rows: this.state.rowsPerPage,\n                page: this.state.page\n              };\n              hasil = this.state.searchRows;\n\n              if (hasil) {\n                //search function\n                params.search_all = hasil;\n              }\n\n              _context.next = 5;\n              return _regeneratorRuntime.awrap(getPermintaanPinjamanFunction(params));\n\n            case 5:\n              data = _context.sent;\n              pinjamanList = data.loanRequest && data.loanRequest.data;\n\n              for (key in pinjamanList) {\n                pinjamanList[key].category = pinjamanList[key].category === \"account_executive\" ? \"Account Executive\" : pinjamanList[key].category === \"agent\" ? \"Agent\" : \"Personal\";\n                pinjamanList[key].status = pinjamanList[key].status === \"approved\" ? \"Diterima\" : pinjamanList[key].status === \"rejected\" ? \"Ditolak\" : \"Dalam Proses\";\n                pinjamanList[key].service = pinjamanList[key].service.toString();\n                pinjamanList[key].product = pinjamanList[key].product.toString();\n              }\n\n              if (data) {\n                if (!data.error) {\n                  this._isMounted && this.setState({\n                    loading: false,\n                    rows: data.loanRequest.data,\n                    rowsPerPage: data.loanRequest.rows,\n                    total_data: data.loanRequest.total_data,\n                    last_page: data.loanRequest.last_page,\n                    page: data.loanRequest.current_page\n                  });\n                } else {\n                  this._isMounted && this.setState({\n                    errorMessage: data.error\n                  });\n                }\n              }\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, this);\n    };\n\n    _this.onBtnSearch = function (e) {\n      _this.setState({\n        loading: true,\n        searchRows: e.target.value,\n        page: 1\n      }, function () {\n        if (_this.state.paging) {\n          _this.getPermintaanPinjamanBtn();\n        }\n      });\n    };\n\n    _this.onChangePage = function (current) {\n      _this.setState({\n        loading: true,\n        page: current\n      }, function () {\n        if (_this.state.paging) {\n          _this.getPermintaanPinjamanBtn();\n        }\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(PermintaanPinjaman, [{\n    key: \"componentDidMount\",\n    //-----------------------------------NIKO FUNCTION-------------------------------------------------------------\n    value: function componentDidMount() {\n      this._isMounted = true;\n      this._isMounted && this.getPermintaanPinjamanBtn();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this._isMounted = false;\n    }\n  }, {\n    key: \"UNSAFE_componentWillReceiveProps\",\n    value: function UNSAFE_componentWillReceiveProps(newProps) {\n      this.setState({\n        errorMessage: newProps.error\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (getTokenClient() && getTokenAuth()) {\n        return React.createElement(\"div\", {\n          style: {\n            padding: 0\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 133\n          },\n          __self: this\n        }, React.createElement(TableComponent, {\n          search: {\n            value: this.state.searchRows,\n            label: 'Search ID Nasabah, Nama Nasabah',\n            function: this.onBtnSearch\n          },\n          errorMessage: this.state.errorMessage,\n          title: 'Permintaan Pinjaman - List',\n          id: \"id\",\n          paging: this.state.paging,\n          loading: this.state.loading,\n          columnData: columnDataUser,\n          data: this.state.rows,\n          page: this.state.page,\n          rowsPerPage: this.state.rowsPerPage,\n          totalData: this.state.total_data,\n          onChangePage: this.onChangePage,\n          permissionDetail: checkPermission('lender_loan_request_detail') ? '/permintaanpinjamanDetail/' : null,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 135\n          },\n          __self: this\n        }));\n      } else if (getTokenAuth()) {\n        return React.createElement(Redirect, {\n          to: \"/login\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 167\n          },\n          __self: this\n        });\n      }\n    }\n  }]);\n\n  return PermintaanPinjaman;\n}(React.Component);\n\nvar mapStateToProp = function mapStateToProp(state) {\n  return {\n    role: state.user.role,\n    id: state.user.id\n  };\n};\n\nexport default connect(mapStateToProp)(PermintaanPinjaman);","map":{"version":3,"sources":["C:/Users/pc/Desktop/asira_fe/src/components/permintaanPinjaman/permintaanPinjaman.js"],"names":["React","connect","Redirect","getPermintaanPinjamanFunction","Moment","getTokenClient","getTokenAuth","TableComponent","checkPermission","columnDataUser","id","numeric","label","type","PermintaanPinjaman","_isMounted","state","rows","detailNasabah","searchRows","paging","page","rowsPerPage","isEdit","editIndex","Number","udahdiklik","total_data","last_page","loading","errorMessage","getPermintaanPinjamanBtn","params","status","hasil","search_all","data","pinjamanList","loanRequest","key","category","service","toString","product","error","setState","current_page","onBtnSearch","e","target","value","onChangePage","current","newProps","padding","function","Component","mapStateToProp","role","user"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport {connect } from 'react-redux'\r\nimport { Redirect } from 'react-router-dom'\r\nimport './../../support/css/pagination.css'\r\nimport {getPermintaanPinjamanFunction} from './saga'\r\nimport Moment from 'react-moment'\r\nimport 'moment/locale/id';\r\nimport { getTokenClient, getTokenAuth } from '../index/token';\r\nimport TableComponent from './../subComponent/TableComponent'\r\nimport { checkPermission } from '../global/globalFunction';\r\nconst columnDataUser = [\r\n  {\r\n    id: 'id',\r\n    numeric: false,\r\n    label: 'ID Pinjaman',\r\n  },\r\n  {\r\n    id: 'borrower_name',\r\n    numeric: false,\r\n    label: 'Nama Nasabah',\r\n  },\r\n  {\r\n    id: 'category',\r\n    numeric: false,\r\n    label: 'Kategori',\r\n  },\r\n  {\r\n    id: 'service',\r\n    numeric: false,\r\n    label: 'Layanan',\r\n  },\r\n  {\r\n    id: 'product',\r\n    numeric: false,\r\n    label: 'Produk',\r\n  },\r\n  {\r\n    id: 'created_at',\r\n    numeric: false,\r\n    type:'datetime',\r\n    label: 'Tanggal Pengajuan',\r\n  },\r\n  {\r\n    id: 'status',\r\n    numeric: false,\r\n    label: 'Status Pinjaman',\r\n  },\r\n\r\n]\r\nclass PermintaanPinjaman extends React.Component {\r\n  _isMounted = false\r\n\r\n  state = {\r\n    rows: [],detailNasabah:{}, searchRows:'',paging:true,\r\n    page: 1,\r\n    rowsPerPage: 10,\r\n    isEdit: false,\r\n    editIndex:Number,\r\n    udahdiklik : false,\r\n    total_data:0,\r\n    last_page:1,\r\n    loading:true,\r\n    errorMessage:''\r\n  };\r\n\r\n  //-----------------------------------NIKO FUNCTION-------------------------------------------------------------\r\n  \r\n  componentDidMount(){\r\n    this._isMounted=true\r\n    this._isMounted && this.getPermintaanPinjamanBtn()\r\n  }\r\n  componentWillUnmount(){\r\n    this._isMounted=false\r\n  }\r\n  UNSAFE_componentWillReceiveProps(newProps){\r\n    this.setState({errorMessage:newProps.error})\r\n  }\r\n\r\n  getPermintaanPinjamanBtn = async function () {\r\n    let params={ \r\n      status:\"processing\",\r\n      rows:this.state.rowsPerPage,\r\n      page:this.state.page\r\n    }\r\n    let hasil = this.state.searchRows\r\n    if(hasil){\r\n      //search function\r\n      params.search_all = hasil\r\n    }\r\n\r\n    const data = await getPermintaanPinjamanFunction(params)\r\n    const pinjamanList = data.loanRequest && data.loanRequest.data\r\n\r\n    for (const key in pinjamanList){\r\n      pinjamanList[key].category = pinjamanList[key].category===\"account_executive\"?\"Account Executive\" :pinjamanList[key].category === \"agent\"?\"Agent\":\"Personal\"\r\n      pinjamanList[key].status = pinjamanList[key].status ===\"approved\"?\"Diterima\": pinjamanList[key].status===\"rejected\"?\"Ditolak\":\"Dalam Proses\"\r\n      pinjamanList[key].service =  pinjamanList[key].service.toString()\r\n      pinjamanList[key].product =  pinjamanList[key].product.toString()\r\n    }\r\n    if(data){\r\n      if(!data.error){\r\n        this._isMounted && this.setState({loading:false,rows:data.loanRequest.data,rowsPerPage:data.loanRequest.rows,total_data:data.loanRequest.total_data,last_page:data.loanRequest.last_page,page:data.loanRequest.current_page})\r\n      }else{\r\n        this._isMounted && this.setState({errorMessage:data.error})\r\n      }\r\n    }\r\n  }\r\n\r\n  onBtnSearch = (e)=>{\r\n      this.setState({loading:true,searchRows:e.target.value,page:1},()=>{\r\n        if(this.state.paging){\r\n          this.getPermintaanPinjamanBtn()\r\n        }\r\n      \r\n      })\r\n  }\r\n\r\n  onChangePage = (current) => {\r\n    this.setState({loading:true,page:current},\r\n      ()=>{\r\n        if(this.state.paging){\r\n          this.getPermintaanPinjamanBtn()\r\n        }\r\n      \r\n      })\r\n  }\r\n\r\n  render() {\r\n   \r\n  if(getTokenClient() && getTokenAuth()){\r\n      \r\n    return (\r\n        <div style={{padding:0}}>\r\n         \r\n        < TableComponent\r\n            search={\r\n              {\r\n                value: this.state.searchRows,\r\n                label: 'Search ID Nasabah, Nama Nasabah',\r\n                function: this.onBtnSearch,\r\n              }\r\n            }\r\n            errorMessage={this.state.errorMessage}\r\n            title={'Permintaan Pinjaman - List'}\r\n            id={\"id\"}\r\n            paging={this.state.paging}\r\n            loading={this.state.loading}\r\n            columnData={columnDataUser}\r\n            data={this.state.rows}\r\n            page={this.state.page}\r\n            rowsPerPage={this.state.rowsPerPage}\r\n            totalData={this.state.total_data}\r\n            onChangePage={this.onChangePage}             \r\n            permissionDetail={ checkPermission('lender_loan_request_detail') ? '/permintaanpinjamanDetail/' : null}\r\n        /> \r\n\r\n        \r\n        </div>\r\n      \r\n\r\n    );\r\n  \r\n  \r\n\r\n}\r\nelse if(getTokenAuth()){\r\n  return  <Redirect to='/login' />\r\n}\r\n    \r\n  }\r\n}\r\n\r\nconst mapStateToProp = (state)=>{\r\n  return{\r\n     \r\n      role: state.user.role,\r\n      id: state.user.id\r\n     \r\n  }\r\n  \r\n}\r\nexport default connect (mapStateToProp)(PermintaanPinjaman) ;\r\n"]},"metadata":{},"sourceType":"module"}