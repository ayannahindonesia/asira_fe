{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pc\\\\Desktop\\\\asira_fe\\\\src\\\\components\\\\permintaanPinjaman\\\\permintaanPinjaman.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\nimport './../../support/css/pagination.css';\nimport { getPermintaanPinjamanFunction } from './saga';\nimport Moment from 'react-moment';\nimport 'moment/locale/id';\nimport { getTokenClient, getTokenAuth } from '../index/token';\nimport SearchBar from './../subComponent/SearchBar';\nimport TableComponent from './../subComponent/TableComponent';\nimport { checkPermission } from '../global/globalFunction';\nconst columnDataUser = [{\n  id: 'id',\n  numeric: false,\n  label: 'ID Pinjaman'\n}, {\n  id: 'borrower_name',\n  numeric: false,\n  label: 'Nama Nasabah'\n}, {\n  id: 'category',\n  numeric: false,\n  label: 'Kategori'\n}, {\n  id: 'service',\n  numeric: false,\n  label: 'Layanan'\n}, {\n  id: 'product',\n  numeric: false,\n  label: 'Produk'\n}, {\n  id: 'created_time',\n  numeric: false,\n  label: 'Tanggal Pengajuan'\n}, {\n  id: 'status',\n  numeric: false,\n  label: 'Status Pinjaman'\n}];\n\nclass PermintaanPinjaman extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      rows: [],\n      detailNasabah: {},\n      searchRows: '',\n      paging: true,\n      page: 1,\n      rowsPerPage: 10,\n      isEdit: false,\n      editIndex: Number,\n      udahdiklik: false,\n      total_data: 0,\n      last_page: 1,\n      loading: true,\n      errorMessage: ''\n    };\n    this._isMount = false;\n\n    this.getPermintaanPinjamanBtn = async function () {\n      let params = {\n        status: \"processing\",\n        rows: this.state.rowsPerPage,\n        page: this.state.page\n      };\n      let hasil = this.state.searchRows;\n\n      if (hasil) {\n        //search function\n        params.search_all = hasil;\n      }\n\n      const data = await getPermintaanPinjamanFunction(params);\n      const pinjamanList = data.loanRequest && data.loanRequest.data;\n\n      for (const key in pinjamanList) {\n        pinjamanList[key].category = pinjamanList[key].category === \"account_executive\" ? \"Account Executive\" : pinjamanList[key].category === \"agent\" ? \"Agent\" : \"Personal\";\n        pinjamanList[key].status = pinjamanList[key].status === \"approved\" ? \"Diterima\" : pinjamanList[key].status === \"rejected\" ? \"Ditolak\" : \"Dalam Proses\";\n        pinjamanList[key].service = pinjamanList[key].service.toString();\n        pinjamanList[key].product = pinjamanList[key].product.toString();\n        pinjamanList[key].created_time = React.createElement(Moment, {\n          date: pinjamanList[key].created_time,\n          format: \" DD  MMMM  YYYY\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97\n          },\n          __self: this\n        });\n      }\n\n      if (data) {\n        if (!data.error) {\n          this.setState({\n            loading: false,\n            rows: data.loanRequest.data,\n            rowsPerPage: data.loanRequest.rows,\n            total_data: data.loanRequest.total_data,\n            last_page: data.loanRequest.last_page,\n            page: data.loanRequest.current_page\n          });\n        } else {\n          this.setState({\n            errorMessage: data.error\n          });\n        }\n      }\n    };\n\n    this.onBtnSearch = e => {\n      this.setState({\n        loading: true,\n        searchRows: e.target.value,\n        page: 1\n      }, () => {\n        if (this.state.paging) {\n          this.getPermintaanPinjamanBtn();\n        }\n      });\n    };\n\n    this.onChangePage = current => {\n      this.setState({\n        loading: true,\n        page: current\n      }, () => {\n        if (this.state.paging) {\n          this.getPermintaanPinjamanBtn();\n        }\n      });\n    };\n  }\n\n  componentDidMount() {\n    this._isMount = true;\n    this.getPermintaanPinjamanBtn();\n  }\n\n  componentWillUnmount() {\n    this._isMount = false;\n  }\n\n  UNSAFE_componentWillReceiveProps(newProps) {\n    this.setState({\n      errorMessage: newProps.error\n    });\n  }\n\n  render() {\n    if (getTokenClient() && getTokenAuth()) {\n      return React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        className: \"mt-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, \"Permintaan Pinjaman - List\")), React.createElement(\"div\", {\n        className: \"col-8\",\n        style: {\n          color: \"red\",\n          fontSize: \"15px\",\n          textAlign: 'left'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, this.state.errorMessage), React.createElement(\"div\", {\n        className: \"col-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, React.createElement(SearchBar, {\n        id: \"search\",\n        value: this.state.searchRows,\n        placeholder: \"Search ID Nasabah, Nama Nasabah...\",\n        onChange: this.onBtnSearch,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }))), React.createElement(TableComponent, {\n        id: \"id\",\n        paging: this.state.paging,\n        loading: this.state.loading,\n        columnData: columnDataUser,\n        data: this.state.rows,\n        page: this.state.page,\n        rowsPerPage: this.state.rowsPerPage,\n        totalData: this.state.total_data,\n        onChangePage: this.onChangePage,\n        permissionDetail: checkPermission('lender_loan_request_detail') ? '/permintaanpinjamanDetail/' : null,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }));\n    } else if (getTokenAuth()) {\n      return React.createElement(Redirect, {\n        to: \"/login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      });\n    }\n  }\n\n}\n\nconst mapStateToProp = state => {\n  return {\n    role: state.user.role,\n    id: state.user.id\n  };\n};\n\nexport default connect(mapStateToProp)(PermintaanPinjaman);","map":{"version":3,"sources":["C:/Users/pc/Desktop/asira_fe/src/components/permintaanPinjaman/permintaanPinjaman.js"],"names":["React","connect","Redirect","getPermintaanPinjamanFunction","Moment","getTokenClient","getTokenAuth","SearchBar","TableComponent","checkPermission","columnDataUser","id","numeric","label","PermintaanPinjaman","Component","state","rows","detailNasabah","searchRows","paging","page","rowsPerPage","isEdit","editIndex","Number","udahdiklik","total_data","last_page","loading","errorMessage","_isMount","getPermintaanPinjamanBtn","params","status","hasil","search_all","data","pinjamanList","loanRequest","key","category","service","toString","product","created_time","error","setState","current_page","onBtnSearch","e","target","value","onChangePage","current","componentDidMount","componentWillUnmount","UNSAFE_componentWillReceiveProps","newProps","render","color","fontSize","textAlign","mapStateToProp","role","user"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport {connect } from 'react-redux'\r\nimport { Redirect } from 'react-router-dom'\r\nimport './../../support/css/pagination.css'\r\nimport {getPermintaanPinjamanFunction} from './saga'\r\nimport Moment from 'react-moment'\r\nimport 'moment/locale/id';\r\nimport { getTokenClient, getTokenAuth } from '../index/token';\r\nimport SearchBar from './../subComponent/SearchBar';\r\nimport TableComponent from './../subComponent/TableComponent'\r\nimport { checkPermission } from '../global/globalFunction';\r\nconst columnDataUser = [\r\n  {\r\n      id: 'id',\r\n      numeric: false,\r\n      label: 'ID Pinjaman',\r\n  },\r\n  {\r\n      id: 'borrower_name',\r\n      numeric: false,\r\n      label: 'Nama Nasabah',\r\n  },\r\n  {\r\n      id: 'category',\r\n      numeric: false,\r\n      label: 'Kategori',\r\n  },\r\n    {\r\n      id: 'service',\r\n      numeric: false,\r\n      label: 'Layanan',\r\n    },\r\n    {\r\n    id: 'product',\r\n    numeric: false,\r\n    label: 'Produk',\r\n    },\r\n    {\r\n    id: 'created_time',\r\n    numeric: false,\r\n    label: 'Tanggal Pengajuan',\r\n    },\r\n    {\r\n      id: 'status',\r\n      numeric: false,\r\n      label: 'Status Pinjaman',\r\n    },\r\n\r\n]\r\nclass PermintaanPinjaman extends React.Component {\r\n  state = {\r\n    rows: [],detailNasabah:{}, searchRows:'',paging:true,\r\n    page: 1,\r\n    rowsPerPage: 10,\r\n    isEdit: false,\r\n    editIndex:Number,\r\n    udahdiklik : false,\r\n    total_data:0,\r\n    last_page:1,\r\n    loading:true,\r\n    errorMessage:''\r\n  };\r\n\r\n  //-----------------------------------NIKO FUNCTION-------------------------------------------------------------\r\n  _isMount = false\r\n  componentDidMount(){\r\n    this._isMount=true\r\n    this.getPermintaanPinjamanBtn()\r\n  }\r\n  componentWillUnmount(){\r\n    this._isMount=false\r\n  }\r\n  UNSAFE_componentWillReceiveProps(newProps){\r\n    this.setState({errorMessage:newProps.error})\r\n  }\r\n\r\n  getPermintaanPinjamanBtn = async function () {\r\n    let params={ \r\n      status:\"processing\",\r\n      rows:this.state.rowsPerPage,\r\n      page:this.state.page\r\n    }\r\n    let hasil = this.state.searchRows\r\n    if(hasil){\r\n      //search function\r\n      params.search_all = hasil\r\n    }\r\n\r\n    const data = await getPermintaanPinjamanFunction(params)\r\n    const pinjamanList = data.loanRequest && data.loanRequest.data\r\n\r\n    for (const key in pinjamanList){\r\n      pinjamanList[key].category = pinjamanList[key].category===\"account_executive\"?\"Account Executive\" :pinjamanList[key].category === \"agent\"?\"Agent\":\"Personal\"\r\n      pinjamanList[key].status = pinjamanList[key].status ===\"approved\"?\"Diterima\": pinjamanList[key].status===\"rejected\"?\"Ditolak\":\"Dalam Proses\"\r\n      pinjamanList[key].service =  pinjamanList[key].service.toString()\r\n      pinjamanList[key].product =  pinjamanList[key].product.toString()\r\n      pinjamanList[key].created_time =<Moment date={pinjamanList[key].created_time } format=\" DD  MMMM  YYYY\" />\r\n    }\r\n    if(data){\r\n      if(!data.error){\r\n        this.setState({loading:false,rows:data.loanRequest.data,rowsPerPage:data.loanRequest.rows,total_data:data.loanRequest.total_data,last_page:data.loanRequest.last_page,page:data.loanRequest.current_page})\r\n      }else{\r\n        this.setState({errorMessage:data.error})\r\n      }\r\n    }\r\n  }\r\n\r\n  onBtnSearch = (e)=>{\r\n      this.setState({loading:true,searchRows:e.target.value,page:1},()=>{\r\n        if(this.state.paging){\r\n          this.getPermintaanPinjamanBtn()\r\n        }\r\n      \r\n      })\r\n  }\r\n\r\n  onChangePage = (current) => {\r\n    this.setState({loading:true,page:current},\r\n      ()=>{\r\n        if(this.state.paging){\r\n          this.getPermintaanPinjamanBtn()\r\n        }\r\n      \r\n      })\r\n  }\r\n\r\n  render() {\r\n   \r\n  if(getTokenClient() && getTokenAuth()){\r\n      \r\n    return (\r\n        <div className=\"container\">\r\n          <div className=\"row\">\r\n         <div className=\"col-12\">\r\n                        <h2 className=\"mt-3\">Permintaan Pinjaman - List</h2>\r\n                        </div>\r\n                        <div className=\"col-8\" style={{color:\"red\",fontSize:\"15px\",textAlign:'left'}}>\r\n                            {this.state.errorMessage}\r\n                        </div>  \r\n                        <div className=\"col-4\">\r\n                            <SearchBar\r\n                                id=\"search\"\r\n                                value={this.state.searchRows}\r\n                                placeholder=\"Search ID Nasabah, Nama Nasabah...\"\r\n                                onChange={this.onBtnSearch} \r\n                            />\r\n          </div>\r\n          </div>\r\n        < TableComponent\r\n            id={\"id\"}\r\n            paging={this.state.paging}\r\n            loading={this.state.loading}\r\n            columnData={columnDataUser}\r\n            data={this.state.rows}\r\n            page={this.state.page}\r\n            rowsPerPage={this.state.rowsPerPage}\r\n            totalData={this.state.total_data}\r\n            onChangePage={this.onChangePage}             \r\n            permissionDetail={ checkPermission('lender_loan_request_detail') ? '/permintaanpinjamanDetail/' : null}\r\n        /> \r\n\r\n        \r\n        </div>\r\n      \r\n\r\n    );\r\n  \r\n  \r\n\r\n}\r\nelse if(getTokenAuth()){\r\n  return  <Redirect to='/login' />\r\n}\r\n    \r\n  }\r\n}\r\n\r\nconst mapStateToProp = (state)=>{\r\n  return{\r\n     \r\n      role: state.user.role,\r\n      id: state.user.id\r\n     \r\n  }\r\n  \r\n}\r\nexport default connect (mapStateToProp)(PermintaanPinjaman) ;\r\n"]},"metadata":{},"sourceType":"module"}